/* Defines */
:root {
  --fntMono: "IBM Plex Mono", monospace;
  --fntSans: "IBM Plex Sans", sans-serif;
  --fntBaseSize: 14px;
}

/* Global overrides */
* { box-sizing: border-box; scrollbar-color: #333 #202020; }
::-webkit-scrollbar { background-color: #202020; width: 8px; }
::-webkit-scrollbar-thumb { background-color: #333; }

button { display: block; border: none; margin: 0; padding: 0; background-color: transparent; }

& input[type=text] {
  box-shadow: none; -webkit-box-shadow: none; -webkit-appearance: none; outline: none;
  -webkit-border-radius: 0px; border-radius: 0; border: none;
  font-family: inherit; color: #ccc; background-color: #202020;
}

/* Layout, specifics */
html, body {
  height: 100%; width: 100%; margin: 0; padding: 0;
}
html { background-color: black; padding: 32px; }
body {
  font-family: var(--fntMono); font-size: var(--fntBaseSize);
  color: #ccc;
}
footer {
  position: fixed; bottom: 0; right: 0; left: 0; padding: 0 32px 8px 32px;
  font-family: var(--fntSans); font-size: 13px; color: #888;
  & span { display: block; float: right; }
}
.top-ctrl {
  position: fixed; top: 32px; right: 32px; left: 32px; height: 48px;
  display: flex;
  background-color: #202020;
  font-family: var(--fntSans);
  & button#btnPlayPause {
    margin: 4px 12px 4px 4px; padding: 2px 0 0 0; width: 40px; height: 40px;
    border: 2px solid #666; border-radius: 24px;
    &:hover { background-color: #383838; }
    & svg { width: 32px; height: 32px; }
    & svg * { stroke: #666; }
    &.on svg * { stroke: #ef9336; filter: drop-shadow(2px 2px 22px #ef9336); }
  }
  & button.small {
    margin: 8px 3px 0 0; padding: 3px; width: 32px; height: 32px;
    & svg { width: 26px; height: 26px; }
    & svg * { stroke: #9f7e52; }
    &:hover svg * { stroke: #d08e4c; }
    &[disabled] svg * { stroke: #444; }
  }
  & button#btnLibrary {
    width: 40px; height: 40px; margin: 4px 8px;
    & svg { width: 100%; height: 100%; }
    & svg * { stroke: #9f7e52; }
    &:hover svg * { stroke: #d08e4c; }
  }
  & #expander { flex-grow: 1; }
  & #pnlTitle {
    flex-grow: 1; max-width: 800px; margin-left: 4px;
    display: flex; align-items: center;
    font-size: 18px;
    & span { display: block; padding: 3px 0 0 5px; visibility: hidden; }
    & span.visible { visibility: visible;}
    & .titleBorder {
      display: flex;
      border: 1px solid transparent;
      border-radius: 4px; padding: 4px 4px 4px 0; width: 100%;
      background-color: #202020;
    }
    &:focus-within .titleBorder { border: 1px solid #ccc; }
    & input[type=text] {
      display: block; flex-grow: 1;
      font-size: 18px; color: #aaa; font-weight: 600;
      &:focus { color: #ccc; }
    }
    & button {
      width: 26px; height: 26px;
      visibility: hidden;
      & svg { display: block; width: 100%; height: 100%; }
      &.cancel svg * { stroke: #9f4861; }
      &.cancel:hover svg * { stroke: #e74776; }
      &.ok svg * { stroke: #5f7558; }
      &.ok:hover svg * { stroke: #85b973; }
    }
    &:focus-within button { visibility: visible; }
  }
}
.csound-log {
  position: fixed; top: 96px; right: 32px; bottom: 32px;
  width: calc(50% - 32px - 16px); padding: 8px;
  white-space: pre; overflow-x: auto;
  background-color: #202020;
  font-size: var(--fntBaseSize);
  color: #8d8b76;
  & .error { color: #b63939; }
}

.editor {
  position: fixed; top: 96px; right: 32px; left: 32px; bottom: 32px;
  width: calc(50% - 32px);
  background-color: #202020;
  & #editorHost { height: 100%; }
}

/* Editor styling */
.cm-editor {
  height: 100%; background-color: #202020;
  & .cm-scroller { font-family: var(--fntMono); }
  & .cm-gutters { background-color: transparent; border: none; }
  & .cm-activeLineGutter { background-color: #303030; }
  & .cm-content { background-color: transparent; }
  & .cm-activeLine { background-color: #ffffff10; }
  & .cm-cursor { border-left: 1px solid #aaa; border-right: 1px solid #aaa; }
  & .cm-selectionMatch { background-color: unset; }
  & .cm-panels { background-color: transparent; }
  & .cm-panels.cm-panels-bottom {
    border-top: 2px solid #444; padding: 3px; height: 24px;
  }
  & .cm-panels p { color: #ccc; }
  & .cm-highlight-bad { background: rgba(255, 128, 128, 0.3); }
  & .cm-highlight-good { background: rgba(128, 255, 128, 0.3); }
}
#editorHost .cm-panels p { color: #ccc; }

.cm-editor, .cm-editor.cm-focused {
  & .cm-scroller .cm-selectionLayer .cm-selectionBackground { background-color: #90909044; }
}

/* CSOUND syntax styling */
.cm-csound-global-var {font-weight: 600;}
.cm-csound-define {color: #d9cfae; font-weight: 600;}
.cm-csound-i-rate-var {color: #b1cca8;}
.cm-csound-opcode {color: #8bb3e0; font-weight: 600;}
.cm-csound-global-constant {color: #b1cca8;}
.cm-csound-a-rate-var {color: #cc8397;}
.cm-csound-k-rate-var {color: #d3a591;}
.cm-csound-s-rate-var {color: #b1cca8;}
.cm-csound-f-rate-var {color: #a0bfcb;}
.cm-csound-p-field-var {color: #a9c0a3; font-weight: 600;}
.cm-csound-xml-tag {color: #698d72;}
.cm-csound-comment {color: #979897; }



/* ibm-plex-mono-regular - latin */
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 400;
  src: url('fonts/ibm-plex-mono-v19-latin-regular.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
/* ibm-plex-mono-600 - latin */
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 600;
  src: url('fonts/ibm-plex-mono-v19-latin-600.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
/* ibm-plex-sans-regular - latin */
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: 'IBM Plex Sans';
  font-style: normal;
  font-weight: 400;
  src: url('fonts/ibm-plex-sans-v19-latin-regular.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
/* ibm-plex-sans-italic - latin */
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: 'IBM Plex Sans';
  font-style: italic;
  font-weight: 400;
  src: url('fonts/ibm-plex-sans-v19-latin-italic.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
/* ibm-plex-sans-600 - latin */
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: 'IBM Plex Sans';
  font-style: normal;
  font-weight: 600;
  src: url('fonts/ibm-plex-sans-v19-latin-600.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
/* ibm-plex-sans-600italic - latin */
@font-face {
  font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
  font-family: 'IBM Plex Sans';
  font-style: italic;
  font-weight: 600;
  src: url('fonts/ibm-plex-sans-v19-latin-600italic.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
}
