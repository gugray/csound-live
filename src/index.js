var e,t,s={},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return s[e](r,r.exports,n),r.exports}t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(s,i){if(1&i&&(s=this(s)),8&i)return s;if("object"==typeof s&&s){if(4&i&&s.__esModule)return s;if(16&i&&"function"==typeof s.then)return s}var r=Object.create(null);n.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&s;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>s[e]));return o.default=()=>s,n.d(r,o),r},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.d(r,{y:()=>Ya,ll:()=>el,eR:()=>Ka,GD:()=>Ha});const o=1024;let a=0;class l{constructor(e,t){this.from=e,this.to=t}}class h{constructor(e={}){this.id=a++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=d.match(e)),t=>{let s=e(t);return void 0===s?null:[this,s]}}}h.closedBy=new h({deserialize:e=>e.split(" ")}),h.openedBy=new h({deserialize:e=>e.split(" ")}),h.group=new h({deserialize:e=>e.split(" ")}),h.contextHash=new h({perNode:!0}),h.lookAhead=new h({perNode:!0}),h.mounted=new h({perNode:!0});const c=Object.create(null);class d{constructor(e,t,s,i=0){this.name=e,this.props=t,this.id=s,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):c,s=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),i=new d(e.name||"",t,e.id,s);if(e.props)for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(h.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let s in e)for(let i of s.split(" "))t[i]=e[s];return e=>{for(let s=e.prop(h.group),i=-1;i<(s?s.length:0);i++){let n=t[i<0?e.name:s[i]];if(n)return n}}}}d.none=new d("",Object.create(null),0,8);class p{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let s of this.types){let i=null;for(let t of e){let e=t(s);e&&(i||(i=Object.assign({},s.props)),i[e[0].id]=e[1])}t.push(i?new d(s.name,i,s.id,s.flags):s)}return new p(t)}}const f=new WeakMap,u=new WeakMap;var m;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(m||(m={}));class g{constructor(e,t,s,i,n){if(this.type=e,this.children=t,this.positions=s,this.length=i,this.props=null,n&&n.length){this.props=Object.create(null);for(let[e,t]of n)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(h.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let s=e.toString();s&&(t&&(t+=","),t+=s)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new T(this.topNode,e)}cursorAt(e,t=0,s=0){let i=f.get(this)||this.topNode,n=new T(i);return n.moveTo(e,t),f.set(this,n._tree),n}get topNode(){return new O(this,0,0,null)}resolve(e,t=0){let s=x(f.get(this)||this.topNode,e,t,!1);return f.set(this,s),s}resolveInner(e,t=0){let s=x(u.get(this)||this.topNode,e,t,!0);return u.set(this,s),s}iterate(e){let{enter:t,leave:s,from:i=0,to:n=this.length}=e;for(let r=this.cursor((e.mode||0)|m.IncludeAnonymous);;){let e=!1;if(r.from<=n&&r.to>=i&&(r.type.isAnonymous||!1!==t(r))){if(r.firstChild())continue;e=!0}for(;e&&s&&!r.type.isAnonymous&&s(r),!r.nextSibling();){if(!r.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Q(d.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,s)=>new g(this.type,e,t,s,this.propValues)),e.makeTree||((e,t,s)=>new g(d.none,e,t,s)))}static build(e){return function(e){var t;let{buffer:s,nodeSet:i,maxBufferLength:n=o,reused:r=[],minRepeatType:a=i.types.length}=e,l=Array.isArray(s)?new k(s,s.length):s,c=i.types,d=0,p=0;function f(e,t,s,o,k){let{id:v,start:x,end:O,size:w}=l,S=p;for(;w<0;){if(l.next(),-1==w){let t=r[v];return s.push(t),void o.push(x-e)}if(-3==w)return void(d=v);if(-4==w)return void(p=v);throw new RangeError(`Unrecognized record size: ${w}`)}let _,P,T=c[v],R=x-e;if(O-x<=n&&(P=function(e,t){let s=l.fork(),i=0,r=0,o=0,h=s.end-n,c={size:0,start:0,skip:0};e:for(let n=s.pos-e;s.pos>n;){let e=s.size;if(s.id==t&&e>=0){c.size=i,c.start=r,c.skip=o,o+=4,i+=4,s.next();continue}let l=s.pos-e;if(e<0||l<n||s.start<h)break;let d=s.id>=a?4:0,p=s.start;for(s.next();s.pos>l;){if(s.size<0){if(-3!=s.size)break e;d+=4}else s.id>=a&&(d+=4);s.next()}r=p,i+=e,o+=d}return(t<0||i==e)&&(c.size=i,c.start=r,c.skip=o),c.size>4?c:void 0}(l.pos-t,k))){let t=new Uint16Array(P.size-P.skip),s=l.pos-P.size,n=t.length;for(;l.pos>s;)n=b(P.start,t,n);_=new y(t,O-P.start,i),R=P.start-e}else{let e=l.pos-w;l.next();let t=[],s=[],i=v>=a?v:-1,r=0,o=O;for(;l.pos>e;)i>=0&&l.id==i&&l.size>=0?(l.end<=o-n&&(u(t,s,x,r,l.end,o,i,S),r=t.length,o=l.end),l.next()):f(x,e,t,s,i);if(i>=0&&r>0&&r<t.length&&u(t,s,x,r,x,o,i,S),t.reverse(),s.reverse(),i>-1&&r>0){let e=function(e){return(t,s,i)=>{let n,r,o=0,a=t.length-1;if(a>=0&&(n=t[a])instanceof g){if(!a&&n.type==e&&n.length==i)return n;(r=n.prop(h.lookAhead))&&(o=s[a]+n.length+r)}return m(e,t,s,i,o)}}(T);_=Q(T,t,s,0,t.length,0,O-x,e,e)}else _=m(T,t,s,O-x,S-O)}s.push(_),o.push(R)}function u(e,t,s,n,r,o,a,l){let h=[],c=[];for(;e.length>n;)h.push(e.pop()),c.push(t.pop()+s-r);e.push(m(i.types[a],h,c,o-r,l-o)),t.push(r-s)}function m(e,t,s,i,n=0,r){if(d){let e=[h.contextHash,d];r=r?[e].concat(r):[e]}if(n>25){let e=[h.lookAhead,n];r=r?[e].concat(r):[e]}return new g(e,t,s,i,r)}function b(e,t,s){let{id:i,start:n,end:r,size:o}=l;if(l.next(),o>=0&&i<a){let a=s;if(o>4){let i=l.pos-(o-4);for(;l.pos>i;)s=b(e,t,s)}t[--s]=a,t[--s]=r-e,t[--s]=n-e,t[--s]=i}else-3==o?d=i:-4==o&&(p=i);return s}let v=[],x=[];for(;l.pos>0;)f(e.start||0,e.bufferStart||0,v,x,-1);let O=null!==(t=e.length)&&void 0!==t?t:v.length?x[0]+v[0].length:0;return new g(c[e.topID],v.reverse(),x.reverse(),O)}(e)}}g.empty=new g(d.none,[],[],0);class k{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new k(this.buffer,this.index)}}class y{constructor(e,t,s){this.buffer=e,this.length=t,this.set=s}get type(){return d.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],s=this.buffer[e+3],i=this.set.types[t],n=i.name;if(/\W/.test(n)&&!i.isError&&(n=JSON.stringify(n)),s==(e+=4))return n;let r=[];for(;e<s;)r.push(this.childString(e)),e=this.buffer[e+3];return n+"("+r.join(",")+")"}findChild(e,t,s,i,n){let{buffer:r}=this,o=-1;for(let a=e;a!=t&&!(b(n,i,r[a+1],r[a+2])&&(o=a,s>0));a=r[a+3]);return o}slice(e,t,s){let i=this.buffer,n=new Uint16Array(t-e),r=0;for(let o=e,a=0;o<t;){n[a++]=i[o++],n[a++]=i[o++]-s;let t=n[a++]=i[o++]-s;n[a++]=i[o++]-e,r=Math.max(r,t)}return new y(n,r,this.set)}}function b(e,t,s,i){switch(e){case-2:return s<t;case-1:return i>=t&&s<t;case 0:return s<t&&i>t;case 1:return s<=t&&i>t;case 2:return i>t;case 4:return!0}}function v(e,t){let s=e.childBefore(t);for(;s;){let t=s.lastChild;if(!t||t.to!=s.to)break;t.type.isError&&t.from==t.to?(e=s,s=t.prevSibling):s=t}return e}function x(e,t,s,i){for(var n;e.from==e.to||(s<1?e.from>=t:e.from>t)||(s>-1?e.to<=t:e.to<t);){let t=!i&&e instanceof O&&e.index<0?null:e.parent;if(!t)return e;e=t}let r=i?0:m.IgnoreOverlays;if(i)for(let i=e,o=i.parent;o;i=o,o=i.parent)i instanceof O&&i.index<0&&(null===(n=o.enter(t,s,r))||void 0===n?void 0:n.from)!=i.from&&(e=o);for(;;){let i=e.enter(t,s,r);if(!i)return e;e=i}}class O{constructor(e,t,s,i){this._tree=e,this.from=t,this.index=s,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,s,i,n=0){for(let r=this;;){for(let{children:o,positions:a}=r._tree,l=t>0?o.length:-1;e!=l;e+=t){let l=o[e],c=a[e]+r.from;if(b(i,s,c,c+l.length))if(l instanceof y){if(n&m.ExcludeBuffers)continue;let o=l.findChild(0,l.buffer.length,t,s-c,i);if(o>-1)return new P(new _(r,l,e,c),null,o)}else if(n&m.IncludeAnonymous||!l.type.isAnonymous||R(l)){let o;if(!(n&m.IgnoreMounts)&&l.props&&(o=l.prop(h.mounted))&&!o.overlay)return new O(o.tree,c,e,r);let a=new O(l,c,e,r);return n&m.IncludeAnonymous||!a.type.isAnonymous?a:a.nextChild(t<0?l.children.length-1:0,t,s,i)}}if(n&m.IncludeAnonymous||!r.type.isAnonymous)return null;if(e=r.index>=0?r.index+t:t<0?-1:r._parent._tree.children.length,r=r._parent,!r)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,s=0){let i;if(!(s&m.IgnoreOverlays)&&(i=this._tree.prop(h.mounted))&&i.overlay){let s=e-this.from;for(let{from:e,to:n}of i.overlay)if((t>0?e<=s:e<s)&&(t<0?n>=s:n>s))return new O(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,s)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new T(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return x(this,e,t,!1)}resolveInner(e,t=0){return x(this,e,t,!0)}enterUnfinishedNodesBefore(e){return v(this,e)}getChild(e,t=null,s=null){let i=w(this,e,t,s);return i.length?i[0]:null}getChildren(e,t=null,s=null){return w(this,e,t,s)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return S(this,e)}}function w(e,t,s,i){let n=e.cursor(),r=[];if(!n.firstChild())return r;if(null!=s)for(;!n.type.is(s);)if(!n.nextSibling())return r;for(;;){if(null!=i&&n.type.is(i))return r;if(n.type.is(t)&&r.push(n.node),!n.nextSibling())return null==i?r:[]}}function S(e,t,s=t.length-1){for(let i=e.parent;s>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(t[s]&&t[s]!=i.name)return!1;s--}}return!0}class _{constructor(e,t,s,i){this.parent=e,this.buffer=t,this.index=s,this.start=i}}class P{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,s){this.context=e,this._parent=t,this.index=s,this.type=e.buffer.set.types[e.buffer.buffer[s]]}child(e,t,s){let{buffer:i}=this.context,n=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,s);return n<0?null:new P(this.context,this,n)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,s=0){if(s&m.ExcludeBuffers)return null;let{buffer:i}=this.context,n=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return n<0?null:new P(this.context,this,n)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new P(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new P(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new T(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:s}=this.context,i=this.index+4,n=s.buffer[this.index+3];if(n>i){let r=s.buffer[this.index+1];e.push(s.slice(i,n,r)),t.push(0)}return new g(this.type,e,t,this.to-this.from)}resolve(e,t=0){return x(this,e,t,!1)}resolveInner(e,t=0){return x(this,e,t,!0)}enterUnfinishedNodesBefore(e){return v(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,s=null){let i=w(this,e,t,s);return i.length?i[0]:null}getChildren(e,t=null,s=null){return w(this,e,t,s)}get node(){return this}matchContext(e){return S(this,e)}}class T{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof O)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:s,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=s+i.buffer[e+1],this.to=s+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof O?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,s){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,s,this.mode));let{buffer:i}=this.buffer,n=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,s);return!(n<0)&&(this.stack.push(this.index),this.yieldBuf(n))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,s=this.mode){return this.buffer?!(s&m.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,s))}parent(){if(!this.buffer)return this.yieldNode(this.mode&m.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&m.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,s=this.stack.length-1;if(e<0){let e=s<0?0:this.stack[s]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(s<0?t.buffer.length:t.buffer[this.stack[s]+3]))return this.yieldBuf(e)}return s<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,s,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(i.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:s}=i)}else({index:t,_parent:s}=this._tree);for(;s;({index:t,_parent:s}=s))if(t>-1)for(let i=t+e,n=e<0?-1:s._tree.children.length;i!=n;i+=e){let e=s._tree.children[i];if(this.mode&m.IncludeAnonymous||e instanceof y||!e.type.isAnonymous||R(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,s=0;if(e&&e.context==this.buffer)e:for(let i=this.index,n=this.stack.length;n>=0;){for(let r=e;r;r=r._parent)if(r.index==i){if(i==this.index)return r;t=r,s=n+1;break e}i=this.stack[--n]}for(let e=s;e<this.stack.length;e++)t=new P(this.buffer,t,this.stack[e]);return this.bufferNode=new P(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let s=0;;){let i=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){s++;continue}this.type.isAnonymous||(i=!0)}for(;i&&t&&t(this),i=this.type.isAnonymous,!this.nextSibling();){if(!s)return;this.parent(),s--,i=!0}}}matchContext(e){if(!this.buffer)return S(this.node,e);let{buffer:t}=this.buffer,{types:s}=t.set;for(let i=e.length-1,n=this.stack.length-1;i>=0;n--){if(n<0)return S(this.node,e,i);let r=s[t.buffer[this.stack[n]]];if(!r.isAnonymous){if(e[i]&&e[i]!=r.name)return!1;i--}}return!0}}function R(e){return e.children.some((e=>e instanceof y||!e.type.isAnonymous||R(e)))}const A=new WeakMap;function C(e,t){if(!e.isAnonymous||t instanceof y||t.type!=e)return 1;let s=A.get(t);if(null==s){s=1;for(let i of t.children){if(i.type!=e||!(i instanceof g)){s=1;break}s+=C(e,i)}A.set(t,s)}return s}function Q(e,t,s,i,n,r,o,a,l){let h=0;for(let s=i;s<n;s++)h+=C(e,t[s]);let c=Math.ceil(1.5*h/8),d=[],p=[];return function t(s,i,n,o,a){for(let h=n;h<o;){let n=h,f=i[h],u=C(e,s[h]);for(h++;h<o;h++){let t=C(e,s[h]);if(u+t>=c)break;u+=t}if(h==n+1){if(u>c){let e=s[n];t(e.children,e.positions,0,e.children.length,i[n]+a);continue}d.push(s[n])}else{let t=i[h-1]+s[h-1].length-f;d.push(Q(e,s,i,n,h,f,t,null,l))}p.push(f+a-r)}}(t,s,i,n,0),(a||l)(d,p,o)}class D{constructor(e,t,s,i,n=!1,r=!1){this.from=e,this.to=t,this.tree=s,this.offset=i,this.open=(n?1:0)|(r?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],s=!1){let i=[new D(0,e.length,e,0,!1,s)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,s=128){if(!t.length)return e;let i=[],n=1,r=e.length?e[0]:null;for(let o=0,a=0,l=0;;o++){let h=o<t.length?t[o]:null,c=h?h.fromA:1e9;if(c-a>=s)for(;r&&r.from<c;){let t=r;if(a>=t.from||c<=t.to||l){let e=Math.max(t.from,a)-l,s=Math.min(t.to,c)-l;t=e>=s?null:new D(e,s,t.tree,t.offset+l,o>0,!!h)}if(t&&i.push(t),r.to>c)break;r=n<e.length?e[n++]:null}if(!h)break;a=h.toA,l=h.toA-h.toB}return i}}class M{startParse(e,t,s){return"string"==typeof e&&(e=new q(e)),s=s?s.length?s.map((e=>new l(e.from,e.to))):[new l(0,0)]:[new l(0,e.length)],this.createParse(e,t||[],s)}parse(e,t,s){let i=this.startParse(e,t,s);for(;;){let e=i.advance();if(e)return e}}}class q{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new h({perNode:!0});class I{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,s){let i=[];return this.decompose(0,e,i,2),s.length&&s.decompose(0,s.length,i,3),this.decompose(t,this.length,i,1),z.from(i,this.length-(t-e)+s.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let s=[];return this.decompose(e,t,s,0),z.from(s,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),s=this.length-this.scanIdentical(e,-1),i=new E(this),n=new E(e);for(let e=t,r=t;;){if(i.next(e),n.next(e),e=0,i.lineBreak!=n.lineBreak||i.done!=n.done||i.value!=n.value)return!1;if(r+=i.value.length,i.done||r>=s)return!0}}iter(e=1){return new E(this,e)}iterRange(e,t=this.length){return new N(this,e,t)}iterLines(e,t){let s;if(null==e)s=this.iter();else{null==t&&(t=this.lines+1);let i=this.line(e).from;s=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new B(s)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new L(e):z.from(L.split(e,[])):I.empty}}class L extends I{constructor(e,t=function(e){let t=-1;for(let s of e)t+=s.length+1;return t}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,s,i){for(let n=0;;n++){let r=this.text[n],o=i+r.length;if((t?s:o)>=e)return new W(i,o,s,r);i=o+1,s++}}decompose(e,t,s,i){let n=e<=0&&t>=this.length?this:new L($(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){let e=s.pop(),t=F(n.text,e.text.slice(),0,n.length);if(t.length<=32)s.push(new L(t,e.length+n.length));else{let e=t.length>>1;s.push(new L(t.slice(0,e)),new L(t.slice(e)))}}else s.push(n)}replace(e,t,s){if(!(s instanceof L))return super.replace(e,t,s);let i=F(this.text,F(s.text,$(this.text,0,e)),t),n=this.length+s.length-(t-e);return i.length<=32?new L(i,n):z.from(L.split(i,[]),n)}sliceString(e,t=this.length,s="\n"){let i="";for(let n=0,r=0;n<=t&&r<this.text.length;r++){let o=this.text[r],a=n+o.length;n>e&&r&&(i+=s),e<a&&t>n&&(i+=o.slice(Math.max(0,e-n),t-n)),n=a+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let s=[],i=-1;for(let n of e)s.push(n),i+=n.length+1,32==s.length&&(t.push(new L(s,i)),s=[],i=-1);return i>-1&&t.push(new L(s,i)),t}}class z extends I{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let t of e)this.lines+=t.lines}lineInner(e,t,s,i){for(let n=0;;n++){let r=this.children[n],o=i+r.length,a=s+r.lines-1;if((t?a:o)>=e)return r.lineInner(e,t,s,i);i=o+1,s=a+1}}decompose(e,t,s,i){for(let n=0,r=0;r<=t&&n<this.children.length;n++){let o=this.children[n],a=r+o.length;if(e<=a&&t>=r){let n=i&((r<=e?1:0)|(a>=t?2:0));r>=e&&a<=t&&!n?s.push(o):o.decompose(e-r,t-r,s,n)}r=a+1}}replace(e,t,s){if(s.lines<this.lines)for(let i=0,n=0;i<this.children.length;i++){let r=this.children[i],o=n+r.length;if(e>=n&&t<=o){let a=r.replace(e-n,t-n,s),l=this.lines-r.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let n=this.children.slice();return n[i]=a,new z(n,this.length-(t-e)+s.length)}return super.replace(n,o,a)}n=o+1}return super.replace(e,t,s)}sliceString(e,t=this.length,s="\n"){let i="";for(let n=0,r=0;n<this.children.length&&r<=t;n++){let o=this.children[n],a=r+o.length;r>e&&n&&(i+=s),e<a&&t>r&&(i+=o.sliceString(e-r,t-r,s)),r=a+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof z))return 0;let s=0,[i,n,r,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,n+=t){if(i==r||n==o)return s;let a=this.children[i],l=e.children[n];if(a!=l)return s+a.scanIdentical(l,t);s+=a.length+1}}static from(e,t=e.reduce(((e,t)=>e+t.length+1),-1)){let s=0;for(let t of e)s+=t.lines;if(s<32){let s=[];for(let t of e)t.flatten(s);return new L(s,t)}let i=Math.max(32,s>>5),n=i<<1,r=i>>1,o=[],a=0,l=-1,h=[];function c(e){let t;if(e.lines>n&&e instanceof z)for(let t of e.children)c(t);else e.lines>r&&(a>r||!a)?(d(),o.push(e)):e instanceof L&&a&&(t=h[h.length-1])instanceof L&&e.lines+t.lines<=32?(a+=e.lines,l+=e.length+1,h[h.length-1]=new L(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>i&&d(),a+=e.lines,l+=e.length+1,h.push(e))}function d(){0!=a&&(o.push(1==h.length?h[0]:z.from(h,l)),l=-1,a=h.length=0)}for(let t of e)c(t);return d(),1==o.length?o[0]:new z(o,t)}}function F(e,t,s=0,i=1e9){for(let n=0,r=0,o=!0;r<e.length&&n<=i;r++){let a=e[r],l=n+a.length;l>=s&&(l>i&&(a=a.slice(0,i-n)),n<s&&(a=a.slice(s-n)),o?(t[t.length-1]+=a,o=!1):t.push(a)),n=l+1}return t}function $(e,t,s){return F(e,[""],t,s)}I.empty=new L([""],0);class E{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof L?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,i=this.nodes[s],n=this.offsets[s],r=n>>1,o=i instanceof L?i.text.length:i.children.length;if(r==(t>0?o:0)){if(0==s)return this.done=!0,this.value="",this;t>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&n)==(t>0?0:1)){if(this.offsets[s]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(i instanceof L){let n=i.text[r+(t<0?-1:0)];if(this.offsets[s]+=t,n.length>Math.max(0,e))return this.value=0==e?n:t>0?n.slice(e):n.slice(0,n.length-e),this;e-=n.length}else{let n=i.children[r+(t<0?-1:0)];e>n.length?(e-=n.length,this.offsets[s]+=t):(t<0&&this.offsets[s]--,this.nodes.push(n),this.offsets.push(t>0?1:(n instanceof L?n.text.length:n.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class N{constructor(e,t,s){this.value="",this.done=!1,this.cursor=new E(e,t>s?-1:1),this.pos=t>s?e.length:0,this.from=Math.min(t,s),this.to=Math.max(t,s)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let s=t<0?this.pos-this.from:this.to-this.pos;e>s&&(e=s),s-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=s?i:t<0?i.slice(i.length-s):i.slice(0,s),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class B{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:s,value:i}=this.inner.next(e);return t?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(I.prototype[Symbol.iterator]=function(){return this.iter()},E.prototype[Symbol.iterator]=N.prototype[Symbol.iterator]=B.prototype[Symbol.iterator]=function(){return this});class W{constructor(e,t,s,i){this.from=e,this.to=t,this.number=s,this.text=i}get length(){return this.to-this.from}}let V="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((e=>e?parseInt(e,36):1));for(let e=1;e<V.length;e++)V[e]+=V[e-1];function X(e){for(let t=1;t<V.length;t+=2)if(V[t]>e)return V[t-1]<=e;return!1}function Z(e){return e>=127462&&e<=127487}const G=8205;function Y(e,t,s=!0,i=!0){return(s?K:H)(e,t,i)}function K(e,t,s){if(t==e.length)return t;t&&j(e.charCodeAt(t))&&U(e.charCodeAt(t-1))&&t--;let i=J(e,t);for(t+=ee(i);t<e.length;){let n=J(e,t);if(i==G||n==G||s&&X(n))t+=ee(n),i=n;else{if(!Z(n))break;{let s=0,i=t-2;for(;i>=0&&Z(J(e,i));)s++,i-=2;if(s%2==0)break;t+=2}}}return t}function H(e,t,s){for(;t>0;){let i=K(e,t-2,s);if(i<t)return i;t--}return 0}function j(e){return e>=56320&&e<57344}function U(e){return e>=55296&&e<56320}function J(e,t){let s=e.charCodeAt(t);if(!U(s)||t+1==e.length)return s;let i=e.charCodeAt(t+1);return j(i)?i-56320+(s-55296<<10)+65536:s}function ee(e){return e<65536?1:2}const te=/\r\n?|\n/;var se=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(se||(se={}));class ie{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let s=this.sections[t+1];e+=s<0?this.sections[t]:s}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,s=0,i=0;t<this.sections.length;){let n=this.sections[t++],r=this.sections[t++];r<0?(e(s,i,n),i+=n):i+=r,s+=n}}iterChangedRanges(e,t=!1){ae(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let s=this.sections[t++],i=this.sections[t++];i<0?e.push(s,i):e.push(i,s)}return new ie(e)}composeDesc(e){return this.empty?e:e.empty?this:he(this,e)}mapDesc(e,t=!1){return e.empty?this:le(this,e,t)}mapPos(e,t=-1,s=se.Simple){let i=0,n=0;for(let r=0;r<this.sections.length;){let o=this.sections[r++],a=this.sections[r++],l=i+o;if(a<0){if(l>e)return n+(e-i);n+=o}else{if(s!=se.Simple&&l>=e&&(s==se.TrackDel&&i<e&&l>e||s==se.TrackBefore&&i<e||s==se.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!o)return e==i||t<0?n:n+a;n+=a}i=l}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return n}touchesRange(e,t=e){for(let s=0,i=0;s<this.sections.length&&i<=t;){let n=i+this.sections[s++];if(this.sections[s++]>=0&&i<=t&&n>=e)return!(i<e&&n>t)||"cover";i=n}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let s=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+s+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some((e=>"number"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ie(e)}static create(e){return new ie(e)}}class ne extends ie{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return ae(this,((t,s,i,n,r)=>e=e.replace(i,i+(s-t),r)),!1),e}mapDesc(e,t=!1){return le(this,e,t,!0)}invert(e){let t=this.sections.slice(),s=[];for(let i=0,n=0;i<t.length;i+=2){let r=t[i],o=t[i+1];if(o>=0){t[i]=o,t[i+1]=r;let a=i>>1;for(;s.length<a;)s.push(I.empty);s.push(r?e.slice(n,n+r):I.empty)}n+=r}return new ne(t,s)}compose(e){return this.empty?e:e.empty?this:he(this,e,!0)}map(e,t=!1){return e.empty?this:le(this,e,t,!0)}iterChanges(e,t=!1){ae(this,e,t)}get desc(){return ie.create(this.sections)}filter(e){let t=[],s=[],i=[],n=new ce(this);e:for(let r=0,o=0;;){let a=r==e.length?1e9:e[r++];for(;o<a||o==a&&0==n.len;){if(n.done)break e;let e=Math.min(n.len,a-o);re(i,e,-1);let r=-1==n.ins?-1:0==n.off?n.ins:0;re(t,e,r),r>0&&oe(s,t,n.text),n.forward(e),o+=e}let l=e[r++];for(;o<l;){if(n.done)break e;let e=Math.min(n.len,l-o);re(t,e,-1),re(i,e,-1==n.ins?-1:0==n.off?n.ins:0),n.forward(e),o+=e}}return{changes:new ne(t,s),filtered:ie.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let s=this.sections[t],i=this.sections[t+1];i<0?e.push(s):0==i?e.push([s]):e.push([s].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,s){let i=[],n=[],r=0,o=null;function a(e=!1){if(!e&&!i.length)return;r<t&&re(i,t-r,-1);let s=new ne(i,n);o=o?o.compose(s.map(o)):s,i=[],n=[],r=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof ne){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);a(),o=o?o.compose(l.map(o)):l}else{let{from:e,to:o=e,insert:h}=l;if(e>o||e<0||o>t)throw new RangeError(`Invalid change range ${e} to ${o} (in doc of length ${t})`);let c=h?"string"==typeof h?I.of(h.split(s||te)):h:I.empty,d=c.length;if(e==o&&0==d)return;e<r&&a(),e>r&&re(i,e-r,-1),re(i,o-e,d),oe(n,i,c),r=o}}(e),a(!o),o}static empty(e){return new ne(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],s=[];for(let i=0;i<e.length;i++){let n=e[i];if("number"==typeof n)t.push(n,-1);else{if(!Array.isArray(n)||"number"!=typeof n[0]||n.some(((e,t)=>t&&"string"!=typeof e)))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==n.length)t.push(n[0],0);else{for(;s.length<i;)s.push(I.empty);s[i]=I.of(n.slice(1)),t.push(n[0],s[i].length)}}}return new ne(t,s)}static createSet(e,t){return new ne(e,t)}}function re(e,t,s,i=!1){if(0==t&&s<=0)return;let n=e.length-2;n>=0&&s<=0&&s==e[n+1]?e[n]+=t:0==t&&0==e[n]?e[n+1]+=s:i?(e[n]+=t,e[n+1]+=s):e.push(t,s)}function oe(e,t,s){if(0==s.length)return;let i=t.length-2>>1;if(i<e.length)e[e.length-1]=e[e.length-1].append(s);else{for(;e.length<i;)e.push(I.empty);e.push(s)}}function ae(e,t,s){let i=e.inserted;for(let n=0,r=0,o=0;o<e.sections.length;){let a=e.sections[o++],l=e.sections[o++];if(l<0)n+=a,r+=a;else{let h=n,c=r,d=I.empty;for(;h+=a,c+=l,l&&i&&(d=d.append(i[o-2>>1])),!(s||o==e.sections.length||e.sections[o+1]<0);)a=e.sections[o++],l=e.sections[o++];t(n,h,r,c,d),n=h,r=c}}}function le(e,t,s,i=!1){let n=[],r=i?[]:null,o=new ce(e),a=new ce(t);for(let e=-1;;)if(-1==o.ins&&-1==a.ins){let e=Math.min(o.len,a.len);re(n,e,-1),o.forward(e),a.forward(e)}else if(a.ins>=0&&(o.ins<0||e==o.i||0==o.off&&(a.len<o.len||a.len==o.len&&!s))){let t=a.len;for(re(n,a.ins,-1);t;){let s=Math.min(o.len,t);o.ins>=0&&e<o.i&&o.len<=s&&(re(n,0,o.ins),r&&oe(r,n,o.text),e=o.i),o.forward(s),t-=s}a.next()}else{if(!(o.ins>=0)){if(o.done&&a.done)return r?ne.createSet(n,r):ie.create(n);throw new Error("Mismatched change set lengths")}{let t=0,s=o.len;for(;s;)if(-1==a.ins){let e=Math.min(s,a.len);t+=e,s-=e,a.forward(e)}else{if(!(0==a.ins&&a.len<s))break;s-=a.len,a.next()}re(n,t,e<o.i?o.ins:0),r&&e<o.i&&oe(r,n,o.text),e=o.i,o.forward(o.len-s)}}}function he(e,t,s=!1){let i=[],n=s?[]:null,r=new ce(e),o=new ce(t);for(let e=!1;;){if(r.done&&o.done)return n?ne.createSet(i,n):ie.create(i);if(0==r.ins)re(i,r.len,0,e),r.next();else if(0!=o.len||o.done){if(r.done||o.done)throw new Error("Mismatched change set lengths");{let t=Math.min(r.len2,o.len),s=i.length;if(-1==r.ins){let s=-1==o.ins?-1:o.off?0:o.ins;re(i,t,s,e),n&&s&&oe(n,i,o.text)}else-1==o.ins?(re(i,r.off?0:r.len,t,e),n&&oe(n,i,r.textBit(t))):(re(i,r.off?0:r.len,o.off?0:o.ins,e),n&&!o.off&&oe(n,i,o.text));e=(r.ins>t||o.ins>=0&&o.len>t)&&(e||i.length>s),r.forward2(t),o.forward(t)}}else re(i,0,o.ins,e),n&&oe(n,i,o.text),o.next()}}class ce{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?I.empty:e[t]}textBit(e){let{inserted:t}=this.set,s=this.i-2>>1;return s>=t.length&&!e?I.empty:t[s].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class de{constructor(e,t,s){this.from=e,this.to=t,this.flags=s}get anchor(){return 16&this.flags?this.to:this.from}get head(){return 16&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 4&this.flags?-1:8&this.flags?1:0}get bidiLevel(){let e=3&this.flags;return 3==e?null:e}get goalColumn(){let e=this.flags>>5;return 33554431==e?void 0:e}map(e,t=-1){let s,i;return this.empty?s=i=e.mapPos(this.from,t):(s=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),s==this.from&&i==this.to?this:new de(s,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return pe.range(e,t);let s=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return pe.range(this.anchor,s)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return pe.range(e.anchor,e.head)}static create(e,t,s){return new de(e,t,s)}}class pe{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:pe.create(this.ranges.map((s=>s.map(e,t))),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new pe([this.main],0)}addRange(e,t=!0){return pe.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let s=this.ranges.slice();return s[t]=e,pe.create(s,this.mainIndex)}toJSON(){return{ranges:this.ranges.map((e=>e.toJSON())),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new pe(e.ranges.map((e=>de.fromJSON(e))),e.main)}static single(e,t=e){return new pe([pe.range(e,t)],0)}static create(e,t=0){if(0==e.length)throw new RangeError("A selection needs at least one range");for(let s=0,i=0;i<e.length;i++){let n=e[i];if(n.empty?n.from<=s:n.from<s)return pe.normalized(e.slice(),t);s=n.to}return new pe(e,t)}static cursor(e,t=0,s,i){return de.create(e,e,(0==t?0:t<0?4:8)|(null==s?3:Math.min(2,s))|(null!=i?i:33554431)<<5)}static range(e,t,s,i){let n=(null!=s?s:33554431)<<5|(null==i?3:Math.min(2,i));return t<e?de.create(t,e,24|n):de.create(e,t,(t>e?4:0)|n)}static normalized(e,t=0){let s=e[t];e.sort(((e,t)=>e.from-t.from)),t=e.indexOf(s);for(let s=1;s<e.length;s++){let i=e[s],n=e[s-1];if(i.empty?i.from<=n.to:i.from<n.to){let r=n.from,o=Math.max(i.to,n.to);s<=t&&t--,e.splice(--s,2,i.anchor>i.head?pe.range(o,r):pe.range(r,o))}}return new pe(e,t)}}function fe(e,t){for(let s of e.ranges)if(s.to>t)throw new RangeError("Selection points outside of document")}let ue=0;class me{constructor(e,t,s,i,n){this.combine=e,this.compareInput=t,this.compare=s,this.isStatic=i,this.id=ue++,this.default=e([]),this.extensions="function"==typeof n?n(this):n}static define(e={}){return new me(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:ge),!!e.static,e.enables)}of(e){return new ke([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ke(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ke(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],(s=>t(s.field(e))))}}function ge(e,t){return e==t||e.length==t.length&&e.every(((e,s)=>e===t[s]))}class ke{constructor(e,t,s,i){this.dependencies=e,this.facet=t,this.type=s,this.value=i,this.id=ue++}dynamicSlot(e){var t;let s=this.value,i=this.facet.compareInput,n=this.id,r=e[n]>>1,o=2==this.type,a=!1,l=!1,h=[];for(let s of this.dependencies)"doc"==s?a=!0:"selection"==s?l=!0:0==(1&(null!==(t=e[s.id])&&void 0!==t?t:1))&&h.push(e[s.id]);return{create:e=>(e.values[r]=s(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||be(e,h)){let t=s(e);if(o?!ye(t,e.values[r],i):!i(t,e.values[r]))return e.values[r]=t,1}return 0},reconfigure:(e,t)=>{let a,l=t.config.address[n];if(null!=l){let n=Qe(t,l);if(this.dependencies.every((s=>s instanceof me?t.facet(s)===e.facet(s):!(s instanceof Oe)||t.field(s,!1)==e.field(s,!1)))||(o?ye(a=s(e),n,i):i(a=s(e),n)))return e.values[r]=n,0}else a=s(e);return e.values[r]=a,1}}}}function ye(e,t,s){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!s(e[i],t[i]))return!1;return!0}function be(e,t){let s=!1;for(let i of t)1&Ce(e,i)&&(s=!0);return s}function ve(e,t,s){let i=s.map((t=>e[t.id])),n=s.map((e=>e.type)),r=i.filter((e=>!(1&e))),o=e[t.id]>>1;function a(e){let s=[];for(let t=0;t<i.length;t++){let r=Qe(e,i[t]);if(2==n[t])for(let e of r)s.push(e);else s.push(r)}return t.combine(s)}return{create(e){for(let t of i)Ce(e,t);return e.values[o]=a(e),1},update(e,s){if(!be(e,r))return 0;let i=a(e);return t.compare(i,e.values[o])?0:(e.values[o]=i,1)},reconfigure(e,n){let r=be(e,i),l=n.config.facets[t.id],h=n.facet(t);if(l&&!r&&ge(s,l))return e.values[o]=h,0;let c=a(e);return t.compare(c,h)?(e.values[o]=h,0):(e.values[o]=c,1)}}}const xe=me.define({static:!0});class Oe{constructor(e,t,s,i,n){this.id=e,this.createF=t,this.updateF=s,this.compareF=i,this.spec=n,this.provides=void 0}static define(e){let t=new Oe(ue++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(xe).find((e=>e.field==this));return((null==t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,s)=>{let i=e.values[t],n=this.updateF(i,s);return this.compareF(i,n)?0:(e.values[t]=n,1)},reconfigure:(e,s)=>null!=s.config.address[this.id]?(e.values[t]=s.field(this),0):(e.values[t]=this.create(e),1)}}init(e){return[this,xe.of({field:this,create:e})]}get extension(){return this}}const we={lowest:4,low:3,default:2,high:1,highest:0};function Se(e){return t=>new Pe(t,e)}const _e={highest:Se(we.highest),high:Se(we.high),default:Se(we.default),low:Se(we.low),lowest:Se(we.lowest)};class Pe{constructor(e,t){this.inner=e,this.prec=t}}class Te{of(e){return new Re(this,e)}reconfigure(e){return Te.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Re{constructor(e,t){this.compartment=e,this.inner=t}}class Ae{constructor(e,t,s,i,n,r){for(this.base=e,this.compartments=t,this.dynamicSlots=s,this.address=i,this.staticValues=n,this.facets=r,this.statusTemplate=[];this.statusTemplate.length<s.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,s){let i=[],n=Object.create(null),r=new Map;for(let s of function(e,t,s){let i=[[],[],[],[],[]],n=new Map;return function e(r,o){let a=n.get(r);if(null!=a){if(a<=o)return;let e=i[a].indexOf(r);e>-1&&i[a].splice(e,1),r instanceof Re&&s.delete(r.compartment)}if(n.set(r,o),Array.isArray(r))for(let t of r)e(t,o);else if(r instanceof Re){if(s.has(r.compartment))throw new RangeError("Duplicate use of compartment in extensions");let i=t.get(r.compartment)||r.inner;s.set(r.compartment,i),e(i,o)}else if(r instanceof Pe)e(r.inner,r.prec);else if(r instanceof Oe)i[o].push(r),r.provides&&e(r.provides,o);else if(r instanceof ke)i[o].push(r),r.facet.extensions&&e(r.facet.extensions,we.default);else{let t=r.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${r}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);e(t,o)}}(e,we.default),i.reduce(((e,t)=>e.concat(t)))}(e,t,r))s instanceof Oe?i.push(s):(n[s.facet.id]||(n[s.facet.id]=[])).push(s);let o=Object.create(null),a=[],l=[];for(let e of i)o[e.id]=l.length<<1,l.push((t=>e.slot(t)));let h=null==s?void 0:s.config.facets;for(let e in n){let t=n[e],i=t[0].facet,r=h&&h[e]||[];if(t.every((e=>0==e.type)))if(o[i.id]=a.length<<1|1,ge(r,t))a.push(s.facet(i));else{let e=i.combine(t.map((e=>e.value)));a.push(s&&i.compare(e,s.facet(i))?s.facet(i):e)}else{for(let e of t)0==e.type?(o[e.id]=a.length<<1|1,a.push(e.value)):(o[e.id]=l.length<<1,l.push((t=>e.dynamicSlot(t))));o[i.id]=l.length<<1,l.push((e=>ve(e,i,t)))}}let c=l.map((e=>e(o)));return new Ae(e,r,c,o,a,n)}}function Ce(e,t){if(1&t)return 2;let s=t>>1,i=e.status[s];if(4==i)throw new Error("Cyclic dependency between fields and/or facets");if(2&i)return i;e.status[s]=4;let n=e.computeSlot(e,e.config.dynamicSlots[s]);return e.status[s]=2|n}function Qe(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const De=me.define(),Me=me.define({combine:e=>e.some((e=>e)),static:!0}),qe=me.define({combine:e=>e.length?e[0]:void 0,static:!0}),Ie=me.define(),Le=me.define(),ze=me.define(),Fe=me.define({combine:e=>!!e.length&&e[0]});class $e{constructor(e,t){this.type=e,this.value=t}static define(){return new Ee}}class Ee{of(e){return new $e(this,e)}}class Ne{constructor(e){this.map=e}of(e){return new Be(this,e)}}class Be{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new Be(this.type,t)}is(e){return this.type==e}static define(e={}){return new Ne(e.map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let s=[];for(let i of e){let e=i.map(t);e&&s.push(e)}return s}}Be.reconfigure=Be.define(),Be.appendConfig=Be.define();class We{constructor(e,t,s,i,n,r){this.startState=e,this.changes=t,this.selection=s,this.effects=i,this.annotations=n,this.scrollIntoView=r,this._doc=null,this._state=null,s&&fe(s,t.newLength),n.some((e=>e.type==We.time))||(this.annotations=n.concat(We.time.of(Date.now())))}static create(e,t,s,i,n,r){return new We(e,t,s,i,n,r)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(We.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function Ve(e,t){let s=[];for(let i=0,n=0;;){let r,o;if(i<e.length&&(n==t.length||t[n]>=e[i]))r=e[i++],o=e[i++];else{if(!(n<t.length))return s;r=t[n++],o=t[n++]}!s.length||s[s.length-1]<r?s.push(r,o):s[s.length-1]<o&&(s[s.length-1]=o)}}function Xe(e,t,s){var i;let n,r,o;return s?(n=t.changes,r=ne.empty(t.changes.length),o=e.changes.compose(t.changes)):(n=t.changes.map(e.changes),r=e.changes.mapDesc(t.changes,!0),o=e.changes.compose(n)),{changes:o,selection:t.selection?t.selection.map(r):null===(i=e.selection)||void 0===i?void 0:i.map(n),effects:Be.mapEffects(e.effects,n).concat(Be.mapEffects(t.effects,r)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function Ze(e,t,s){let i=t.selection,n=Ke(t.annotations);return t.userEvent&&(n=n.concat(We.userEvent.of(t.userEvent))),{changes:t.changes instanceof ne?t.changes:ne.of(t.changes||[],s,e.facet(qe)),selection:i&&(i instanceof pe?i:pe.single(i.anchor,i.head)),effects:Ke(t.effects),annotations:n,scrollIntoView:!!t.scrollIntoView}}function Ge(e,t,s){let i=Ze(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(s=!1);for(let n=1;n<t.length;n++){!1===t[n].filter&&(s=!1);let r=!!t[n].sequential;i=Xe(i,Ze(e,t[n],r?i.changes.newLength:e.doc.length),r)}let n=We.create(e,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return function(e){let t=e.startState,s=t.facet(ze),i=e;for(let n=s.length-1;n>=0;n--){let r=s[n](e);r&&Object.keys(r).length&&(i=Xe(i,Ze(t,r,e.changes.newLength),!0))}return i==e?e:We.create(t,e.changes,e.selection,i.effects,i.annotations,i.scrollIntoView)}(s?function(e){let t=e.startState,s=!0;for(let i of t.facet(Ie)){let t=i(e);if(!1===t){s=!1;break}Array.isArray(t)&&(s=!0===s?t:Ve(s,t))}if(!0!==s){let i,n;if(!1===s)n=e.changes.invertedDesc,i=ne.empty(t.doc.length);else{let t=e.changes.filter(s);i=t.changes,n=t.filtered.mapDesc(t.changes).invertedDesc}e=We.create(t,i,e.selection&&e.selection.map(n),Be.mapEffects(e.effects,n),e.annotations,e.scrollIntoView)}let i=t.facet(Le);for(let s=i.length-1;s>=0;s--){let n=i[s](e);e=n instanceof We?n:Array.isArray(n)&&1==n.length&&n[0]instanceof We?n[0]:Ge(t,Ke(n),!1)}return e}(n):n)}We.time=$e.define(),We.userEvent=$e.define(),We.addToHistory=$e.define(),We.remote=$e.define();const Ye=[];function Ke(e){return null==e?Ye:Array.isArray(e)?e:[e]}var He=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(He||(He={}));const je=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ue;try{Ue=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(e){}class Je{constructor(e,t,s,i,n,r){this.config=e,this.doc=t,this.selection=s,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=n,r&&(r._state=this);for(let e=0;e<this.config.dynamicSlots.length;e++)Ce(this,e<<1);this.computeSlot=null}field(e,t=!0){let s=this.config.address[e.id];if(null!=s)return Ce(this,s),Qe(this,s);if(t)throw new RangeError("Field is not present in this state")}update(...e){return Ge(this,e,!0)}applyTransaction(e){let t,s=this.config,{base:i,compartments:n}=s;for(let t of e.effects)t.is(Te.reconfigure)?(s&&(n=new Map,s.compartments.forEach(((e,t)=>n.set(t,e))),s=null),n.set(t.value.compartment,t.value.extension)):t.is(Be.reconfigure)?(s=null,i=t.value):t.is(Be.appendConfig)&&(s=null,i=Ke(i).concat(t.value));s?t=e.startState.values.slice():(s=Ae.resolve(i,n,this),t=new Je(s,this.doc,this.selection,s.dynamicSlots.map((()=>null)),((e,t)=>t.reconfigure(e,this)),null).values),new Je(s,e.newDoc,e.newSelection,t,((t,s)=>s.update(t,e)),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((t=>({changes:{from:t.from,to:t.to,insert:e},range:pe.cursor(t.from+e.length)})))}changeByRange(e){let t=this.selection,s=e(t.ranges[0]),i=this.changes(s.changes),n=[s.range],r=Ke(s.effects);for(let s=1;s<t.ranges.length;s++){let o=e(t.ranges[s]),a=this.changes(o.changes),l=a.map(i);for(let e=0;e<s;e++)n[e]=n[e].map(l);let h=i.mapDesc(a,!0);n.push(o.range.map(h)),i=i.compose(l),r=Be.mapEffects(r,l).concat(Be.mapEffects(Ke(o.effects),h))}return{changes:i,selection:pe.create(n,t.mainIndex),effects:r}}changes(e=[]){return e instanceof ne?e:ne.of(e,this.doc.length,this.facet(Je.lineSeparator))}toText(e){return I.of(e.split(this.facet(Je.lineSeparator)||te))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(Ce(this,t),Qe(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let s in e){let i=e[s];i instanceof Oe&&null!=this.config.address[i.id]&&(t[s]=i.spec.toJSON(this.field(e[s]),this))}return t}static fromJSON(e,t={},s){if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(s)for(let t in s)if(Object.prototype.hasOwnProperty.call(e,t)){let n=s[t],r=e[t];i.push(n.init((e=>n.spec.fromJSON(r,e))))}return Je.create({doc:e.doc,selection:pe.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=Ae.resolve(e.extensions||[],new Map),s=e.doc instanceof I?e.doc:I.of((e.doc||"").split(t.staticFacet(Je.lineSeparator)||te)),i=e.selection?e.selection instanceof pe?e.selection:pe.single(e.selection.anchor,e.selection.head):pe.single(0);return fe(i,s.length),t.staticFacet(Me)||(i=i.asSingle()),new Je(t,s,i,t.dynamicSlots.map((()=>null)),((e,t)=>t.create(e)),null)}get tabSize(){return this.facet(Je.tabSize)}get lineBreak(){return this.facet(Je.lineSeparator)||"\n"}get readOnly(){return this.facet(Fe)}phrase(e,...t){for(let t of this.facet(Je.phrases))if(Object.prototype.hasOwnProperty.call(t,e)){e=t[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,((e,s)=>{if("$"==s)return"$";let i=+(s||1);return!i||i>t.length?e:t[i-1]}))),e}languageDataAt(e,t,s=-1){let i=[];for(let n of this.facet(De))for(let r of n(this,t,s))Object.prototype.hasOwnProperty.call(r,e)&&i.push(r[e]);return i}charCategorizer(e){return t=this.languageDataAt("wordChars",e).join(""),e=>{if(!/\S/.test(e))return He.Space;if(function(e){if(Ue)return Ue.test(e);for(let t=0;t<e.length;t++){let s=e[t];if(/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||je.test(s)))return!0}return!1}(e))return He.Word;for(let s=0;s<t.length;s++)if(e.indexOf(t[s])>-1)return He.Word;return He.Other};var t}wordAt(e){let{text:t,from:s,length:i}=this.doc.lineAt(e),n=this.charCategorizer(e),r=e-s,o=e-s;for(;r>0;){let e=Y(t,r,!1);if(n(t.slice(e,r))!=He.Word)break;r=e}for(;o<i;){let e=Y(t,o);if(n(t.slice(o,e))!=He.Word)break;o=e}return r==o?null:pe.range(r+s,o+s)}}Je.allowMultipleSelections=Me,Je.tabSize=me.define({combine:e=>e.length?e[0]:4}),Je.lineSeparator=qe,Je.readOnly=Fe,Je.phrases=me.define({compare(e,t){let s=Object.keys(e),i=Object.keys(t);return s.length==i.length&&s.every((s=>e[s]==t[s]))}}),Je.languageData=De,Je.changeFilter=Ie,Je.transactionFilter=Le,Je.transactionExtender=ze,Te.reconfigure=Be.define();class et{eq(e){return this==e}range(e,t=e){return tt.create(e,t,this)}}et.prototype.startSide=et.prototype.endSide=0,et.prototype.point=!1,et.prototype.mapMode=se.TrackDel;class tt{constructor(e,t,s){this.from=e,this.to=t,this.value=s}static create(e,t,s){return new tt(e,t,s)}}function st(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class it{constructor(e,t,s,i){this.from=e,this.to=t,this.value=s,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,s,i=0){let n=s?this.to:this.from;for(let r=i,o=n.length;;){if(r==o)return r;let i=r+o>>1,a=n[i]-e||(s?this.value[i].endSide:this.value[i].startSide)-t;if(i==r)return a>=0?r:o;a>=0?o=i:r=i+1}}between(e,t,s,i){for(let n=this.findIndex(t,-1e9,!0),r=this.findIndex(s,1e9,!1,n);n<r;n++)if(!1===i(this.from[n]+e,this.to[n]+e,this.value[n]))return!1}map(e,t){let s=[],i=[],n=[],r=-1,o=-1;for(let a=0;a<this.value.length;a++){let l,h,c=this.value[a],d=this.from[a]+e,p=this.to[a]+e;if(d==p){let e=t.mapPos(d,c.startSide,c.mapMode);if(null==e)continue;if(l=h=e,c.startSide!=c.endSide&&(h=t.mapPos(d,c.endSide),h<l))continue}else if(l=t.mapPos(d,c.startSide),h=t.mapPos(p,c.endSide),l>h||l==h&&c.startSide>0&&c.endSide<=0)continue;(h-l||c.endSide-c.startSide)<0||(r<0&&(r=l),c.point&&(o=Math.max(o,h-l)),s.push(c),i.push(l-r),n.push(h-r))}return{mapped:s.length?new it(i,n,s,o):null,pos:r}}}class nt{constructor(e,t,s,i){this.chunkPos=e,this.chunk=t,this.nextLayer=s,this.maxPoint=i}static create(e,t,s,i){return new nt(e,t,s,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:s=!1,filterFrom:i=0,filterTo:n=this.length}=e,r=e.filter;if(0==t.length&&!r)return this;if(s&&(t=t.slice().sort(st)),this.isEmpty)return t.length?nt.of(t):this;let o=new at(this,null,-1).goto(0),a=0,l=[],h=new rt;for(;o.value||a<t.length;)if(a<t.length&&(o.from-t[a].from||o.startSide-t[a].value.startSide)>=0){let e=t[a++];h.addInner(e.from,e.to,e.value)||l.push(e)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(o.chunkIndex)<t[a].from)&&(!r||i>this.chunkEnd(o.chunkIndex)||n<this.chunkPos[o.chunkIndex])&&h.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!r||i>o.to||n<o.from||r(o.from,o.to,o.value))&&(h.addInner(o.from,o.to,o.value)||l.push(tt.create(o.from,o.to,o.value))),o.next());return h.finishInner(this.nextLayer.isEmpty&&!l.length?nt.empty:this.nextLayer.update({add:l,filter:r,filterFrom:i,filterTo:n}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],s=[],i=-1;for(let n=0;n<this.chunk.length;n++){let r=this.chunkPos[n],o=this.chunk[n],a=e.touchesRange(r,r+o.length);if(!1===a)i=Math.max(i,o.maxPoint),t.push(o),s.push(e.mapPos(r));else if(!0===a){let{mapped:n,pos:a}=o.map(r,e);n&&(i=Math.max(i,n.maxPoint),t.push(n),s.push(a))}}let n=this.nextLayer.map(e);return 0==t.length?n:new nt(s,t,n||nt.empty,i)}between(e,t,s){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let n=this.chunkPos[i],r=this.chunk[i];if(t>=n&&e<=n+r.length&&!1===r.between(n,e-n,t-n,s))return}this.nextLayer.between(e,t,s)}}iter(e=0){return lt.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return lt.from(e).goto(t)}static compare(e,t,s,i,n=-1){let r=e.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=n)),o=t.filter((e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=n)),a=ot(r,o,s),l=new ct(r,a,n),h=new ct(o,a,n);s.iterGaps(((e,t,s)=>dt(l,e,h,t,s,i))),s.empty&&0==s.length&&dt(l,0,h,0,0,i)}static eq(e,t,s=0,i){null==i&&(i=999999999);let n=e.filter((e=>!e.isEmpty&&t.indexOf(e)<0)),r=t.filter((t=>!t.isEmpty&&e.indexOf(t)<0));if(n.length!=r.length)return!1;if(!n.length)return!0;let o=ot(n,r),a=new ct(n,o,0).goto(s),l=new ct(r,o,0).goto(s);for(;;){if(a.to!=l.to||!pt(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>i)return!0;a.next(),l.next()}}static spans(e,t,s,i,n=-1){let r=new ct(e,null,n).goto(t),o=t,a=r.openStart;for(;;){let e=Math.min(r.to,s);if(r.point){let s=r.activeForPoint(r.to),n=r.pointFrom<t?s.length+1:Math.min(s.length,a);i.point(o,e,r.point,s,n,r.pointRank),a=Math.min(r.openEnd(e),s.length)}else e>o&&(i.span(o,e,r.active,a),a=r.openEnd(e));if(r.to>s)return a+(r.point&&r.to>s?1:0);o=r.to,r.next()}}static of(e,t=!1){let s=new rt;for(let i of e instanceof tt?[e]:t?function(e){if(e.length>1)for(let t=e[0],s=1;s<e.length;s++){let i=e[s];if(st(t,i)>0)return e.slice().sort(st);t=i}return e}(e):e)s.add(i.from,i.to,i.value);return s.finish()}}nt.empty=new nt([],[],null,-1),nt.empty.nextLayer=nt.empty;class rt{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new it(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,s){this.addInner(e,t,s)||(this.nextLayer||(this.nextLayer=new rt)).add(e,t,s)}addInner(e,t,s){let i=e-this.lastTo||s.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0||(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=s,this.lastFrom=e,this.lastTo=t,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),0))}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let s=t.value.length-1;return this.last=t.value[s],this.lastFrom=t.from[s]+e,this.lastTo=t.to[s]+e,!0}finish(){return this.finishInner(nt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=nt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function ot(e,t,s){let i=new Map;for(let t of e)for(let e=0;e<t.chunk.length;e++)t.chunk[e].maxPoint<=0&&i.set(t.chunk[e],t.chunkPos[e]);let n=new Set;for(let e of t)for(let t=0;t<e.chunk.length;t++){let r=i.get(e.chunk[t]);null==r||(s?s.mapPos(r):r)!=e.chunkPos[t]||(null==s?void 0:s.touchesRange(r,r+e.chunk[t].length))||n.add(e.chunk[t])}return n}class at{constructor(e,t,s,i=0){this.layer=e,this.skip=t,this.minPoint=s,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,s){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!s||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],s=e+t.from[this.rangeIndex];if(this.from=s,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class lt{constructor(e){this.heap=e}static from(e,t=null,s=-1){let i=[];for(let n=0;n<e.length;n++)for(let r=e[n];!r.isEmpty;r=r.nextLayer)r.maxPoint>=s&&i.push(new at(r,t,s,n));return 1==i.length?i[0]:new lt(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let s of this.heap)s.goto(e,t);for(let e=this.heap.length>>1;e>=0;e--)ht(this.heap,e);return this.next(),this}forward(e,t){for(let s of this.heap)s.forward(e,t);for(let e=this.heap.length>>1;e>=0;e--)ht(this.heap,e);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),ht(this.heap,0)}}}function ht(e,t){for(let s=e[t];;){let i=1+(t<<1);if(i>=e.length)break;let n=e[i];if(i+1<e.length&&n.compare(e[i+1])>=0&&(n=e[i+1],i++),s.compare(n)<0)break;e[i]=s,e[t]=n,t=i}}class ct{constructor(e,t,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=lt.from(e,t,s)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){ft(this.active,e),ft(this.activeTo,e),ft(this.activeRank,e),this.minActive=mt(this.active,this.activeTo)}addActive(e){let t=0,{value:s,to:i,rank:n}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=n;)t++;ut(this.active,t,s),ut(this.activeTo,t,i),ut(this.activeRank,t,n),e&&ut(e,t,this.cursor.from),this.minActive=mt(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),s&&ft(s,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(s),this.cursor.next()}}}if(s){this.openStart=0;for(let t=s.length-1;t>=0&&s[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>e||this.activeTo[s]==e&&this.active[s].endSide>=this.point.endSide)&&t.push(this.active[s]);return t.reverse()}openEnd(e){let t=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>e;s--)t++;return t}}function dt(e,t,s,i,n,r){e.goto(t),s.goto(i);let o=i+n,a=i,l=i-t;for(;;){let t=e.to+l-s.to||e.endSide-s.endSide,i=t<0?e.to+l:s.to,n=Math.min(i,o);if(e.point||s.point?e.point&&s.point&&(e.point==s.point||e.point.eq(s.point))&&pt(e.activeForPoint(e.to+l),s.activeForPoint(s.to))||r.comparePoint(a,n,e.point,s.point):n>a&&!pt(e.active,s.active)&&r.compareRange(a,n,e.active,s.active),i>o)break;a=i,t<=0&&e.next(),t>=0&&s.next()}}function pt(e,t){if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!=t[s]&&!e[s].eq(t[s]))return!1;return!0}function ft(e,t){for(let s=t,i=e.length-1;s<i;s++)e[s]=e[s+1];e.pop()}function ut(e,t,s){for(let s=e.length-1;s>=t;s--)e[s+1]=e[s];e[t]=s}function mt(e,t){let s=-1,i=1e9;for(let n=0;n<t.length;n++)(t[n]-i||e[n].endSide-e[s].endSide)<0&&(s=n,i=t[n]);return s}const gt="undefined"==typeof Symbol?"__":Symbol.for(""),kt="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),yt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class bt{constructor(e,t){this.rules=[];let{finish:s}=t||{};function i(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function n(e,t,r,o){let a=[],l=/^@(\w+)\b/.exec(e[0]),h=l&&"keyframes"==l[1];if(l&&null==t)return r.push(e[0]+";");for(let s in t){let o=t[s];if(/&/.test(s))n(s.split(/,\s*/).map((t=>e.map((e=>t.replace(/&/,e))))).reduce(((e,t)=>e.concat(t))),o,r);else if(o&&"object"==typeof o){if(!l)throw new RangeError("The value of a property ("+s+") should be a primitive value.");n(i(s),o,a,h)}else null!=o&&a.push(s.replace(/_.*/,"").replace(/[A-Z]/g,(e=>"-"+e.toLowerCase()))+": "+o+";")}(a.length||h)&&r.push((!s||l||o?e:e.map(s)).join(", ")+" {"+a.join(" ")+"}")}for(let t in e)n(i(t),e[t],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=yt[gt]||1;return yt[gt]=e+1,""+e.toString(36)}static mount(e,t){(e[kt]||new xt(e)).mount(Array.isArray(t)?t:[t])}}let vt=null;class xt{constructor(e){if(!e.head&&e.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(vt)return e.adoptedStyleSheets=[vt.sheet].concat(e.adoptedStyleSheets),e[kt]=vt;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),vt=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[kt]=this}mount(e){let t=this.sheet,s=0,i=0;for(let n=0;n<e.length;n++){let r=e[n],o=this.modules.indexOf(r);if(o<i&&o>-1&&(this.modules.splice(o,1),i--,o=-1),-1==o){if(this.modules.splice(i++,0,r),t)for(let e=0;e<r.rules.length;e++)t.insertRule(r.rules[e],s++)}else{for(;i<o;)s+=this.modules[i++].rules.length;s+=r.rules.length,i++}}if(!t){let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e}}}for(var Ot={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},wt={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},St="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),_t=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),Pt=("undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),_t||St&&St[1],0);Pt<10;Pt++)Ot[48+Pt]=Ot[96+Pt]=String(Pt);for(Pt=1;Pt<=24;Pt++)Ot[Pt+111]="F"+Pt;for(Pt=65;Pt<=90;Pt++)Ot[Pt]=String.fromCharCode(Pt+32),wt[Pt]=String.fromCharCode(Pt);for(var Tt in Ot)wt.hasOwnProperty(Tt)||(wt[Tt]=Ot[Tt]);function Rt(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function At(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function Ct(e,t){if(!t.anchorNode)return!1;try{return At(e,t.anchorNode)}catch(e){return!1}}function Qt(e){return 3==e.nodeType?Wt(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function Dt(e,t,s,i){return!!s&&(qt(e,t,s,i,-1)||qt(e,t,s,i,1))}function Mt(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function qt(e,t,s,i,n){for(;;){if(e==s&&t==i)return!0;if(t==(n<0?0:It(e))){if("DIV"==e.nodeName)return!1;let s=e.parentNode;if(!s||1!=s.nodeType)return!1;t=Mt(e)+(n<0?0:1),e=s}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(n<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=n<0?It(e):0}}}function It(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}const Lt={left:0,right:0,top:0,bottom:0};function zt(e,t){let s=t?e.left:e.right;return{left:s,right:s,top:e.top,bottom:e.bottom}}function Ft(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}class $t{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,s,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=s,this.focusOffset=i}}let Et,Nt=null;function Bt(e){if(e.setActive)return e.setActive();if(Nt)return e.focus(Nt);let t=[];for(let s=e;s&&(t.push(s,s.scrollTop,s.scrollLeft),s!=s.ownerDocument);s=s.parentNode);if(e.focus(null==Nt?{get preventScroll(){return Nt={preventScroll:!0},!0}}:void 0),!Nt){Nt=!1;for(let e=0;e<t.length;){let s=t[e++],i=t[e++],n=t[e++];s.scrollTop!=i&&(s.scrollTop=i),s.scrollLeft!=n&&(s.scrollLeft=n)}}}function Wt(e,t,s=t){let i=Et||(Et=document.createRange());return i.setEnd(e,s),i.setStart(e,t),i}function Vt(e,t,s){let i={key:t,code:t,keyCode:s,which:s,cancelable:!0},n=new KeyboardEvent("keydown",i);n.synthetic=!0,e.dispatchEvent(n);let r=new KeyboardEvent("keyup",i);return r.synthetic=!0,e.dispatchEvent(r),n.defaultPrevented||r.defaultPrevented}function Xt(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}class Zt{constructor(e,t,s=!0){this.node=e,this.offset=t,this.precise=s}static before(e,t){return new Zt(e.parentNode,Mt(e),t)}static after(e,t){return new Zt(e.parentNode,Mt(e)+1,t)}}const Gt=[];class Yt{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let s of this.children){if(s==e)return t;t+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e,t){if(2&this.dirty){let s,i=this.dom,n=null;for(let r of this.children){if(r.dirty){if(!r.dom&&(s=n?n.nextSibling:i.firstChild)){let e=Yt.get(s);(!e||!e.parent&&e.canReuseDOM(r))&&r.reuseDOM(s)}r.sync(e,t),r.dirty=0}if(s=n?n.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&s!=r.dom&&(t.written=!0),r.dom.parentNode==i)for(;s&&s!=r.dom;)s=Kt(s);else i.insertBefore(r.dom,s);n=r.dom}for(s=n?n.nextSibling:i.firstChild,s&&t&&t.node==i&&(t.written=!0);s;)s=Kt(s)}else if(1&this.dirty)for(let s of this.children)s.dirty&&(s.sync(e,t),s.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let s;if(e==this.dom)s=this.dom.childNodes[t];else{let i=0==It(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==i&&t.firstChild!=t.lastChild&&(i=e==t.firstChild?-1:1),e=t}s=i<0?e:e.nextSibling}if(s==this.dom.firstChild)return 0;for(;s&&!Yt.get(s);)s=s.nextSibling;if(!s)return this.length;for(let e=0,t=0;;e++){let i=this.children[e];if(i.dom==s)return t;t+=i.length+i.breakAfter}}domBoundsAround(e,t,s=0){let i=-1,n=-1,r=-1,o=-1;for(let a=0,l=s,h=s;a<this.children.length;a++){let s=this.children[a],c=l+s.length;if(l<e&&c>t)return s.domBoundsAround(e,t,l);if(c>=e&&-1==i&&(i=a,n=l),l>t&&s.dom.parentNode==this.dom){r=a,o=h;break}h=c,l=c+s.breakAfter}return{from:n,to:o<0?s+this.length:o,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:r<this.children.length&&r>=0?this.children[r].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,s=Gt){this.markDirty();for(let s=e;s<t;s++){let e=this.children[s];e.parent==this&&e.destroy()}this.children.splice(e,t-e,...s);for(let e=0;e<s.length;e++)s[e].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Ht(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}merge(e,t,s,i,n,r){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}function Kt(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}Yt.prototype.breakAfter=0;class Ht{constructor(e,t,s){this.children=e,this.pos=t,this.i=s,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let s=this.children[--this.i];this.pos-=s.length+s.breakAfter}}}function jt(e,t,s,i,n,r,o,a,l){let{children:h}=e,c=h.length?h[t]:null,d=r.length?r[r.length-1]:null,p=d?d.breakAfter:o;if(!(t==i&&c&&!o&&!p&&r.length<2&&c.merge(s,n,r.length?d:null,0==s,a,l))){if(i<h.length){let e=h[i];e&&n<e.length?(t==i&&(e=e.split(n),n=0),!p&&d&&e.merge(0,n,d,!0,0,l)?r[r.length-1]=e:(n&&e.merge(0,n,null,!1,0,l),r.push(e))):(null==e?void 0:e.breakAfter)&&(d?d.breakAfter=1:o=1),i++}for(c&&(c.breakAfter=o,s>0&&(!o&&r.length&&c.merge(s,c.length,r[0],!1,a,0)?c.breakAfter=r.shift().breakAfter:(s<c.length||c.children.length&&0==c.children[c.children.length-1].length)&&c.merge(s,c.length,null,!1,a,0),t++));t<i&&r.length;)if(h[i-1].become(r[r.length-1]))i--,r.pop(),l=r.length?0:a;else{if(!h[t].become(r[0]))break;t++,r.shift(),a=r.length?0:l}!r.length&&t&&i<h.length&&!h[t-1].breakAfter&&h[i].merge(0,0,h[t-1],!1,a,l)&&t--,(t<i||r.length)&&e.replaceChildren(t,i,r)}}function Ut(e,t,s,i,n,r){let o=e.childCursor(),{i:a,off:l}=o.findPos(s,1),{i:h,off:c}=o.findPos(t,-1),d=t-s;for(let e of i)d+=e.length;e.length+=d,jt(e,h,c,a,l,i,0,n,r)}let Jt="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},es="undefined"!=typeof document?document:{documentElement:{style:{}}};const ts=/Edge\/(\d+)/.exec(Jt.userAgent),ss=/MSIE \d/.test(Jt.userAgent),is=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jt.userAgent),ns=!!(ss||is||ts),rs=!ns&&/gecko\/(\d+)/i.test(Jt.userAgent),os=!ns&&/Chrome\/(\d+)/.exec(Jt.userAgent),as="webkitFontSmoothing"in es.documentElement.style,ls=!ns&&/Apple Computer/.test(Jt.vendor),hs=ls&&(/Mobile\/\w+/.test(Jt.userAgent)||Jt.maxTouchPoints>2);var cs={mac:hs||/Mac/.test(Jt.platform),windows:/Win/.test(Jt.platform),linux:/Linux|X11/.test(Jt.platform),ie:ns,ie_version:ss?es.documentMode||6:is?+is[1]:ts?+ts[1]:0,gecko:rs,gecko_version:rs?+(/Firefox\/(\d+)/.exec(Jt.userAgent)||[0,0])[1]:0,chrome:!!os,chrome_version:os?+os[1]:0,ios:hs,android:/Android\b/.test(Jt.userAgent),webkit:as,safari:ls,webkit_version:as?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=es.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class ds extends Yt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,s){return(!s||s instanceof ds&&!(this.length-(t-e)+s.length>256))&&(this.text=this.text.slice(0,e)+(s?s.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new ds(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Zt(this.dom,e)}domBoundsAround(e,t,s){return{from:s,to:s+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return fs(this.dom,e,t)}}class ps extends Yt{constructor(e,t=[],s=0){super(),this.mark=e,this.children=t,this.length=s;for(let e of t)e.setParent(this)}setAttrs(e){if(Xt(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,t){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,s,i,n,r){return!(s&&(!(s instanceof ps&&s.mark.eq(this.mark))||e&&n<=0||t<this.length&&r<=0)||(Ut(this,e,t,s?s.children:[],n-1,r-1),this.markDirty(),0))}split(e){let t=[],s=0,i=-1,n=0;for(let r of this.children){let o=s+r.length;o>e&&t.push(s<e?r.split(e-s):r),i<0&&s>=e&&(i=n),s=o,n++}let r=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new ps(this.mark,t,r)}domAtPos(e){return bs(this,e)}coordsAt(e,t){return xs(this,e,t)}}function fs(e,t,s){let i=e.nodeValue.length;t>i&&(t=i);let n=t,r=t,o=0;0==t&&s<0||t==i&&s>=0?cs.chrome||cs.gecko||(t?(n--,o=1):r<i&&(r++,o=-1)):s<0?n--:r<i&&r++;let a=Wt(e,n,r).getClientRects();if(!a.length)return Lt;let l=a[(o?o<0:s>=0)?0:a.length-1];return cs.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(a,(e=>e.width))||l),o?zt(l,o<0):l||null}class us extends Yt{constructor(e,t,s){super(),this.widget=e,this.length=t,this.side=s,this.prevWidget=null}static create(e,t,s){return new(e.customView||us)(e,t,s)}split(e){let t=us.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,s,i,n,r){return!(s&&(!(s instanceof us&&this.widget.compare(s.widget))||e>0&&n<=0||t<this.length&&r<=0)||(this.length=e+(s?s.length:0)+(this.length-t),0))}become(e){return e.length==this.length&&e instanceof us&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return I.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,s=t&&t.state.doc,i=this.posAtStart;return s?s.slice(i,i+this.length):I.empty}domAtPos(e){return 0==e?Zt.before(this.dom):Zt.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let s=this.dom.getClientRects(),i=null;if(!s.length)return Lt;for(let t=e>0?s.length-1:0;i=s[t],!(e>0?0==t:t==s.length-1||i.top<i.bottom);t+=e>0?-1:1);return this.length?i:zt(i,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class ms extends us{domAtPos(e){let{topView:t,text:s}=this.widget;return t?gs(e,0,t,s,((e,t)=>e.domAtPos(t)),(e=>new Zt(s,Math.min(e,s.nodeValue.length)))):new Zt(s,Math.min(e,s.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:s,text:i}=this.widget;return s?ks(e,t,s,i):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:s,text:i}=this.widget;return s?gs(e,t,s,i,((e,t,s)=>e.coordsAt(t,s)),((e,t)=>fs(i,e,t))):fs(i,e,t)}destroy(){var e;super.destroy(),null===(e=this.widget.topView)||void 0===e||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function gs(e,t,s,i,n,r){if(s instanceof ps){for(let o=s.dom.firstChild;o;o=o.nextSibling){let s=Yt.get(o);if(!s)return r(e,t);let a=At(o,i),l=s.length+(a?i.nodeValue.length:0);if(e<l||e==l&&s.getSide()<=0)return a?gs(e,t,s,i,n,r):n(s,e,t);e-=l}return n(s,s.length,-1)}return s.dom==i?r(e,t):n(s,e,t)}function ks(e,t,s,i){if(s instanceof ps)for(let n of s.children){let s=0,r=At(n.dom,i);if(At(n.dom,e))return s+(r?ks(e,t,n,i):n.localPosFromDOM(e,t));s+=r?i.nodeValue.length:n.length}else if(s.dom==i)return Math.min(t,i.nodeValue.length);return s.localPosFromDOM(e,t)}class ys extends Yt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ys&&e.side==this.side}split(){return new ys(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Zt.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),s=function(e,t){let s=e.parent,i=s?s.children.indexOf(e):-1;for(;s&&i>=0;)if(t<0?i>0:i<s.children.length){let e=s.children[i+t];if(e instanceof ds){let s=e.coordsAt(t<0?e.length:0,t);if(s)return s}i+=t}else{if(!(s instanceof ps&&s.parent)){let e=s.dom.lastChild;if(e&&"BR"==e.nodeName)return e.getClientRects()[0];break}i=s.parent.children.indexOf(s)+(t<0?0:1),s=s.parent}}(this,this.side>0?-1:1);return s&&s.top<t.bottom&&s.bottom>t.top?{left:t.left,right:t.right,top:s.top,bottom:s.bottom}:t}get overrideDOMText(){return I.empty}}function bs(e,t){let s=e.dom,{children:i}=e,n=0;for(let e=0;n<i.length;n++){let r=i[n],o=e+r.length;if(!(o==e&&r.getSide()<=0)){if(t>e&&t<o&&r.dom.parentNode==s)return r.domAtPos(t-e);if(t<=e)break;e=o}}for(let e=n;e>0;e--){let t=i[e-1];if(t.dom.parentNode==s)return t.domAtPos(t.length)}for(let e=n;e<i.length;e++){let t=i[e];if(t.dom.parentNode==s)return t.domAtPos(0)}return new Zt(s,0)}function vs(e,t,s){let i,{children:n}=e;s>0&&t instanceof ps&&n.length&&(i=n[n.length-1])instanceof ps&&i.mark.eq(t.mark)?vs(i,t.children[0],s-1):(n.push(t),t.setParent(e)),e.length+=t.length}function xs(e,t,s){let i=null,n=-1,r=null,o=-1;!function e(t,s){for(let a=0,l=0;a<t.children.length&&l<=s;a++){let h=t.children[a],c=l+h.length;c>=s&&(h.children.length?e(h,s-l):!r&&(c>s||l==c&&h.getSide()>0)?(r=h,o=s-l):(l<s||l==c&&h.getSide()<0)&&(i=h,n=s-l)),l=c}}(e,t);let a=(s<0?i:r)||i||r;return a?a.coordsAt(Math.max(0,a==i?n:o),s):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let s=Qt(t);return s[s.length-1]||null}(e)}function Os(e,t){for(let s in e)"class"==s&&t.class?t.class+=" "+e.class:"style"==s&&t.style?t.style+=";"+e.style:t[s]=e[s];return t}function ws(e,t){if(e==t)return!0;if(!e||!t)return!1;let s=Object.keys(e),i=Object.keys(t);if(s.length!=i.length)return!1;for(let n of s)if(-1==i.indexOf(n)||e[n]!==t[n])return!1;return!0}function Ss(e,t,s){let i=null;if(t)for(let n in t)s&&n in s||e.removeAttribute(i=n);if(s)for(let n in s)t&&t[n]==s[n]||e.setAttribute(i=n,s[n]);return!!i}ds.prototype.children=us.prototype.children=ys.prototype.children=Gt;class _s{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var Ps=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(Ps||(Ps={}));class Ts extends et{constructor(e,t,s,i){super(),this.startSide=e,this.endSide=t,this.widget=s,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Rs(e)}static widget(e){let t=e.side||0,s=!!e.block;return t+=s?t>0?3e8:-4e8:t>0?1e8:-1e8,new Cs(e,t,t,s,e.widget||null,!1)}static replace(e){let t,s,i=!!e.block;if(e.isBlockGap)t=-5e8,s=4e8;else{let{start:n,end:r}=Qs(e,i);t=(n?i?-3e8:-1:5e8)-1,s=1+(r?i?2e8:1:-6e8)}return new Cs(e,t,s,i,e.widget||null,!0)}static line(e){return new As(e)}static set(e,t=!1){return nt.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}Ts.none=nt.empty;class Rs extends Ts{constructor(e){let{start:t,end:s}=Qs(e);super(t?-1:5e8,s?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Rs&&this.tagName==e.tagName&&this.class==e.class&&ws(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Rs.prototype.point=!1;class As extends Ts{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof As&&this.spec.class==e.spec.class&&ws(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}As.prototype.mapMode=se.TrackBefore,As.prototype.point=!0;class Cs extends Ts{constructor(e,t,s,i,n,r){super(t,s,n,e),this.block=i,this.isReplace=r,this.mapMode=i?t<=0?se.TrackBefore:se.TrackAfter:se.TrackDel}get type(){return this.startSide<this.endSide?Ps.WidgetRange:this.startSide<=0?Ps.WidgetBefore:Ps.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Cs&&((t=this.widget)==(s=e.widget)||!!(t&&s&&t.compare(s)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,s}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function Qs(e,t=!1){let{inclusiveStart:s,inclusiveEnd:i}=e;return null==s&&(s=e.inclusive),null==i&&(i=e.inclusive),{start:null!=s?s:t,end:null!=i?i:t}}function Ds(e,t,s,i=0){let n=s.length-1;n>=0&&s[n]+i>=e?s[n]=Math.max(s[n],t):s.push(e,t)}Cs.prototype.point=!0;class Ms extends Yt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,s,i,n,r){if(s){if(!(s instanceof Ms))return!1;this.dom||s.transferDOM(this)}return i&&this.setDeco(s?s.attrs:null),Ut(this,e,t,s?s.children:[],n,r),!0}split(e){let t=new Ms;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:s,off:i}=this.childPos(e);i&&(t.append(this.children[s].split(i),0),this.children[s].merge(i,this.children[s].length,null,!1,0,0),s++);for(let e=s;e<this.children.length;e++)t.append(this.children[e],0);for(;s>0&&0==this.children[s-1].length;)this.children[--s].destroy();return this.children.length=s,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){ws(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){vs(this,e,t)}addLineDeco(e){let t=e.spec.attributes,s=e.spec.class;t&&(this.attrs=Os(t,this.attrs||{})),s&&(this.attrs=Os({class:s},this.attrs||{}))}domAtPos(e){return bs(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}sync(e,t){var s;this.dom?4&this.dirty&&(Xt(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Ss(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Yt.get(i)instanceof ps;)i=i.lastChild;if(!(i&&this.length&&("BR"==i.nodeName||0!=(null===(s=Yt.get(i))||void 0===s?void 0:s.isEditable)||cs.ios&&this.children.some((e=>e instanceof ds))))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof ds)||/[^ -~]/.test(t.text))return null;let s=Qt(t.dom);if(1!=s.length)return null;e+=s[0].width}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}:null}coordsAt(e,t){return xs(this,e,t)}become(e){return!1}get type(){return Ps.Text}static find(e,t){for(let s=0,i=0;s<e.children.length;s++){let n=e.children[s],r=i+n.length;if(r>=t){if(n instanceof Ms)return n;if(r>t)break}i=r+n.breakAfter}return null}}class qs extends Yt{constructor(e,t,s){super(),this.widget=e,this.length=t,this.type=s,this.breakAfter=0,this.prevWidget=null}merge(e,t,s,i,n,r){return!(s&&(!(s instanceof qs&&this.widget.compare(s.widget))||e>0&&n<=0||t<this.length&&r<=0)||(this.length=e+(s?s.length:0)+(this.length-t),0))}domAtPos(e){return 0==e?Zt.before(this.dom):Zt.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let s=new qs(this.widget,t,this.type);return s.breakAfter=this.breakAfter,s}get children(){return Gt}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):I.empty}domBoundsAround(){return null}become(e){return e instanceof qs&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Is{constructor(e,t,s,i){this.doc=e,this.pos=t,this.end=s,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof qs&&e.type==Ps.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ms),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ls(new ys(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,t,s){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:s,done:i}=this.cursor.next(this.skip);if(this.skip=0,i)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-s)),this.getLine().append(Ls(new ds(this.text.slice(this.textOff,this.textOff+i)),t),s),this.atCursorPos=!0,this.textOff+=i,e-=i,s=0}}span(e,t,s,i){this.buildText(t-e,s,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,s,i,n,r){if(this.disallowBlockEffectsFor[r]&&s instanceof Cs){if(s.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(s instanceof Cs)if(s.block){let{type:e}=s;e!=Ps.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new qs(s.widget||new zs("div"),o,e))}else{let r=us.create(s.widget||new zs("span"),o,o?0:s.startSide),a=this.atCursorPos&&!r.isEditable&&n<=i.length&&(e<t||s.startSide>0),l=!r.isEditable&&(e<t||n>i.length||s.startSide<=0),h=this.getLine();2!=this.pendingBuffer||a||(this.pendingBuffer=0),this.flushBuffer(i),a&&(h.append(Ls(new ys(1),i),n),n=i.length+Math.max(0,n-i.length)),h.append(Ls(r,i),n),this.atCursorPos=l,this.pendingBuffer=l?e<t||n>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(s);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=n)}static build(e,t,s,i,n){let r=new Is(e,t,s,n);return r.openEnd=nt.spans(i,t,s,r),r.openStart<0&&(r.openStart=r.openEnd),r.finish(r.openEnd),r}}function Ls(e,t){for(let s of t)e=new ps(s,[e],e.length);return e}class zs extends _s{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const Fs=me.define(),$s=me.define(),Es=me.define(),Ns=me.define(),Bs=me.define(),Ws=me.define(),Vs=me.define(),Xs=me.define({combine:e=>e.some((e=>e))}),Zs=me.define({combine:e=>e.some((e=>e))});class Gs{constructor(e,t="nearest",s="nearest",i=5,n=5){this.range=e,this.y=t,this.x=s,this.yMargin=i,this.xMargin=n}map(e){return e.empty?this:new Gs(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Ys=Be.define({map:(e,t)=>e.map(t)});function Ks(e,t,s){let i=e.facet(Ns);i.length?i[0](t):window.onerror?window.onerror(String(t),s,void 0,void 0,t):s?console.error(s+":",t):console.error(t)}const Hs=me.define({combine:e=>!e.length||e[0]});let js=0;const Us=me.define();class Js{constructor(e,t,s,i){this.id=e,this.create=t,this.domEventHandlers=s,this.extension=i(this)}static define(e,t){const{eventHandlers:s,provide:i,decorations:n}=t||{};return new Js(js++,e,s,(e=>{let t=[Us.of(e)];return n&&t.push(ii.of((t=>{let s=t.plugin(e);return s?n(s):Ts.none}))),i&&t.push(i(e)),t}))}static fromClass(e,t){return Js.define((t=>new e(t)),t)}}class ei{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(Ks(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(e){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ks(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(t){Ks(e.state,t,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const ti=me.define(),si=me.define(),ii=me.define(),ni=me.define(),ri=me.define(),oi=me.define();class ai{constructor(e,t,s,i){this.fromA=e,this.toA=t,this.fromB=s,this.toB=i}join(e){return new ai(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,s=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>s.toA)){if(i.toA<s.fromA)break;s=s.join(i),e.splice(t-1,1)}}return e.splice(t,0,s),e}static extendWithRanges(e,t){if(0==t.length)return e;let s=[];for(let i=0,n=0,r=0,o=0;;i++){let a=i==e.length?null:e[i],l=r-o,h=a?a.fromB:1e9;for(;n<t.length&&t[n]<h;){let e=t[n],i=t[n+1],r=Math.max(o,e),a=Math.min(h,i);if(r<=a&&new ai(r+l,a+l,r,a).addToSet(s),i>h)break;n+=2}if(!a)return s;new ai(a.fromA,a.toA,a.fromB,a.toB).addToSet(s),r=a.toA,o=a.toB}}}class li{constructor(e,t,s){this.view=e,this.state=t,this.transactions=s,this.flags=0,this.startState=e.state,this.changes=ne.empty(this.startState.doc.length);for(let e of s)this.changes=this.changes.compose(e.changes);let i=[];this.changes.iterChangedRanges(((e,t,s,n)=>i.push(new ai(e,t,s,n)))),this.changedRanges=i}static create(e,t,s){return new li(e,t,s)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some((e=>e.selection))}get empty(){return 0==this.flags&&0==this.transactions.length}}var hi=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(hi||(hi={}));const ci=hi.LTR,di=hi.RTL;function pi(e){let t=[];for(let s=0;s<e.length;s++)t.push(1<<+e[s]);return t}const fi=pi("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ui=pi("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),mi=Object.create(null),gi=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),s=e.charCodeAt(1);mi[t]=s,mi[s]=-t}const ki=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class yi{constructor(e,t,s){this.from=e,this.to=t,this.level=s}get dir(){return this.level%2?di:ci}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,s,i){let n=-1;for(let r=0;r<e.length;r++){let o=e[r];if(o.from<=t&&o.to>=t){if(o.level==s)return r;(n<0||(0!=i?i<0?o.from<t:o.to>t:e[n].level>o.level))&&(n=r)}}if(n<0)throw new RangeError("Index out of range");return n}}const bi=[];function vi(e){return[new yi(0,e,0)]}let xi="";function Oi(e,t,s,i,n){var r;let o=i.head-e.from,a=-1;if(0==o){if(!n||!e.length)return null;t[0].level!=s&&(o=t[0].side(!1,s),a=0)}else if(o==e.length){if(n)return null;let e=t[t.length-1];e.level!=s&&(o=e.side(!0,s),a=t.length-1)}a<0&&(a=yi.find(t,o,null!==(r=i.bidiLevel)&&void 0!==r?r:-1,i.assoc));let l=t[a];o==l.side(n,s)&&(l=t[a+=n?1:-1],o=l.side(!n,s));let h=n==(l.dir==s),c=Y(e.text,o,h);if(xi=e.text.slice(Math.min(o,c),Math.max(o,c)),c!=l.side(n,s))return pe.cursor(c+e.from,h?-1:1,l.level);let d=a==(n?t.length-1:0)?null:t[a+(n?1:-1)];return d||l.level==s?d&&d.level<l.level?pe.cursor(d.side(!n,s)+e.from,n?1:-1,d.level):pe.cursor(c+e.from,n?-1:1,l.level):pe.cursor(n?e.to:e.from,n?-1:1,s)}const wi="";class Si{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Je.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=wi}readRange(e,t){if(!e)return this;let s=e.parentNode;for(let i=e;;){this.findPointBefore(s,i),this.readNode(i);let e=i.nextSibling;if(e==t)break;let n=Yt.get(i),r=Yt.get(e);(n&&r?n.breakAfter:(n?n.breakAfter:_i(i))||_i(e)&&("BR"!=i.nodeName||i.cmIgnore))&&this.lineBreak(),i=e}return this.findPointBefore(s,t),this}readTextNode(e){let t=e.nodeValue;for(let s of this.points)s.node==e&&(s.pos=this.text.length+Math.min(s.offset,t.length));for(let s=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let n,r=-1,o=1;if(this.lineSeparator?(r=t.indexOf(this.lineSeparator,s),o=this.lineSeparator.length):(n=i.exec(t))&&(r=n.index,o=n[0].length),this.append(t.slice(s,r<0?t.length:r)),r<0)break;if(this.lineBreak(),o>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=o-1);s=r+o}}readNode(e){if(e.cmIgnore)return;let t=Yt.get(e),s=t&&t.overrideDOMText;if(null!=s){this.findPointInside(e,s.length);for(let e=s.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let s of this.points)s.node==e&&e.childNodes[s.offset]==t&&(s.pos=this.text.length)}findPointInside(e,t){for(let s of this.points)(3==e.nodeType?s.node==e:e.contains(s.node))&&(s.pos=this.text.length+Math.min(t,s.offset))}}function _i(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class Pi{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Ti extends Yt{constructor(e){super(),this.view=e,this.compositionDeco=Ts.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ms],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ai(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every((({fromA:e,toA:t})=>t<this.minWidthFrom||e>this.minWidthTo))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Ts.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){let s=Ai(e);if(!s)return Ts.none;let{from:i,to:n,node:r,text:o}=s,a=t.mapPos(i,1),l=Math.max(a,t.mapPos(n,-1)),{state:h}=e,c=3==r.nodeType?r.nodeValue:new Si([],h).readRange(r.firstChild,null).text;if(l-a<c.length)if(h.doc.sliceString(a,Math.min(h.doc.length,a+c.length),wi)==c)l=a+c.length;else{if(h.doc.sliceString(Math.max(0,l-c.length),l,wi)!=c)return Ts.none;a=l-c.length}else if(h.doc.sliceString(a,l,wi)!=c)return Ts.none;let d=Yt.get(r);return d instanceof ms?d=d.widget.topView:d&&(d.parent=null),Ts.set(Ts.replace({widget:new Ci(r,o,d),inclusive:!0}).range(a,l))}(this.view,e.changes)),(cs.ie||cs.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=function(e,t,s){let i=new Di;return nt.compare(e,t,s,i),i.changes}(this.decorations,this.updateDeco(),e.changes);return t=ai.extendWithRanges(t,s),(0!=this.dirty||0!=t.length)&&(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:s}=this.view;s.ignore((()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=cs.chrome||cs.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.dirty=0,e&&(e.written||s.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}));let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let e of this.children)e instanceof qs&&e.widget instanceof Ri&&i.push(e.dom);s.updateGaps(i)}updateChildren(e,t){let s=this.childCursor(t);for(let t=e.length-1;;t--){let i=t>=0?e[t]:null;if(!i)break;let{fromA:n,toA:r,fromB:o,toB:a}=i,{content:l,breakAtStart:h,openStart:c,openEnd:d}=Is.build(this.view.state.doc,o,a,this.decorations,this.dynamicDecorationMap),{i:p,off:f}=s.findPos(r,1),{i:u,off:m}=s.findPos(n,-1);jt(this,u,m,p,f,l,h,c,d)}}updateSelection(e=!1,t=!1){if(!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),!t&&!this.mayControlSelection())return;let s=this.forceSelection;this.forceSelection=!1;let i=this.view.state.selection.main,n=this.domAtPos(i.anchor),r=i.empty?n:this.domAtPos(i.head);if(cs.gecko&&i.empty&&1==(o=n).node.nodeType&&o.node.firstChild&&(0==o.offset||"false"==o.node.childNodes[o.offset-1].contentEditable)&&(o.offset==o.node.childNodes.length||"false"==o.node.childNodes[o.offset].contentEditable)){let e=document.createTextNode("");this.view.observer.ignore((()=>n.node.insertBefore(e,n.node.childNodes[n.offset]||null))),n=r=new Zt(e,0),s=!0}var o;let a=this.view.observer.selectionRange;!s&&a.focusNode&&Dt(n.node,n.offset,a.anchorNode,a.anchorOffset)&&Dt(r.node,r.offset,a.focusNode,a.focusOffset)||(this.view.observer.ignore((()=>{cs.android&&cs.chrome&&this.dom.contains(a.focusNode)&&function(e,t){for(let s=e;s&&s!=t;s=s.assignedSlot||s.parentNode)if(1==s.nodeType&&"false"==s.contentEditable)return!0;return!1}(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=Rt(this.view.root);if(e)if(i.empty){if(cs.gecko){let e=(t=n.node,s=n.offset,1!=t.nodeType?0:(s&&"false"==t.childNodes[s-1].contentEditable?1:0)|(s<t.childNodes.length&&"false"==t.childNodes[s].contentEditable?2:0));if(e&&3!=e){let t=Qi(n.node,n.offset,1==e?1:-1);t&&(n=new Zt(t,1==e?0:t.nodeValue.length))}}e.collapse(n.node,n.offset),null!=i.bidiLevel&&null!=a.cursorBidiLevel&&(a.cursorBidiLevel=i.bidiLevel)}else if(e.extend){e.collapse(n.node,n.offset);try{e.extend(r.node,r.offset)}catch(e){}}else{let t=document.createRange();i.anchor>i.head&&([n,r]=[r,n]),t.setEnd(r.node,r.offset),t.setStart(n.node,n.offset),e.removeAllRanges(),e.addRange(t)}var t,s})),this.view.observer.setSelectionRange(n,r)),this.impreciseAnchor=n.precise?null:new Zt(a.anchorNode,a.anchorOffset),this.impreciseHead=r.precise?null:new Zt(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,t=e.state.selection.main,s=Rt(e.root),{anchorNode:i,anchorOffset:n}=e.observer.selectionRange;if(!(s&&t.empty&&t.assoc&&s.modify))return;let r=Ms.find(this,t.head);if(!r)return;let o=r.posAtStart;if(t.head==o||t.head==o+r.length)return;let a=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!a||!l||a.bottom>l.top)return;let h=this.domAtPos(t.head+t.assoc);s.collapse(h.node,h.offset),s.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let c=e.observer.selectionRange;e.docView.posFromDOM(c.anchorNode,c.anchorOffset)!=t.from&&s.collapse(i,n)}mayControlSelection(){let e=this.view.root.activeElement;return e==this.dom||Ct(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}nearest(e){for(let t=e;t;){let e=Yt.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let s=this.nearest(e);if(!s)throw new RangeError("Trying to find position for a DOM position outside of the document");return s.localPosFromDOM(e,t)+s.posAtStart}domAtPos(e){let{i:t,off:s}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(s<e.length||e instanceof Ms)break;t++,s=0}return this.children[t].domAtPos(s)}coordsAt(e,t){for(let s=this.length,i=this.children.length-1;;i--){let n=this.children[i],r=s-n.breakAfter-n.length;if(e>r||e==r&&n.type!=Ps.WidgetBefore&&n.type!=Ps.WidgetAfter&&(!i||2==t||this.children[i-1].breakAfter||this.children[i-1].type==Ps.WidgetBefore&&t>-2))return n.coordsAt(e-r,t);s=r}}measureVisibleLineHeights(e){let t=[],{from:s,to:i}=e,n=this.view.contentDOM.clientWidth,r=n>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==hi.LTR;for(let e=0,l=0;l<this.children.length;l++){let h=this.children[l],c=e+h.length;if(c>i)break;if(e>=s){let s=h.dom.getBoundingClientRect();if(t.push(s.height),r){let t=h.dom.lastChild,i=t?Qt(t):[];if(i.length){let t=i[i.length-1],r=a?t.right-s.left:s.right-t.left;r>o&&(o=r,this.minWidth=n,this.minWidthFrom=e,this.minWidthTo=c)}}}e=c+h.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?hi.RTL:hi.LTR}measureTextSize(){for(let e of this.children)if(e instanceof Ms){let t=e.measureTextSize();if(t)return t}let e,t,s=document.createElement("div");return s.className="cm-line",s.style.width="99999px",s.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((()=>{this.dom.appendChild(s);let i=Qt(s.firstChild)[0];e=s.getBoundingClientRect().height,t=i?i.width/27:7,s.remove()})),{lineHeight:e,charWidth:t}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Ht(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let s=0,i=0;;i++){let n=i==t.viewports.length?null:t.viewports[i],r=n?n.from-1:this.length;if(r>s){let i=t.lineBlockAt(r).bottom-t.lineBlockAt(s).top;e.push(Ts.replace({widget:new Ri(i),block:!0,inclusive:!0,isBlockGap:!0}).range(s,r))}if(!n)break;s=n.to+1}return Ts.set(e)}updateDeco(){let e=this.view.state.facet(ii).map(((e,t)=>(this.dynamicDecorationMap[t]="function"==typeof e)?e(this.view):e));for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let t,{range:s}=e,i=this.coordsAt(s.head,s.empty?s.assoc:s.head>s.anchor?-1:1);if(!i)return;!s.empty&&(t=this.coordsAt(s.anchor,s.anchor>s.head?-1:1))&&(i={left:Math.min(i.left,t.left),top:Math.min(i.top,t.top),right:Math.max(i.right,t.right),bottom:Math.max(i.bottom,t.bottom)});let n=0,r=0,o=0,a=0;for(let e of this.view.state.facet(ri).map((e=>e(this.view))))if(e){let{left:t,right:s,top:i,bottom:l}=e;null!=t&&(n=Math.max(n,t)),null!=s&&(r=Math.max(r,s)),null!=i&&(o=Math.max(o,i)),null!=l&&(a=Math.max(a,l))}let l={left:i.left-n,top:i.top-o,right:i.right+r,bottom:i.bottom+a};!function(e,t,s,i,n,r,o,a){let l=e.ownerDocument,h=l.defaultView||window;for(let c=e;c;)if(1==c.nodeType){let e,d=c==l.body;if(d)e=Ft(h);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let t=c.getBoundingClientRect();e={left:t.left,right:t.left+c.clientWidth,top:t.top,bottom:t.top+c.clientHeight}}let p=0,f=0;if("nearest"==n)t.top<e.top?(f=-(e.top-t.top+o),s>0&&t.bottom>e.bottom+f&&(f=t.bottom-e.bottom+f+o)):t.bottom>e.bottom&&(f=t.bottom-e.bottom+o,s<0&&t.top-f<e.top&&(f=-(e.top+f-t.top+o)));else{let i=t.bottom-t.top,r=e.bottom-e.top;f=("center"==n&&i<=r?t.top+i/2-r/2:"start"==n||"center"==n&&s<0?t.top-o:t.bottom-r+o)-e.top}if("nearest"==i?t.left<e.left?(p=-(e.left-t.left+r),s>0&&t.right>e.right+p&&(p=t.right-e.right+p+r)):t.right>e.right&&(p=t.right-e.right+r,s<0&&t.left<e.left+p&&(p=-(e.left+p-t.left+r))):p=("center"==i?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==i==a?t.left-r:t.right-(e.right-e.left)+r)-e.left,p||f)if(d)h.scrollBy(p,f);else{let e=0,s=0;if(f){let e=c.scrollTop;c.scrollTop+=f,s=c.scrollTop-e}if(p){let t=c.scrollLeft;c.scrollLeft+=p,e=c.scrollLeft-t}t={left:t.left-e,top:t.top-s,right:t.right-e,bottom:t.bottom-s},e&&Math.abs(e-p)<1&&(i="nearest"),s&&Math.abs(s-f)<1&&(n="nearest")}if(d)break;c=c.assignedSlot||c.parentNode}else{if(11!=c.nodeType)break;c=c.host}}(this.view.scrollDOM,l,s.head<s.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==hi.LTR)}}class Ri extends _s{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Ai(e){let t=e.observer.selectionRange,s=t.focusNode&&Qi(t.focusNode,t.focusOffset,0);if(!s)return null;let i=e.docView.nearest(s);if(!i)return null;if(i instanceof Ms){let e=s;for(;e.parentNode!=i.dom;)e=e.parentNode;let t=e.previousSibling;for(;t&&!Yt.get(t);)t=t.previousSibling;let n=t?Yt.get(t).posAtEnd:i.posAtStart;return{from:n,to:n,node:e,text:s}}{for(;;){let{parent:e}=i;if(!e)return null;if(e instanceof Ms)break;i=e}let e=i.posAtStart;return{from:e,to:e+i.length,node:i.dom,text:s}}}class Ci extends _s{constructor(e,t,s){super(),this.top=e,this.text=t,this.topView=s}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return ms}}function Qi(e,t,s){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&s<=0)t=It(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&s>=0))return null;e=e.childNodes[t],t=0}}}class Di{constructor(){this.changes=[]}compareRange(e,t){Ds(e,t,this.changes)}comparePoint(e,t){Ds(e,t,this.changes)}}function Mi(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function qi(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Ii(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function Li(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function zi(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Fi(e,t,s){let i,n,r,o,a,l,h,c,d=!1;for(let p=e.firstChild;p;p=p.nextSibling){let e=Qt(p);for(let f=0;f<e.length;f++){let u=e[f];n&&Ii(n,u)&&(u=Li(zi(u,n.bottom),n.top));let m=Mi(t,u),g=qi(s,u);if(0==m&&0==g)return 3==p.nodeType?$i(p,t,s):Fi(p,t,s);if(!i||o>g||o==g&&r>m){i=p,n=u,r=m,o=g;let a=g?s<u.top?-1:1:m?t<u.left?-1:1:0;d=!a||(a>0?f<e.length-1:f>0)}0==m?s>u.bottom&&(!h||h.bottom<u.bottom)?(a=p,h=u):s<u.top&&(!c||c.top>u.top)&&(l=p,c=u):h&&Ii(h,u)?h=zi(h,u.bottom):c&&Ii(c,u)&&(c=Li(c,u.top))}}if(h&&h.bottom>=s?(i=a,n=h):c&&c.top<=s&&(i=l,n=c),!i)return{node:e,offset:0};let p=Math.max(n.left,Math.min(n.right,t));return 3==i.nodeType?$i(i,p,s):d&&"false"!=i.contentEditable?Fi(i,p,s):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,i)+(t>=(n.left+n.right)/2?1:0)}}function $i(e,t,s){let i=e.nodeValue.length,n=-1,r=1e9,o=0;for(let a=0;a<i;a++){let i=Wt(e,a,a+1).getClientRects();for(let l=0;l<i.length;l++){let h=i[l];if(h.top==h.bottom)continue;o||(o=t-h.left);let c=(h.top>s?h.top-s:s-h.bottom)-1;if(h.left-1<=t&&h.right+1>=t&&c<r){let s=t>=(h.left+h.right)/2,i=s;if((cs.chrome||cs.gecko)&&Wt(e,a).getBoundingClientRect().left==h.right&&(i=!s),c<=0)return{node:e,offset:a+(i?1:0)};n=a+(i?1:0),r=c}}}return{node:e,offset:n>-1?n:o>0?e.nodeValue.length:0}}function Ei(e,t,s,i=-1){var n;let r,o=e.contentDOM.getBoundingClientRect(),a=o.top+e.viewState.paddingTop,{docHeight:l}=e.viewState,{x:h,y:c}=t,d=c-a;if(d<0)return 0;if(d>l)return e.state.doc.length;for(let t=e.defaultLineHeight/2,n=!1;r=e.elementAtHeight(d),r.type!=Ps.Text;)for(;d=i>0?r.bottom+t:r.top-t,!(d>=0&&d<=l);){if(n)return s?null:0;n=!0,i=-i}c=a+d;let p=r.from;if(p<e.viewport.from)return 0==e.viewport.from?0:s?null:Ni(e,o,r,h,c);if(p>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:s?null:Ni(e,o,r,h,c);let f=e.dom.ownerDocument,u=e.root.elementFromPoint?e.root:f,m=u.elementFromPoint(h,c);m&&!e.contentDOM.contains(m)&&(m=null),m||(h=Math.max(o.left+1,Math.min(o.right-1,h)),m=u.elementFromPoint(h,c),m&&!e.contentDOM.contains(m)&&(m=null));let g,k=-1;if(m&&0!=(null===(n=e.docView.nearest(m))||void 0===n?void 0:n.isEditable))if(f.caretPositionFromPoint){let e=f.caretPositionFromPoint(h,c);e&&({offsetNode:g,offset:k}=e)}else if(f.caretRangeFromPoint){let t=f.caretRangeFromPoint(h,c);t&&(({startContainer:g,startOffset:k}=t),(!e.contentDOM.contains(g)||cs.safari&&function(e,t,s){let i;if(3!=e.nodeType||t!=(i=e.nodeValue.length))return!1;for(let t=e.nextSibling;t;t=t.nextSibling)if(1!=t.nodeType||"BR"!=t.nodeName)return!1;return Wt(e,i-1,i).getBoundingClientRect().left>s}(g,k,h)||cs.chrome&&function(e,t,s){if(0!=t)return!1;for(let t=e;;){let e=t.parentNode;if(!e||1!=e.nodeType||e.firstChild!=t)return!1;if(e.classList.contains("cm-line"))break;t=e}return s-(1==e.nodeType?e.getBoundingClientRect():Wt(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect()).left>5}(g,k,h))&&(g=void 0))}if(!g||!e.docView.dom.contains(g)){let t=Ms.find(e.docView,p);if(!t)return d>r.top+r.height/2?r.to:r.from;({node:g,offset:k}=Fi(t.dom,h,c))}let y=e.docView.nearest(g);if(!y)return null;if(y.isWidget){let e=y.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?y.posAtStart:y.posAtEnd}return y.localPosFromDOM(g,k)+y.posAtStart}function Ni(e,t,s,i,n){let r=Math.round((i-t.left)*e.defaultCharacterWidth);e.lineWrapping&&s.height>1.5*e.defaultLineHeight&&(r+=Math.floor((n-s.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength);let o=e.state.sliceDoc(s.from,s.to);return s.from+function(e,t,s,i){for(let i=0,n=0;;){if(n>=t)return i;if(i==e.length)break;n+=9==e.charCodeAt(i)?s-n%s:1,i=Y(e,i)}return e.length}(o,r,e.state.tabSize)}function Bi(e,t,s,i){let n=e.state.doc.lineAt(t.head),r=e.bidiSpans(n),o=e.textDirectionAt(n.from);for(let a=t,l=null;;){let t=Oi(n,r,o,a,s),h=xi;if(!t){if(n.number==(s?e.state.doc.lines:1))return a;h="\n",n=e.state.doc.line(n.number+(s?1:-1)),r=e.bidiSpans(n),t=pe.cursor(s?n.from:n.to)}if(l){if(!l(h))return a}else{if(!i)return t;l=i(h)}a=t}}function Wi(e,t,s){let i=e.state.facet(ni).map((t=>t(e)));for(;;){let e=!1;for(let n of i)n.between(s.from-1,s.from+1,((i,n,r)=>{s.from>i&&s.from<n&&(s=t.head>s.from?pe.cursor(i,1):pe.cursor(n,-1),e=!0)}));if(!e)return s}}class Vi{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;let t=(t,s)=>{this.ignoreDuringComposition(s)||"keydown"==s.type&&this.keydown(e,s)||(this.mustFlushObserver(s)&&e.observer.forceFlush(),this.runCustomHandlers(s.type,e,s)?s.preventDefault():t(e,s))};for(let s in ji){let i=ji[s];e.contentDOM.addEventListener(s,(s=>{Hi(e,s)&&t(i,s)}),Ui[s]),this.registeredEvents.push(s)}e.scrollDOM.addEventListener("mousedown",(s=>{s.target==e.scrollDOM&&s.clientY>e.contentDOM.getBoundingClientRect().bottom&&t(ji.mousedown,s)})),cs.chrome&&102==cs.chrome_version&&e.scrollDOM.addEventListener("wheel",(()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout((()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=e.hasFocus,cs.safari&&e.contentDOM.addEventListener("input",(()=>null))}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var s;let i;this.customHandlers=[];for(let n of t)if(i=null===(s=n.update(e).spec)||void 0===s?void 0:s.domEventHandlers){this.customHandlers.push({plugin:n.value,handlers:i});for(let t in i)this.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(this.registeredEvents.push(t),e.contentDOM.addEventListener(t,(s=>{Hi(e,s)&&this.runCustomHandlers(t,e,s)&&s.preventDefault()})))}}runCustomHandlers(e,t,s){for(let i of this.customHandlers){let n=i.handlers[e];if(n)try{if(n.call(i.plugin,s,t)||s.defaultPrevented)return!0}catch(e){Ks(t.state,e)}}return!1}runScrollHandlers(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let s of this.customHandlers){let i=s.handlers.scroll;if(i)try{i.call(s.plugin,t,e)}catch(t){Ks(e.state,t)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3)return!0;if(cs.android&&cs.chrome&&!t.synthetic&&(13==t.keyCode||8==t.keyCode))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let s;return!(!cs.ios||t.synthetic||t.altKey||t.metaKey||!((s=Xi.find((e=>e.keyCode==t.keyCode)))&&!t.ctrlKey||Zi.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)||(this.pendingIOSKey=s||t,setTimeout((()=>this.flushIOSKey(e)),250),0))}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,Vt(e.contentDOM,t.key,t.keyCode))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(cs.safari&&!cs.ios&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}mustFlushObserver(e){return"keydown"==e.type&&229!=e.keyCode}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Xi=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Zi="dthko",Gi=[16,17,18,20,91,92,224,225];function Yi(e){return.7*e+8}class Ki{constructor(e,t,s,i){this.view=e,this.style=s,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParent=function(e){let t=e.ownerDocument;for(let s=e.parentNode;s&&s!=t.body;)if(1==s.nodeType){if(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth)return s;s=s.assignedSlot||s.parentNode}else{if(11!=s.nodeType)break;s=s.host}return null}(e.contentDOM);let n=e.contentDOM.ownerDocument;n.addEventListener("mousemove",this.move=this.move.bind(this)),n.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Je.allowMultipleSelections)&&function(e,t){let s=e.state.facet(Fs);return s.length?s[0](t):cs.mac?t.metaKey:t.ctrlKey}(e,t),this.dragMove=function(e,t){let s=e.state.facet($s);return s.length?s[0](t):cs.mac?!t.altKey:!t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:s}=e.state.selection;if(s.empty)return!1;let i=Rt(e.root);if(!i||0==i.rangeCount)return!0;let n=i.getRangeAt(0).getClientRects();for(let e=0;e<n.length;e++){let s=n[e];if(s.left<=t.clientX&&s.right>=t.clientX&&s.top<=t.clientY&&s.bottom>=t.clientY)return!0}return!1}(e,t)||1!=dn(t))&&null}start(e){!1===this.dragging&&(e.preventDefault(),this.select(e))}move(e){var t;if(0==e.buttons)return this.destroy();if(!1!==this.dragging)return;this.select(this.lastEvent=e);let s=0,i=0,n=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=n.left?s=-Yi(n.left-e.clientX):e.clientX>=n.right&&(s=Yi(e.clientX-n.right)),e.clientY<=n.top?i=-Yi(n.top-e.clientY):e.clientY>=n.bottom&&(i=Yi(e.clientY-n.bottom)),this.setScrollSpeed(s,i)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((()=>this.scroll()),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}select(e){let t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((()=>this.select(this.lastEvent)),20)}}function Hi(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let s,i=t.target;i!=e.contentDOM;i=i.parentNode)if(!i||11==i.nodeType||(s=Yt.get(i))&&s.ignoreEvent(t))return!1;return!0}const ji=Object.create(null),Ui=Object.create(null),Ji=cs.ie&&cs.ie_version<15||cs.ios&&cs.webkit_version<604;function en(e,t){let s,{state:i}=e,n=1,r=i.toText(t),o=r.lines==i.selection.ranges.length;if(null!=fn&&i.selection.ranges.every((e=>e.empty))&&fn==r.toString()){let e=-1;s=i.changeByRange((s=>{let a=i.doc.lineAt(s.from);if(a.from==e)return{range:s};e=a.from;let l=i.toText((o?r.line(n++).text:t)+i.lineBreak);return{changes:{from:a.from,insert:l},range:pe.cursor(s.from+l.length)}}))}else s=o?i.changeByRange((e=>{let t=r.line(n++);return{changes:{from:e.from,to:e.to,insert:t.text},range:pe.cursor(e.from+t.length)}})):i.replaceSelection(r);e.dispatch(s,{userEvent:"input.paste",scrollIntoView:!0})}function tn(e,t,s,i){if(1==i)return pe.cursor(t,s);if(2==i)return function(e,t,s=1){let i=e.charCategorizer(t),n=e.doc.lineAt(t),r=t-n.from;if(0==n.length)return pe.cursor(t);0==r?s=1:r==n.length&&(s=-1);let o=r,a=r;s<0?o=Y(n.text,r,!1):a=Y(n.text,r);let l=i(n.text.slice(o,a));for(;o>0;){let e=Y(n.text,o,!1);if(i(n.text.slice(e,o))!=l)break;o=e}for(;a<n.length;){let e=Y(n.text,a);if(i(n.text.slice(a,e))!=l)break;a=e}return pe.range(o+n.from,a+n.from)}(e.state,t,s);{let s=Ms.find(e.docView,t),i=e.state.doc.lineAt(s?s.posAtEnd:t),n=s?s.posAtStart:i.from,r=s?s.posAtEnd:i.to;return r<e.state.doc.length&&r==i.to&&r++,pe.range(n,r)}}ji.keydown=(e,t)=>{e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():Gi.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)},ji.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},ji.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},Ui.touchstart=Ui.touchmove={passive:!0},ji.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return;let s=null;for(let i of e.state.facet(Es))if(s=i(e,t),s)break;if(s||0!=t.button||(s=function(e,t){let s=on(e,t),i=dn(t),n=e.state.selection;return{update(e){e.docChanged&&(s.pos=e.changes.mapPos(s.pos),n=n.map(e.changes))},get(t,r,o){let a=on(e,t),l=tn(e,a.pos,a.bias,i);if(s.pos!=a.pos&&!r){let t=tn(e,s.pos,s.bias,i),n=Math.min(t.from,l.from),r=Math.max(t.to,l.to);l=n<l.from?pe.range(n,r):pe.range(r,n)}return r?n.replaceRange(n.main.extend(l.from,l.to)):o&&n.ranges.length>1&&n.ranges.some((e=>e.eq(l)))?function(e,t){for(let s=0;;s++)if(e.ranges[s].eq(t))return pe.create(e.ranges.slice(0,s).concat(e.ranges.slice(s+1)),e.mainIndex==s?0:e.mainIndex-(e.mainIndex>s?1:0))}(n,l):o?n.addRange(l):pe.create([l])}}}(e,t)),s){let i=e.root.activeElement!=e.contentDOM;e.inputState.startMouseSelection(new Ki(e,t,s,i)),i&&e.observer.ignore((()=>Bt(e.contentDOM))),e.inputState.mouseSelection&&e.inputState.mouseSelection.start(t)}};let sn=(e,t)=>e>=t.top&&e<=t.bottom,nn=(e,t,s)=>sn(t,s)&&e>=s.left&&e<=s.right;function rn(e,t,s,i){let n=Ms.find(e.docView,t);if(!n)return 1;let r=t-n.posAtStart;if(0==r)return 1;if(r==n.length)return-1;let o=n.coordsAt(r,-1);if(o&&nn(s,i,o))return-1;let a=n.coordsAt(r,1);return a&&nn(s,i,a)?1:o&&sn(i,o)?-1:1}function on(e,t){let s=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:s,bias:rn(e,s,t.clientX,t.clientY)}}const an=cs.ie&&cs.ie_version<=11;let ln=null,hn=0,cn=0;function dn(e){if(!an)return e.detail;let t=ln,s=cn;return ln=e,cn=Date.now(),hn=!t||s>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(hn+1)%3:1}function pn(e,t,s,i){if(!s)return;let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();let{mouseSelection:r}=e.inputState,o=i&&r&&r.dragging&&r.dragMove?{from:r.dragging.from,to:r.dragging.to}:null,a={from:n,insert:s},l=e.state.changes(o?[o,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(n,-1),head:l.mapPos(n,1)},userEvent:o?"move.drop":"input.drop"})}ji.dragstart=(e,t)=>{let{selection:{main:s}}=e.state,{mouseSelection:i}=e.inputState;i&&(i.dragging=s),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(s.from,s.to)),t.dataTransfer.effectAllowed="copyMove")},ji.drop=(e,t)=>{if(!t.dataTransfer)return;if(e.state.readOnly)return t.preventDefault();let s=t.dataTransfer.files;if(s&&s.length){t.preventDefault();let i=Array(s.length),n=0,r=()=>{++n==s.length&&pn(e,t,i.filter((e=>null!=e)).join(e.state.lineBreak),!1)};for(let e=0;e<s.length;e++){let t=new FileReader;t.onerror=r,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(i[e]=t.result),r()},t.readAsText(s[e])}}else pn(e,t,t.dataTransfer.getData("Text"),!0)},ji.paste=(e,t)=>{if(e.state.readOnly)return t.preventDefault();e.observer.flush();let s=Ji?null:t.clipboardData;s?(en(e,s.getData("text/plain")),t.preventDefault()):function(e){let t=e.dom.parentNode;if(!t)return;let s=t.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus(),setTimeout((()=>{e.focus(),s.remove(),en(e,s.value)}),50)}(e)};let fn=null;ji.copy=ji.cut=(e,t)=>{let{text:s,ranges:i,linewise:n}=function(e){let t=[],s=[],i=!1;for(let i of e.selection.ranges)i.empty||(t.push(e.sliceDoc(i.from,i.to)),s.push(i));if(!t.length){let n=-1;for(let{from:i}of e.selection.ranges){let r=e.doc.lineAt(i);r.number>n&&(t.push(r.text),s.push({from:r.from,to:Math.min(e.doc.length,r.to+1)})),n=r.number}i=!0}return{text:t.join(e.lineBreak),ranges:s,linewise:i}}(e.state);if(!s&&!n)return;fn=n?s:null;let r=Ji?null:t.clipboardData;r?(t.preventDefault(),r.clearData(),r.setData("text/plain",s)):function(e,t){let s=e.dom.parentNode;if(!s)return;let i=s.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=t,i.focus(),i.selectionEnd=t.length,i.selectionStart=0,setTimeout((()=>{i.remove(),e.focus()}),50)}(e,s),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};const un=$e.define();function mn(e,t){let s=[];for(let i of e.facet(Vs)){let n=i(e,t);n&&s.push(n)}return s?e.update({effects:s,annotations:un.of(!0)}):null}function gn(e){setTimeout((()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let s=mn(e.state,t);s?e.dispatch(s):e.update([])}}),10)}ji.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),gn(e)},ji.blur=e=>{e.observer.clearSelectionRange(),gn(e)},ji.compositionstart=ji.compositionupdate=e=>{null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},ji.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,cs.chrome&&cs.android&&e.observer.flushSoon(),setTimeout((()=>{e.inputState.composing<0&&e.docView.compositionDeco.size&&e.update([])}),50)},ji.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},ji.beforeinput=(e,t)=>{var s;let i;if(cs.chrome&&cs.android&&(i=Xi.find((e=>e.inputType==t.inputType)))&&(e.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let t=(null===(s=window.visualViewport)||void 0===s?void 0:s.height)||0;setTimeout((()=>{var s;((null===(s=window.visualViewport)||void 0===s?void 0:s.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};const kn=["pre-wrap","normal","pre-line","break-spaces"];class yn{constructor(e){this.lineWrapping=e,this.doc=I.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let s=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(s+=Math.max(0,Math.ceil((t-e-s*this.lineLength*.5)/this.lineLength))),this.lineHeight*s}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return kn.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let s=0;s<e.length;s++){let i=e[s];i<0?s++:this.heightSamples[Math.floor(10*i)]||(t=!0,this.heightSamples[Math.floor(10*i)]=!0)}return t}refresh(e,t,s,i,n){let r=kn.indexOf(e)>-1,o=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=r;if(this.lineWrapping=r,this.lineHeight=t,this.charWidth=s,this.lineLength=i,o){this.heightSamples={};for(let e=0;e<n.length;e++){let t=n[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return o}}class bn{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class vn{constructor(e,t,s,i,n){this.from=e,this.length=t,this.top=s,this.height=i,this.type=n}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new vn(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var xn=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(xn||(xn={}));const On=.001;class wn{constructor(e,t,s=2){this.length=e,this.height=t,this.flags=s}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>On&&(e.heightChanged=!0),this.height=t)}replace(e,t,s){return wn.of(s)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,s,i){let n=this,r=s.doc;for(let o=i.length-1;o>=0;o--){let{fromA:a,toA:l,fromB:h,toB:c}=i[o],d=n.lineAt(a,xn.ByPosNoHeight,s.setDoc(t),0,0),p=d.to>=l?d:n.lineAt(l,xn.ByPosNoHeight,s,0,0);for(c+=p.to-l,l=p.to;o>0&&d.from<=i[o-1].toA;)a=i[o-1].fromA,h=i[o-1].fromB,o--,a<d.from&&(d=n.lineAt(a,xn.ByPosNoHeight,s,0,0));h+=d.from-a,a=d.from;let f=An.build(s.setDoc(r),e,h,c);n=n.replace(a,l,f)}return n.updateHeight(s,0)}static empty(){return new _n(0,0)}static of(e){if(1==e.length)return e[0];let t=0,s=e.length,i=0,n=0;for(;;)if(t==s)if(i>2*n){let n=e[t-1];n.break?e.splice(--t,1,n.left,null,n.right):e.splice(--t,1,n.left,n.right),s+=1+n.break,i-=n.size}else{if(!(n>2*i))break;{let t=e[s];t.break?e.splice(s,1,t.left,null,t.right):e.splice(s,1,t.left,t.right),s+=2+t.break,n-=t.size}}else if(i<n){let s=e[t++];s&&(i+=s.size)}else{let t=e[--s];t&&(n+=t.size)}let r=0;return null==e[t-1]?(r=1,t--):null==e[t]&&(r=1,s++),new Tn(wn.of(e.slice(0,t)),r,wn.of(e.slice(s)))}}wn.prototype.size=1;class Sn extends wn{constructor(e,t,s){super(e,t),this.type=s}blockAt(e,t,s,i){return new vn(i,this.length,s,this.height,this.type)}lineAt(e,t,s,i,n){return this.blockAt(0,s,i,n)}forEachLine(e,t,s,i,n,r){e<=n+this.length&&t>=n&&r(this.blockAt(0,s,i,n))}updateHeight(e,t=0,s=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class _n extends Sn{constructor(e,t){super(e,t,Ps.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,s){let i=s[0];return 1==s.length&&(i instanceof _n||i instanceof Pn&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Pn?i=new _n(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):wn.of(s)}updateHeight(e,t=0,s=!1,i){return i&&i.from<=t&&i.more?this.setHeight(e,i.heights[i.index++]):(s||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Pn extends wn{constructor(e){super(e,0)}heightMetrics(e,t){let s,i=e.doc.lineAt(t).number,n=e.doc.lineAt(t+this.length).number,r=n-i+1,o=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*r);s=t/r,o=(this.height-t)/(this.length-r-1)}else s=this.height/r;return{firstLine:i,lastLine:n,perLine:s,perChar:o}}blockAt(e,t,s,i){let{firstLine:n,lastLine:r,perLine:o,perChar:a}=this.heightMetrics(t,i);if(t.lineWrapping){let n=i+Math.round(Math.max(0,Math.min(1,(e-s)/this.height))*this.length),r=t.doc.lineAt(n),l=o+r.length*a,h=Math.max(s,e-l/2);return new vn(r.from,r.length,h,l,Ps.Text)}{let i=Math.max(0,Math.min(r-n,Math.floor((e-s)/o))),{from:a,length:l}=t.doc.line(n+i);return new vn(a,l,s+o*i,o,Ps.Text)}}lineAt(e,t,s,i,n){if(t==xn.ByHeight)return this.blockAt(e,s,i,n);if(t==xn.ByPosNoHeight){let{from:t,to:i}=s.doc.lineAt(e);return new vn(t,i-t,0,0,Ps.Text)}let{firstLine:r,perLine:o,perChar:a}=this.heightMetrics(s,n),l=s.doc.lineAt(e),h=o+l.length*a,c=l.number-r,d=i+o*c+a*(l.from-n-c);return new vn(l.from,l.length,Math.max(i,Math.min(d,i+this.height-h)),h,Ps.Text)}forEachLine(e,t,s,i,n,r){e=Math.max(e,n),t=Math.min(t,n+this.length);let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(s,n);for(let h=e,c=i;h<=t;){let t=s.doc.lineAt(h);if(h==e){let s=t.number-o;c+=a*s+l*(e-n-s)}let i=a+l*t.length;r(new vn(t.from,t.length,c,i,Ps.Text)),c+=i,h=t.to+1}}replace(e,t,s){let i=this.length-t;if(i>0){let e=s[s.length-1];e instanceof Pn?s[s.length-1]=new Pn(e.length+i):s.push(null,new Pn(i-1))}if(e>0){let t=s[0];t instanceof Pn?s[0]=new Pn(e+t.length):s.unshift(new Pn(e-1),null)}return wn.of(s)}decomposeLeft(e,t){t.push(new Pn(e-1),null)}decomposeRight(e,t){t.push(null,new Pn(this.length-e-1))}updateHeight(e,t=0,s=!1,i){let n=t+this.length;if(i&&i.from<=t+this.length&&i.more){let s=[],r=Math.max(t,i.from),o=-1;for(i.from>t&&s.push(new Pn(i.from-t-1).updateHeight(e,t));r<=n&&i.more;){let t=e.doc.lineAt(r).length;s.length&&s.push(null);let n=i.heights[i.index++];-1==o?o=n:Math.abs(n-o)>=On&&(o=-2);let a=new _n(t,n);a.outdated=!1,s.push(a),r+=t+1}r<=n&&s.push(null,new Pn(n-r).updateHeight(e,r));let a=wn.of(s);return(o<0||Math.abs(a.height-this.height)>=On||Math.abs(o-this.heightMetrics(e,t).perLine)>=On)&&(e.heightChanged=!0),a}return(s||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Tn extends wn{constructor(e,t,s){super(e.length+t+s.length,e.height+s.height,t|(e.outdated||s.outdated?2:0)),this.left=e,this.right=s,this.size=e.size+s.size}get break(){return 1&this.flags}blockAt(e,t,s,i){let n=s+this.left.height;return e<n?this.left.blockAt(e,t,s,i):this.right.blockAt(e,t,n,i+this.left.length+this.break)}lineAt(e,t,s,i,n){let r=i+this.left.height,o=n+this.left.length+this.break,a=t==xn.ByHeight?e<r:e<o,l=a?this.left.lineAt(e,t,s,i,n):this.right.lineAt(e,t,s,r,o);if(this.break||(a?l.to<o:l.from>o))return l;let h=t==xn.ByPosNoHeight?xn.ByPosNoHeight:xn.ByPos;return a?l.join(this.right.lineAt(o,h,s,r,o)):this.left.lineAt(o,h,s,i,n).join(l)}forEachLine(e,t,s,i,n,r){let o=i+this.left.height,a=n+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,s,i,n,r),t>=a&&this.right.forEachLine(e,t,s,o,a,r);else{let l=this.lineAt(a,xn.ByPos,s,i,n);e<l.from&&this.left.forEachLine(e,l.from-1,s,i,n,r),l.to>=e&&l.from<=t&&r(l),t>l.to&&this.right.forEachLine(l.to+1,t,s,o,a,r)}}replace(e,t,s){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,s),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,s));let n=[];e>0&&this.decomposeLeft(e,n);let r=n.length;for(let e of s)n.push(e);if(e>0&&Rn(n,r-1),t<this.length){let e=n.length;this.decomposeRight(t,n),Rn(n,e)}return wn.of(n)}decomposeLeft(e,t){let s=this.left.length;if(e<=s)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(s++,e>=s&&t.push(null)),e>s&&this.right.decomposeLeft(e-s,t)}decomposeRight(e,t){let s=this.left.length,i=s+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<s&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?wn.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,s=!1,i){let{left:n,right:r}=this,o=t+n.length+this.break,a=null;return i&&i.from<=t+n.length&&i.more?a=n=n.updateHeight(e,t,s,i):n.updateHeight(e,t,s),i&&i.from<=o+r.length&&i.more?a=r=r.updateHeight(e,o,s,i):r.updateHeight(e,o,s),a?this.balanced(n,r):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Rn(e,t){let s,i;null==e[t]&&(s=e[t-1])instanceof Pn&&(i=e[t+1])instanceof Pn&&e.splice(t-1,3,new Pn(s.length+1+i.length))}class An{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),s=this.nodes[this.nodes.length-1];s instanceof _n?s.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new _n(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,s){if(e<t||s.heightRelevant){let i=s.widget?s.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let n=t-e;s.block?this.addBlock(new Sn(n,i,s.type)):(n||i>=5)&&this.addLineDeco(i,n)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new _n(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let s=new Pn(t-e);return this.oracle.doc.lineAt(e).to==t&&(s.flags|=4),s}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof _n)return e;let t=new _n(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type!=Ps.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Ps.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let s=this.ensureLine();s.length+=t,s.collapsed+=t,s.widgetHeight=Math.max(s.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof _n||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new _n(0,-1));let s=e;for(let e of this.nodes)e instanceof _n&&e.updateHeight(this.oracle,s),s+=e?e.length:1;return this.nodes}static build(e,t,s,i){let n=new An(s,e);return nt.spans(t,s,i,n,0),n.finish(s)}}class Cn{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,s,i){(e<t||s&&s.heightRelevant||i&&i.heightRelevant)&&Ds(e,t,this.changes,5)}}function Qn(e,t){let s=e.getBoundingClientRect(),i=e.ownerDocument,n=i.defaultView||window,r=Math.max(0,s.left),o=Math.min(n.innerWidth,s.right),a=Math.max(0,s.top),l=Math.min(n.innerHeight,s.bottom);for(let t=e.parentNode;t&&t!=i.body;)if(1==t.nodeType){let s=t,i=window.getComputedStyle(s);if((s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth)&&"visible"!=i.overflow){let i=s.getBoundingClientRect();r=Math.max(r,i.left),o=Math.min(o,i.right),a=Math.max(a,i.top),l=t==e.parentNode?i.bottom:Math.min(l,i.bottom)}t="absolute"==i.position||"fixed"==i.position?s.offsetParent:s.parentNode}else{if(11!=t.nodeType)break;t=t.host}return{left:r-s.left,right:Math.max(r,o)-s.left,top:a-(s.top+t),bottom:Math.max(a,l)-(s.top+t)}}function Dn(e,t){let s=e.getBoundingClientRect();return{left:0,right:s.right-s.left,top:t,bottom:s.bottom-(s.top+t)}}class Mn{constructor(e,t,s){this.from=e,this.to=t,this.size=s}static same(e,t){if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++){let i=e[s],n=t[s];if(i.from!=n.from||i.to!=n.to||i.size!=n.size)return!1}return!0}draw(e){return Ts.replace({widget:new qn(this.size,e)}).range(this.from,this.to)}}class qn extends _s{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class In{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=En,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=hi.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(si).some((e=>"function"!=typeof e&&"cm-lineWrapping"==e.class));this.heightOracle=new yn(t),this.stateDeco=e.facet(ii).filter((e=>"function"!=typeof e)),this.heightMap=wn.empty().applyChanges(this.stateDeco,I.empty,this.heightOracle.setDoc(e.doc),[new ai(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ts.set(this.lineGaps.map((e=>e.draw(!1)))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let s=0;s<=1;s++){let i=s?t.head:t.anchor;if(!e.some((({from:e,to:t})=>i>=e&&i<=t))){let{from:t,to:s}=this.lineBlockAt(i);e.push(new Ln(t,s))}}this.viewports=e.sort(((e,t)=>e.from-t.from)),this.scaler=this.heightMap.height<=7e6?En:new Nn(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,(e=>{this.viewportLines.push(1==this.scaler.scale?e:Bn(e,this.scaler))}))}update(e,t=null){this.state=e.state;let s=this.stateDeco;this.stateDeco=this.state.facet(ii).filter((e=>"function"!=typeof e));let i=e.changedRanges,n=ai.extendWithRanges(i,function(e,t,s){let i=new Cn;return nt.compare(e,t,s,i,0),i.changes}(s,this.stateDeco,e?e.changes:ne.empty(this.state.doc.length))),r=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),n),this.heightMap.height!=r&&(e.flags|=2);let o=n.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<o.from||t.range.head>o.to)||!this.viewportIsAppropriate(o))&&(o=this.getViewport(0,t));let a=!e.changes.empty||2&e.flags||o.from!=this.viewport.from||o.to!=this.viewport.to;this.viewport=o,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Zs)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,s=window.getComputedStyle(t),i=this.heightOracle,n=s.whiteSpace;this.defaultTextDirection="rtl"==s.direction?hi.RTL:hi.LTR;let r=this.heightOracle.mustRefreshForWrapping(n),o=t.getBoundingClientRect(),a=r||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let l=0,h=0,c=parseInt(s.paddingTop)||0,d=parseInt(s.paddingBottom)||0;this.paddingTop==c&&this.paddingBottom==d||(this.paddingTop=c,this.paddingBottom=d,l|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8);let p=(this.printing?Dn:Qn)(t,this.paddingTop),f=p.top-this.pixelViewport.top,u=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let m=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(m!=this.inView&&(this.inView=m,m&&(a=!0)),!this.inView&&!this.scrollTarget)return 0;let g=o.width;if(this.contentDOMWidth==g&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,l|=8),a){let t=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(t)&&(r=!0),r||i.lineWrapping&&Math.abs(g-this.contentDOMWidth)>i.charWidth){let{lineHeight:s,charWidth:o}=e.docView.measureTextSize();r=s>0&&i.refresh(n,s,o,g/o,t),r&&(e.docView.minWidth=0,l|=8)}f>0&&u>0?h=Math.max(f,u):f<0&&u<0&&(h=Math.min(f,u)),i.heightChanged=!1;for(let s of this.viewports){let n=s.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(s);this.heightMap=(r?wn.empty().applyChanges(this.stateDeco,I.empty,this.heightOracle,[new ai(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,r,new bn(s.from,n))}i.heightChanged&&(l|=2)}let k=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return k&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(2&l||k)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(r?[]:this.lineGaps,e)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let s=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,n=this.heightOracle,{visibleTop:r,visibleBottom:o}=this,a=new Ln(i.lineAt(r-1e3*s,xn.ByHeight,n,0,0).from,i.lineAt(o+1e3*(1-s),xn.ByHeight,n,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let s,r=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=i.lineAt(e,xn.ByPos,n,0,0);s="center"==t.y?(o.top+o.bottom)/2-r/2:"start"==t.y||"nearest"==t.y&&e<a.from?o.top:o.bottom-r,a=new Ln(i.lineAt(s-500,xn.ByHeight,n,0,0).from,i.lineAt(s+r+500,xn.ByHeight,n,0,0).to)}}return a}mapViewport(e,t){let s=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Ln(this.heightMap.lineAt(s,xn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,xn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},s=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,xn.ByPos,this.heightOracle,0,0),{bottom:n}=this.heightMap.lineAt(t,xn.ByPos,this.heightOracle,0,0),{visibleTop:r,visibleBottom:o}=this;return(0==e||i<=r-Math.max(10,Math.min(-s,250)))&&(t==this.state.doc.length||n>=o+Math.max(10,Math.min(s,250)))&&i>r-2e3&&n<o+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let s=[];for(let i of e)t.touchesRange(i.from,i.to)||s.push(new Mn(t.mapPos(i.from),t.mapPos(i.to),i.size));return s}ensureLineGaps(e,t){let s=this.heightOracle.lineWrapping,i=s?1e4:2e3,n=i>>1,r=i<<1;if(this.defaultTextDirection!=hi.LTR&&!s)return[];let o=[],a=(i,r,l,h)=>{if(r-i<n)return;let c=this.state.selection.main,d=[c.from];c.empty||d.push(c.to);for(let e of d)if(e>i&&e<r)return a(i,e-10,l,h),void a(e+10,r,l,h);let p=function(e,t){for(let s of e)if(t(s))return s}(e,(e=>e.from>=l.from&&e.to<=l.to&&Math.abs(e.from-i)<n&&Math.abs(e.to-r)<n&&!d.some((t=>e.from<t&&e.to>t))));if(!p){if(r<l.to&&t&&s&&t.visibleRanges.some((e=>e.from<=r&&e.to>=r))){let e=t.moveToLineBoundary(pe.cursor(r),!1,!0).head;e>i&&(r=e)}p=new Mn(i,r,this.gapSize(l,i,r,h))}o.push(p)};for(let e of this.viewportLines){if(e.length<r)continue;let t=zn(e.from,e.to,this.stateDeco);if(t.total<r)continue;let n,o,l=this.scrollTarget?this.scrollTarget.range.head:null;if(s){let s,r,a=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=l){let i=$n(t,l),n=((this.visibleBottom-this.visibleTop)/2+a)/e.height;s=i-n,r=i+n}else s=(this.visibleTop-e.top-a)/e.height,r=(this.visibleBottom-e.top+a)/e.height;n=Fn(t,s),o=Fn(t,r)}else{let e,s,r=t.total*this.heightOracle.charWidth,a=i*this.heightOracle.charWidth;if(null!=l){let i=$n(t,l),n=((this.pixelViewport.right-this.pixelViewport.left)/2+a)/r;e=i-n,s=i+n}else e=(this.pixelViewport.left-a)/r,s=(this.pixelViewport.right+a)/r;n=Fn(t,e),o=Fn(t,s)}n>e.from&&a(e.from,n,e,t),o<e.to&&a(o,e.to,e,t)}return o}gapSize(e,t,s,i){let n=$n(i,s)-$n(i,t);return this.heightOracle.lineWrapping?e.height*n:i.total*this.heightOracle.charWidth*n}updateLineGaps(e){Mn.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ts.set(e.map((e=>e.draw(this.heightOracle.lineWrapping)))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];nt.spans(e,this.viewport.from,this.viewport.to,{span(e,s){t.push({from:e,to:s})},point(){}},20);let s=t.length!=this.visibleRanges.length||this.visibleRanges.some(((e,s)=>e.from!=t[s].from||e.to!=t[s].to));return this.visibleRanges=t,s?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((t=>t.from<=e&&t.to>=e))||Bn(this.heightMap.lineAt(e,xn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Bn(this.heightMap.lineAt(this.scaler.fromDOM(e),xn.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Bn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ln{constructor(e,t){this.from=e,this.to=t}}function zn(e,t,s){let i=[],n=e,r=0;return nt.spans(s,e,t,{span(){},point(e,t){e>n&&(i.push({from:n,to:e}),r+=e-n),n=t}},20),n<t&&(i.push({from:n,to:t}),r+=t-n),{total:r,ranges:i}}function Fn({total:e,ranges:t},s){if(s<=0)return t[0].from;if(s>=1)return t[t.length-1].to;let i=Math.floor(e*s);for(let e=0;;e++){let{from:s,to:n}=t[e],r=n-s;if(i<=r)return s+i;i-=r}}function $n(e,t){let s=0;for(let{from:i,to:n}of e.ranges){if(t<=n){s+=t-i;break}s+=n-i}return s/e.total}const En={toDOM:e=>e,fromDOM:e=>e,scale:1};class Nn{constructor(e,t,s){let i=0,n=0,r=0;this.viewports=s.map((({from:s,to:n})=>{let r=t.lineAt(s,xn.ByPos,e,0,0).top,o=t.lineAt(n,xn.ByPos,e,0,0).bottom;return i+=o-r,{from:s,to:n,top:r,bottom:o,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(t.height-i);for(let e of this.viewports)e.domTop=r+(e.top-n)*this.scale,r=e.domBottom=e.domTop+(e.bottom-e.top),n=e.bottom}toDOM(e){for(let t=0,s=0,i=0;;t++){let n=t<this.viewports.length?this.viewports[t]:null;if(!n||e<n.top)return i+(e-s)*this.scale;if(e<=n.bottom)return n.domTop+(e-n.top);s=n.bottom,i=n.domBottom}}fromDOM(e){for(let t=0,s=0,i=0;;t++){let n=t<this.viewports.length?this.viewports[t]:null;if(!n||e<n.domTop)return s+(e-i)/this.scale;if(e<=n.domBottom)return n.top+(e-n.domTop);s=n.bottom,i=n.domBottom}}}function Bn(e,t){if(1==t.scale)return e;let s=t.toDOM(e.top),i=t.toDOM(e.bottom);return new vn(e.from,e.length,s,i-s,Array.isArray(e.type)?e.type.map((e=>Bn(e,t))):e.type)}const Wn=me.define({combine:e=>e.join(" ")}),Vn=me.define({combine:e=>e.indexOf(!0)>-1}),Xn=bt.newName(),Zn=bt.newName(),Gn=bt.newName(),Yn={"&light":"."+Zn,"&dark":"."+Gn};function Kn(e,t,s){return new bt(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,(t=>{if("&"==t)return e;if(!s||!s[t])throw new RangeError(`Unsupported selector: ${t}`);return s[t]})):e+" "+t})}const Hn=Kn("."+Xn,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Yn);class jn{constructor(e,t,s,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:n,impreciseAnchor:r}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,s,0))){let t=n||r?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:s,anchorOffset:i,focusNode:n,focusOffset:r}=e.observer.selectionRange;return s&&(t.push(new Pi(s,i)),n==s&&r==i||t.push(new Pi(n,r))),t}(e),s=new Si(t,e.state);s.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=s.text,this.newSel=function(e,t){if(0==e.length)return null;let s=e[0].pos,i=2==e.length?e[1].pos:s;return s>-1&&i>-1?pe.single(s+t,i+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,s=n&&n.node==t.focusNode&&n.offset==t.focusOffset||!At(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),i=r&&r.node==t.anchorNode&&r.offset==t.anchorOffset||!At(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset);this.newSel=pe.single(i,s)}}}function Un(e,t){let s,{newSel:i}=t,n=e.state.selection.main;if(t.bounds){let{from:i,to:r}=t.bounds,o=n.from,a=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||cs.android&&t.text.length<r-i)&&(o=n.to,a="end");let l=function(e,t,s,i){let n=Math.min(e.length,t.length),r=0;for(;r<n&&e.charCodeAt(r)==t.charCodeAt(r);)r++;if(r==n&&e.length==t.length)return null;let o=e.length,a=t.length;for(;o>0&&a>0&&e.charCodeAt(o-1)==t.charCodeAt(a-1);)o--,a--;return"end"==i&&(s-=o+Math.max(0,r-Math.min(o,a))-r),o<r&&e.length<t.length?(r-=s<=r&&s>=o?r-s:0,a=r+(a-o),o=r):a<r&&(r-=s<=r&&s>=a?r-s:0,o=r+(o-a),a=r),{from:r,toA:o,toB:a}}(e.state.doc.sliceString(i,r,wi),t.text,o-i,a);l&&(cs.chrome&&13==e.inputState.lastKeyCode&&l.toB==l.from+2&&t.text.slice(l.from,l.toB)==wi+wi&&l.toB--,s={from:i+l.from,to:i+l.toA,insert:I.of(t.text.slice(l.from,l.toB).split(wi))})}else i&&(!e.hasFocus&&e.state.facet(Hs)||i.main.eq(n))&&(i=null);if(!s&&!i)return!1;if(!s&&t.typeOver&&!n.empty&&i&&i.main.empty?s={from:n.from,to:n.to,insert:e.state.doc.slice(n.from,n.to)}:s&&s.from>=n.from&&s.to<=n.to&&(s.from!=n.from||s.to!=n.to)&&n.to-n.from-(s.to-s.from)<=4?s={from:n.from,to:n.to,insert:e.state.doc.slice(n.from,s.from).append(s.insert).append(e.state.doc.slice(s.to,n.to))}:(cs.mac||cs.android)&&s&&s.from==s.to&&s.from==n.head-1&&/^\. ?$/.test(s.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(i&&2==s.insert.length&&(i=pe.single(i.main.anchor-1,i.main.head-1)),s={from:n.from,to:n.to,insert:I.of([" "])}):cs.chrome&&s&&s.from==s.to&&s.from==n.head&&"\n "==s.insert.toString()&&e.lineWrapping&&(i&&(i=pe.single(i.main.anchor-1,i.main.head-1)),s={from:n.from,to:n.to,insert:I.of([" "])}),s){let t=e.state;if(cs.ios&&e.inputState.flushIOSKey(e))return!0;if(cs.android&&(s.from==n.from&&s.to==n.to&&1==s.insert.length&&2==s.insert.lines&&Vt(e.contentDOM,"Enter",13)||s.from==n.from-1&&s.to==n.to&&0==s.insert.length&&Vt(e.contentDOM,"Backspace",8)||s.from==n.from&&s.to==n.to+1&&0==s.insert.length&&Vt(e.contentDOM,"Delete",46)))return!0;let r,o=s.insert.toString();if(e.state.facet(Ws).some((t=>t(e,s.from,s.to,o))))return!0;if(e.inputState.composing>=0&&e.inputState.composing++,s.from>=n.from&&s.to<=n.to&&s.to-s.from>=(n.to-n.from)/3&&(!i||i.main.empty&&i.main.from==s.from+s.insert.length)&&e.inputState.composing<0){let i=n.from<s.from?t.sliceDoc(n.from,s.from):"",o=n.to>s.to?t.sliceDoc(s.to,n.to):"";r=t.replaceSelection(e.state.toText(i+s.insert.sliceString(0,void 0,e.state.lineBreak)+o))}else{let o=t.changes(s),a=i&&!t.selection.main.eq(i.main)&&i.main.to<=o.newLength?i.main:void 0;if(t.selection.ranges.length>1&&e.inputState.composing>=0&&s.to<=n.to&&s.to>=n.to-10){let i=e.state.sliceDoc(s.from,s.to),l=Ai(e)||e.state.doc.lineAt(n.head),h=n.to-s.to,c=n.to-n.from;r=t.changeByRange((r=>{if(r.from==n.from&&r.to==n.to)return{changes:o,range:a||r.map(o)};let d=r.to-h,p=d-i.length;if(r.to-r.from!=c||e.state.sliceDoc(p,d)!=i||l&&r.to>=l.from&&r.from<=l.to)return{range:r};let f=t.changes({from:p,to:d,insert:s.insert}),u=r.to-n.to;return{changes:f,range:a?pe.range(Math.max(0,a.anchor+u),Math.max(0,a.head+u)):r.map(f)}}))}else r={changes:o,selection:a&&t.selection.replaceRange(a)}}let a="input.type";return e.composing&&(a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(r,{scrollIntoView:!0,userEvent:a}),!0}if(i&&!i.main.eq(n)){let t=!1,s="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),s=e.inputState.lastSelectionOrigin),e.dispatch({selection:i,scrollIntoView:t,userEvent:s}),!0}return!1}const Jn={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},er=cs.ie&&cs.ie_version<=11;class tr{constructor(e){this.view=e,this.active=!1,this.selectionRange=new $t,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver((t=>{for(let e of t)this.queue.push(e);(cs.ie&&cs.ie_version<=11||cs.ios&&e.composing)&&t.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),er&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()})),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver((()=>this.view.requestMeasure())),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((()=>{this.resizeTimeout=-1,this.view.requestMeasure()}),50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout((()=>{this.view.viewState.printing=!1,this.view.requestMeasure()}),500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some(((t,s)=>t!=e[s])))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:s}=this,i=this.selectionRange;if(s.state.facet(Hs)?s.root.activeElement!=this.dom:!Ct(s.dom,i))return;let n=i.anchorNode&&s.docView.nearest(i.anchorNode);n&&n.ignoreEvent(e)?t||(this.selectionChanged=!1):(cs.ie&&cs.ie_version<=11||cs.android&&cs.chrome)&&!s.state.selection.main.empty&&i.focusNode&&Dt(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=cs.safari&&11==e.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){let t=null;function s(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",s,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",s,!0),!t)return null;let i=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);return Dt(a.node,a.offset,r,o)&&([i,n,r,o]=[r,o,i,n]),{anchorNode:i,anchorOffset:n,focusNode:r,focusOffset:o}}(this.view)||Rt(e.root);if(!t||this.selectionRange.eq(t))return!1;let s=Ct(this.dom,t);return s&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let s=t.focusNode,i=t.focusOffset;if(!s||t.anchorNode!=s||t.anchorOffset!=i)return!1;for(;;)if(i){if(1!=s.nodeType)return!1;let e=s.childNodes[i-1];"false"==e.contentEditable?i--:(s=e,i=It(s))}else{if(s==e)return!0;i=Mt(s),s=s.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),s&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let s=this.dom;s;)if(1==s.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==s?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(s),s=s.assignedSlot||s.parentNode;else{if(11!=s.nodeType)break;s=s.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Jn),er&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),er&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var s;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;e&&(this.clearDelayedAndroidKey(),!this.flush()&&e.force&&Vt(this.dom,e.key,e.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(s=this.delayedAndroidKey)||void 0===s?void 0:s.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((()=>{this.delayedFlush=-1,this.flush()})))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}processRecords(){let e=this.queue;for(let t of this.observer.takeRecords())e.push(t);e.length&&(this.queue=[]);let t=-1,s=-1,i=!1;for(let n of e){let e=this.readMutation(n);e&&(e.typeOver&&(i=!0),-1==t?({from:t,to:s}=e):(t=Math.min(e.from,t),s=Math.max(e.to,s)))}return{from:t,to:s,typeOver:i}}readChange(){let{from:e,to:t,typeOver:s}=this.processRecords(),i=this.selectionChanged&&Ct(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new jn(this.view,e,t,s))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return!1;let s=this.view.state,i=Un(this.view,t);return this.view.state==s&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){let s=sr(t,e.previousSibling||e.target.previousSibling,-1),i=sr(t,e.nextSibling||e.target.nextSibling,1);return{from:s?t.posAfter(s):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,t,s,i;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(s=this.resizeScroll)||void 0===s||s.disconnect(),null===(i=this.resizeContent)||void 0===i||i.disconnect();for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function sr(e,t,s){for(;t;){let i=Yt.get(t);if(i&&i.parent==e)return i;let n=t.parentNode;t=n!=e.dom?n:s>0?t.nextSibling:t.previousSibling}return null}class ir{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(e=>this.update([e])),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new In(e.state||Je.create(e)),this.plugins=this.state.facet(Us).map((e=>new ei(e)));for(let e of this.plugins)e.update(this);this.observer=new tr(this),this.inputState=new Vi(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Ti(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){this._dispatch(1==e.length&&e[0]instanceof We?e[0]:this.state.update(...e))}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,s=!1,i=!1,n=this.state;for(let t of e){if(t.startState!=n)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");n=t.state}if(this.destroyed)return void(this.viewState.state=n);let r=this.hasFocus,o=0,a=null;e.some((e=>e.annotation(un)))?(this.inputState.notifiedFocused=r,o=1):r!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=r,a=mn(n,r),a||(o=1));let l=this.observer.delayedAndroidKey,h=null;if(l?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(n.doc)||!this.state.selection.eq(n.selection))&&(h=null)):this.observer.clear(),n.facet(Je.phrases)!=this.state.facet(Je.phrases))return this.setState(n);t=li.create(this,n,e),t.flags|=o;let c=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(c&&(c=c.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;c=new Gs(e.empty?e:pe.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(Ys)&&(c=e.value)}this.viewState.update(t,c),this.bidiCache=or.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),s=this.docView.update(t),this.state.facet(oi)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(s,e.some((e=>e.isUserEvent("select.pointer"))))}finally{this.updateState=0}if(t.startState.facet(Wn)!=t.state.facet(Wn)&&(this.viewState.mustMeasureContent=!0),(s||i||c||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty)for(let e of this.state.facet(Bs))e(t);(a||h)&&Promise.resolve().then((()=>{a&&this.state==a.startState&&this.dispatch(a),h&&!Un(this,h)&&l.force&&Vt(this.contentDOM,l.key,l.keyCode)}))}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new In(e),this.plugins=e.facet(Us).map((e=>new ei(e))),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView=new Ti(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Us),s=e.state.facet(Us);if(t!=s){let i=[];for(let n of s){let s=t.indexOf(n);if(s<0)i.push(new ei(n));else{let t=this.plugins[s];t.mustUpdate=e,i.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let t of this.plugins)t.mustUpdate=e;for(let e=0;e<this.plugins.length;e++)this.plugins[e].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,{scrollHeight:s,scrollTop:i,clientHeight:n}=this.scrollDOM,r=i>s-n-4?s:i;try{for(let e=0;;e++){this.updateState=1;let s=this.viewport,i=this.viewState.lineBlockAtHeight(r),n=this.viewState.measure(this);if(!n&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let o=[];4&n||([this.measureRequests,o]=[o,this.measureRequests]);let a=o.map((e=>{try{return e.read(this)}catch(e){return Ks(this.state,e),rr}})),l=li.create(this,this.state,[]),h=!1,c=!1;l.flags|=n,t?t.flags|=n:t=l,this.updateState=2,l.empty||(this.updatePlugins(l),this.inputState.update(l),this.updateAttrs(),h=this.docView.update(l));for(let e=0;e<o.length;e++)if(a[e]!=rr)try{let t=o[e];t.write&&t.write(a[e],this)}catch(e){Ks(this.state,e)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,c=!0;else{let e=this.viewState.lineBlockAt(i.from).top-i.top;(e>1||e<-1)&&(this.scrollDOM.scrollTop+=e,c=!0)}if(h&&this.docView.updateSelection(!0),this.viewport.from==s.from&&this.viewport.to==s.to&&!c&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let e of this.state.facet(Bs))e(t)}get themeClasses(){return Xn+" "+(this.state.facet(Vn)?Gn:Zn)+" "+this.state.facet(Wn)}updateAttrs(){let e=ar(this,ti,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Hs)?"true":"false",class:"cm-content",style:`${cs.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),ar(this,si,t);let s=this.observer.ignore((()=>{let s=Ss(this.contentDOM,this.contentAttrs,t),i=Ss(this.dom,this.editorAttrs,e);return s||i}));return this.editorAttrs=e,this.contentAttrs=t,s}showAnnouncements(e){let t=!0;for(let s of e)for(let e of s.effects)e.is(ir.announce)&&(t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value)}mountStyles(){this.styleModules=this.state.facet(oi),bt.mount(this.root,this.styleModules.concat(Hn).reverse())}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((()=>this.measure()))),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((t=>t.spec==e))||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,s){return Wi(this,e,Bi(this,e,t,s))}moveByGroup(e,t){return Wi(this,e,Bi(this,e,t,(t=>function(e,t,s){let i=e.state.charCategorizer(t),n=i(s);return e=>{let t=i(e);return n==He.Space&&(n=t),n==t}}(this,e.head,t))))}moveToLineBoundary(e,t,s=!0){return function(e,t,s,i){let n=e.state.doc.lineAt(t.head),r=i&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>n.from?t.head-1:t.head):null;if(r){let t=e.dom.getBoundingClientRect(),i=e.textDirectionAt(n.from),o=e.posAtCoords({x:s==(i==hi.LTR)?t.right-1:t.left+1,y:(r.top+r.bottom)/2});if(null!=o)return pe.cursor(o,s?-1:1)}let o=Ms.find(e.docView,t.head),a=o?s?o.posAtEnd:o.posAtStart:s?n.to:n.from;return pe.cursor(a,s?-1:1)}(this,e,t,s)}moveVertically(e,t,s){return Wi(this,e,function(e,t,s,i){let n=t.head,r=s?1:-1;if(n==(s?e.state.doc.length:0))return pe.cursor(n,t.assoc);let o,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),h=e.coordsAtPos(n),c=e.documentTop;if(h)null==a&&(a=h.left-l.left),o=r<0?h.top:h.bottom;else{let t=e.viewState.lineBlockAt(n);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(n-t.from))),o=(r<0?t.top:t.bottom)+c}let d=l.left+a,p=null!=i?i:e.defaultLineHeight>>1;for(let s=0;;s+=10){let i=o+(p+s)*r,h=Ei(e,{x:d,y:i},!1,r);if(i<l.top||i>l.bottom||(r<0?h<n:h>n))return pe.cursor(h,t.assoc,void 0,a)}}(this,e,t,s))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Ei(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let s=this.docView.coordsAt(e,t);if(!s||s.left==s.right)return s;let i=this.state.doc.lineAt(e),n=this.bidiSpans(i);return zt(s,n[yi.find(n,e-i.from,-1,t)].dir==hi.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Xs)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>nr)return vi(e.length);let t=this.textDirectionAt(e.from);for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t)return s.order;let s=function(e,t){let s=e.length,i=t==ci?1:2,n=t==ci?2:1;if(!e||1==i&&!ki.test(e))return vi(s);for(let t=0,n=i,o=i;t<s;t++){let s=(r=e.charCodeAt(t))<=247?fi[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?ui[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8203?256:64336<=r&&r<=65023?4:8204==r?256:1;512==s?s=n:8==s&&4==o&&(s=16),bi[t]=4==s?2:s,7&s&&(o=s),n=s}var r;for(let e=0,t=i,n=i;e<s;e++){let i=bi[e];if(128==i)e<s-1&&t==bi[e+1]&&24&t?i=bi[e]=t:bi[e]=256;else if(64==i){let i=e+1;for(;i<s&&64==bi[i];)i++;let r=e&&8==t||i<s&&8==bi[i]?1==n?1:8:256;for(let t=e;t<i;t++)bi[t]=r;e=i-1}else 8==i&&1==n&&(bi[e]=1);t=i,7&i&&(n=i)}for(let t,r,o,a=0,l=0,h=0;a<s;a++)if(r=mi[t=e.charCodeAt(a)])if(r<0){for(let e=l-3;e>=0;e-=3)if(gi[e+1]==-r){let t=gi[e+2],s=2&t?i:4&t?1&t?n:i:0;s&&(bi[a]=bi[gi[e]]=s),l=e;break}}else{if(189==gi.length)break;gi[l++]=a,gi[l++]=t,gi[l++]=h}else if(2==(o=bi[a])||1==o){let e=o==i;h=e?0:1;for(let t=l-3;t>=0;t-=3){let s=gi[t+2];if(2&s)break;if(e)gi[t+2]|=2;else{if(4&s)break;gi[t+2]|=4}}}for(let e=0;e<s;e++)if(256==bi[e]){let t=e+1;for(;t<s&&256==bi[t];)t++;let n=1==(e?bi[e-1]:i),r=n==(1==(t<s?bi[t]:i))?n?1:2:i;for(let s=e;s<t;s++)bi[s]=r;e=t-1}let o=[];if(1==i)for(let e=0;e<s;){let t=e,i=1!=bi[e++];for(;e<s&&i==(1!=bi[e]);)e++;if(i)for(let s=e;s>t;){let e=s,i=2!=bi[--s];for(;s>t&&i==(2!=bi[s-1]);)s--;o.push(new yi(s,e,i?2:1))}else o.push(new yi(t,e,0))}else for(let e=0;e<s;){let t=e,i=2==bi[e++];for(;e<s&&i==(2==bi[e]);)e++;o.push(new yi(t,e,i?1:2))}return o}(e.text,t);return this.bidiCache.push(new or(e.from,e.to,t,s)),s}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||cs.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore((()=>{Bt(this.contentDOM),this.docView.updateSelection()}))}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Ys.of(new Gs("number"==typeof e?pe.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return Js.define((()=>({})),{eventHandlers:e})}static theme(e,t){let s=bt.newName(),i=[Wn.of(s),oi.of(Kn(`.${s}`,e))];return t&&t.dark&&i.push(Vn.of(!0)),i}static baseTheme(e){return _e.lowest(oi.of(Kn("."+Xn,e,Yn)))}static findFromDOM(e){var t;let s=e.querySelector(".cm-content"),i=s&&Yt.get(s)||Yt.get(e);return(null===(t=null==i?void 0:i.rootView)||void 0===t?void 0:t.view)||null}}ir.styleModule=oi,ir.inputHandler=Ws,ir.focusChangeEffect=Vs,ir.perLineTextDirection=Xs,ir.exceptionSink=Ns,ir.updateListener=Bs,ir.editable=Hs,ir.mouseSelectionStyle=Es,ir.dragMovesSelection=$s,ir.clickAddsSelectionRange=Fs,ir.decorations=ii,ir.atomicRanges=ni,ir.scrollMargins=ri,ir.darkTheme=Vn,ir.contentAttributes=si,ir.editorAttributes=ti,ir.lineWrapping=ir.contentAttributes.of({class:"cm-lineWrapping"}),ir.announce=Be.define();const nr=4096,rr={};class or{constructor(e,t,s,i){this.from=e,this.to=t,this.dir=s,this.order=i}static update(e,t){if(t.empty)return e;let s=[],i=e.length?e[e.length-1].dir:hi.LTR;for(let n=Math.max(0,e.length-10);n<e.length;n++){let r=e[n];r.dir!=i||t.touchesRange(r.from,r.to)||s.push(new or(t.mapPos(r.from,1),t.mapPos(r.to,-1),r.dir,r.order))}return s}}function ar(e,t,s){for(let i=e.state.facet(t),n=i.length-1;n>=0;n--){let t=i[n],r="function"==typeof t?t(e):t;r&&Os(r,s)}return s}cs.mac||cs.windows||cs.linux;cs.ios;const lr=me.define({combine(e){let t,s;for(let i of e)t=t||i.topContainer,s=s||i.bottomContainer;return{topContainer:t,bottomContainer:s}}}),hr=Js.fromClass(class{constructor(e){this.input=e.state.facet(pr),this.specs=this.input.filter((e=>e)),this.panels=this.specs.map((t=>t(e)));let t=e.state.facet(lr);this.top=new cr(e,!0,t.topContainer),this.bottom=new cr(e,!1,t.bottomContainer),this.top.sync(this.panels.filter((e=>e.top))),this.bottom.sync(this.panels.filter((e=>!e.top)));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(e){let t=e.state.facet(lr);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new cr(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new cr(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let s=e.state.facet(pr);if(s!=this.input){let t=s.filter((e=>e)),i=[],n=[],r=[],o=[];for(let s of t){let t,a=this.specs.indexOf(s);a<0?(t=s(e.view),o.push(t)):(t=this.panels[a],t.update&&t.update(e)),i.push(t),(t.top?n:r).push(t)}this.specs=t,this.panels=i,this.top.sync(n),this.bottom.sync(r);for(let e of o)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let t of this.panels)t.update&&t.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>ir.scrollMargins.of((t=>{let s=t.plugin(e);return s&&{top:s.top.scrollMargin(),bottom:s.bottom.scrollMargin()}}))});class cr{constructor(e,t,s){this.view=e,this.top=t,this.container=s,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=dr(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=dr(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function dr(e){let t=e.nextSibling;return e.remove(),t}const pr=me.define({enables:hr});class fr extends et{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}fr.prototype.elementClass="",fr.prototype.toDOM=void 0,fr.prototype.mapMode=se.TrackBefore,fr.prototype.startSide=fr.prototype.endSide=-1,fr.prototype.point=!0;let ur=0;class mr{constructor(e,t,s){this.set=e,this.base=t,this.modified=s,this.id=ur++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new mr([],null,[]);if(t.set.push(t),e)for(let s of e.set)t.set.push(s);return t}static defineModifier(){let e=new kr;return t=>t.modified.indexOf(e)>-1?t:kr.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let gr=0;class kr{constructor(){this.instances=[],this.id=gr++}static get(e,t){if(!t.length)return e;let s=t[0].instances.find((s=>{return s.base==e&&(i=t,n=s.modified,i.length==n.length&&i.every(((e,t)=>e==n[t])));var i,n}));if(s)return s;let i=[],n=new mr(i,e,t);for(let e of t)e.instances.push(n);let r=function(e){let t=[[]];for(let s=0;s<e.length;s++)for(let i=0,n=t.length;i<n;i++)t.push(t[i].concat(e[s]));return t.sort(((e,t)=>t.length-e.length))}(t);for(let t of e.set)if(!t.modified.length)for(let e of r)i.push(kr.get(t,e));return n}}function yr(e){let t=Object.create(null);for(let s in e){let i=e[s];Array.isArray(i)||(i=[i]);for(let e of s.split(" "))if(e){let s=[],n=2,r=e;for(let t=0;;){if("..."==r&&t>0&&t+3==e.length){n=1;break}let i=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(r);if(!i)throw new RangeError("Invalid path: "+e);if(s.push("*"==i[0]?"":'"'==i[0][0]?JSON.parse(i[0]):i[0]),t+=i[0].length,t==e.length)break;let o=e[t++];if(t==e.length&&"!"==o){n=0;break}if("/"!=o)throw new RangeError("Invalid path: "+e);r=e.slice(t)}let o=s.length-1,a=s[o];if(!a)throw new RangeError("Invalid path: "+e);let l=new vr(i,n,o>0?s.slice(0,o):null);t[a]=l.sort(t[a])}}return br.add(t)}const br=new h;class vr{constructor(e,t,s,i){this.tags=e,this.mode=t,this.context=s,this.next=i}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function xr(e,t){let s=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)s[e.id]=t.class;else s[t.tag.id]=t.class;let{scope:i,all:n=null}=t||{};return{style:e=>{let t=n;for(let i of e)for(let e of i.set){let i=s[e.id];if(i){t=t?t+" "+i:i;break}}return t},scope:i}}function Or(e,t,s,i=0,n=e.length){let r=new wr(i,Array.isArray(t)?t:[t],s);r.highlightRange(e.cursor(),i,n,"",r.highlighters),r.flush(n)}vr.empty=new vr([],2,null);class wr{constructor(e,t,s){this.at=e,this.highlighters=t,this.span=s,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,s,i,n){let{type:r,from:o,to:a}=e;if(o>=s||a<=t)return;r.isTop&&(n=this.highlighters.filter((e=>!e.scope||e.scope(r))));let l=i,c=function(e){let t=e.type.prop(br);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||vr.empty,d=function(e,t){let s=null;for(let i of e){let e=i.style(t);e&&(s=s?s+" "+e:e)}return s}(n,c.tags);if(d&&(l&&(l+=" "),l+=d,1==c.mode&&(i+=(i?" ":"")+d)),this.startSpan(e.from,l),c.opaque)return;let p=e.tree&&e.tree.prop(h.mounted);if(p&&p.overlay){let r=e.node.enter(p.overlay[0].from+o,1),h=this.highlighters.filter((e=>!e.scope||e.scope(p.tree.type))),c=e.firstChild();for(let d=0,f=o;;d++){let u=d<p.overlay.length?p.overlay[d]:null,m=u?u.from+o:a,g=Math.max(t,f),k=Math.min(s,m);if(g<k&&c)for(;e.from<k&&(this.highlightRange(e,g,k,i,n),this.startSpan(Math.min(k,e.to),l),!(e.to>=m)&&e.nextSibling()););if(!u||m>s)break;f=u.to+o,f>t&&(this.highlightRange(r.cursor(),Math.max(t,u.from+o),Math.min(s,f),i,h),this.startSpan(f,l))}c&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=s)break;this.highlightRange(e,t,s,i,n),this.startSpan(Math.min(s,e.to),l)}}while(e.nextSibling());e.parent()}}}const Sr=mr.define,_r=Sr(),Pr=Sr(),Tr=Sr(Pr),Rr=Sr(Pr),Ar=Sr(),Cr=Sr(Ar),Qr=Sr(Ar),Dr=Sr(),Mr=Sr(Dr),qr=Sr(),Ir=Sr(),Lr=Sr(),zr=Sr(Lr),Fr=Sr(),$r={comment:_r,lineComment:Sr(_r),blockComment:Sr(_r),docComment:Sr(_r),name:Pr,variableName:Sr(Pr),typeName:Tr,tagName:Sr(Tr),propertyName:Rr,attributeName:Sr(Rr),className:Sr(Pr),labelName:Sr(Pr),namespace:Sr(Pr),macroName:Sr(Pr),literal:Ar,string:Cr,docString:Sr(Cr),character:Sr(Cr),attributeValue:Sr(Cr),number:Qr,integer:Sr(Qr),float:Sr(Qr),bool:Sr(Ar),regexp:Sr(Ar),escape:Sr(Ar),color:Sr(Ar),url:Sr(Ar),keyword:qr,self:Sr(qr),null:Sr(qr),atom:Sr(qr),unit:Sr(qr),modifier:Sr(qr),operatorKeyword:Sr(qr),controlKeyword:Sr(qr),definitionKeyword:Sr(qr),moduleKeyword:Sr(qr),operator:Ir,derefOperator:Sr(Ir),arithmeticOperator:Sr(Ir),logicOperator:Sr(Ir),bitwiseOperator:Sr(Ir),compareOperator:Sr(Ir),updateOperator:Sr(Ir),definitionOperator:Sr(Ir),typeOperator:Sr(Ir),controlOperator:Sr(Ir),punctuation:Lr,separator:Sr(Lr),bracket:zr,angleBracket:Sr(zr),squareBracket:Sr(zr),paren:Sr(zr),brace:Sr(zr),content:Dr,heading:Mr,heading1:Sr(Mr),heading2:Sr(Mr),heading3:Sr(Mr),heading4:Sr(Mr),heading5:Sr(Mr),heading6:Sr(Mr),contentSeparator:Sr(Dr),list:Sr(Dr),quote:Sr(Dr),emphasis:Sr(Dr),strong:Sr(Dr),link:Sr(Dr),monospace:Sr(Dr),strikethrough:Sr(Dr),inserted:Sr(),deleted:Sr(),changed:Sr(),invalid:Sr(),meta:Fr,documentMeta:Sr(Fr),annotation:Sr(Fr),processingInstruction:Sr(Fr),definition:mr.defineModifier(),constant:mr.defineModifier(),function:mr.defineModifier(),standard:mr.defineModifier(),local:mr.defineModifier(),special:mr.defineModifier()};var Er;xr([{tag:$r.link,class:"tok-link"},{tag:$r.heading,class:"tok-heading"},{tag:$r.emphasis,class:"tok-emphasis"},{tag:$r.strong,class:"tok-strong"},{tag:$r.keyword,class:"tok-keyword"},{tag:$r.atom,class:"tok-atom"},{tag:$r.bool,class:"tok-bool"},{tag:$r.url,class:"tok-url"},{tag:$r.labelName,class:"tok-labelName"},{tag:$r.inserted,class:"tok-inserted"},{tag:$r.deleted,class:"tok-deleted"},{tag:$r.literal,class:"tok-literal"},{tag:$r.string,class:"tok-string"},{tag:$r.number,class:"tok-number"},{tag:[$r.regexp,$r.escape,$r.special($r.string)],class:"tok-string2"},{tag:$r.variableName,class:"tok-variableName"},{tag:$r.local($r.variableName),class:"tok-variableName tok-local"},{tag:$r.definition($r.variableName),class:"tok-variableName tok-definition"},{tag:$r.special($r.variableName),class:"tok-variableName2"},{tag:$r.definition($r.propertyName),class:"tok-propertyName tok-definition"},{tag:$r.typeName,class:"tok-typeName"},{tag:$r.namespace,class:"tok-namespace"},{tag:$r.className,class:"tok-className"},{tag:$r.macroName,class:"tok-macroName"},{tag:$r.propertyName,class:"tok-propertyName"},{tag:$r.operator,class:"tok-operator"},{tag:$r.comment,class:"tok-comment"},{tag:$r.meta,class:"tok-meta"},{tag:$r.invalid,class:"tok-invalid"},{tag:$r.punctuation,class:"tok-punctuation"}]);const Nr=new h;const Br=new h;class Wr{constructor(e,t,s=[],i=""){this.data=e,this.name=i,Je.prototype.hasOwnProperty("tree")||Object.defineProperty(Je.prototype,"tree",{get(){return Zr(this)}}),this.parser=t,this.extension=[so.of(this),Je.languageData.of(((e,t,s)=>{let i=Vr(e,t,s),n=i.type.prop(Nr);if(!n)return[];let r=e.facet(n),o=i.type.prop(Br);if(o){let n=i.resolve(t-i.from,s);for(let t of o)if(t.test(n,e)){let s=e.facet(t.facet);return"replace"==t.type?s:s.concat(r)}}return r}))].concat(s)}isActiveAt(e,t,s=-1){return Vr(e,t,s).type.prop(Nr)==this.data}findRegions(e){let t=e.facet(so);if((null==t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let s=[],i=(e,t)=>{if(e.prop(Nr)==this.data)return void s.push({from:t,to:t+e.length});let n=e.prop(h.mounted);if(n){if(n.tree.prop(Nr)==this.data){if(n.overlay)for(let e of n.overlay)s.push({from:e.from+t,to:e.to+t});else s.push({from:t,to:t+e.length});return}if(n.overlay){let e=s.length;if(i(n.tree,n.overlay[0].from+t),s.length>e)return}}for(let s=0;s<e.children.length;s++){let n=e.children[s];n instanceof g&&i(n,e.positions[s]+t)}};return i(Zr(e),0),s}get allowsNesting(){return!0}}function Vr(e,t,s){let i=e.facet(so),n=Zr(e).topNode;if(!i||i.allowsNesting)for(let e=n;e;e=e.enter(t,s,m.ExcludeBuffers))e.type.isTop&&(n=e);return n}Wr.setState=Be.define();class Xr extends Wr{constructor(e,t,s){super(e,t,[],s),this.parser=t}static define(e){let t=(s=e.languageData,me.define({combine:s?e=>e.concat(s):void 0}));var s;return new Xr(t,e.parser.configure({props:[Nr.add((e=>e.isTop?t:void 0))]}),e.name)}configure(e,t){return new Xr(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Zr(e){let t=e.field(Wr.state,!1);return t?t.tree:g.empty}function Gr(e,t=e.doc.length){var s;return(null===(s=e.field(Wr.state,!1))||void 0===s?void 0:s.context.isDone(t))||!1}class Yr{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let s=this.cursorPos-this.string.length;return e<s||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-s,t-s)}}let Kr=null;class Hr{constructor(e,t,s=[],i,n,r,o,a){this.parser=e,this.state=t,this.fragments=s,this.tree=i,this.treeLen=n,this.viewport=r,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,s){return new Hr(e,t,[],g.empty,0,s,[],null)}startParse(){return this.parser.startParse(new Yr(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=g.empty&&this.isDone(null!=t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((()=>{var s;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(D.addTree(i,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(s=this.parse.stoppedAt)&&void 0!==s?s:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(null!=t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}}))}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((()=>{for(;!(t=this.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(D.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Kr;Kr=this;try{return e()}finally{Kr=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=jr(e,t.from,t.to);return e}changes(e,t){let{fragments:s,tree:i,treeLen:n,viewport:r,skipped:o}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges(((e,s,i,n)=>t.push({fromA:e,toA:s,fromB:i,toB:n}))),s=D.applyChanges(s,t),i=g.empty,n=0,r={from:e.mapPos(r.from,-1),to:e.mapPos(r.to,1)},this.skipped.length){o=[];for(let t of this.skipped){let s=e.mapPos(t.from,1),i=e.mapPos(t.to,-1);s<i&&o.push({from:s,to:i})}}}return new Hr(this.parser,t,s,i,n,r,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let t=0;t<this.skipped.length;t++){let{from:s,to:i}=this.skipped[t];s<e.to&&i>e.from&&(this.fragments=jr(this.fragments,s,i),this.skipped.splice(t--,1))}return!(this.skipped.length>=t||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends M{createParse(t,s,i){let n=i[0].from,r=i[i.length-1].to;return{parsedPos:n,advance(){let t=Kr;if(t){for(let e of i)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=r,new g(d.none,[],[],r-n)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return Kr}}function jr(e,t,s){return D.applyChanges(e,[{fromA:t,toA:s,fromB:t,toB:s}])}class Ur{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),s=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,s)||t.takeTree(),new Ur(t)}static init(e){let t=Math.min(3e3,e.doc.length),s=Hr.create(e.facet(so).parser,e,{from:0,to:t});return s.work(20,t)||s.takeTree(),new Ur(s)}}Wr.state=Oe.define({create:Ur.init,update(e,t){for(let e of t.effects)if(e.is(Wr.setState))return e.value;return t.startState.facet(so)!=t.state.facet(so)?Ur.init(t.state):e.apply(t)}});let Jr=e=>{let t=setTimeout((()=>e()),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(Jr=e=>{let t=-1,s=setTimeout((()=>{t=requestIdleCallback(e,{timeout:400})}),100);return()=>t<0?clearTimeout(s):cancelIdleCallback(t)});const eo="undefined"!=typeof navigator&&(null===(Er=navigator.scheduling)||void 0===Er?void 0:Er.isInputPending)?()=>navigator.scheduling.isInputPending():null,to=Js.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Wr.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Wr.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=Jr(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:s,viewport:{to:i}}=this.view,n=s.field(Wr.state);if(n.tree==n.context.tree&&n.context.isDone(i+1e5))return;let r=Date.now()+Math.min(this.chunkBudget,100,e&&!eo?Math.max(25,e.timeRemaining()-5):1e9),o=n.context.treeLen<i&&s.doc.length>i+1e3,a=n.context.work((()=>eo&&eo()||Date.now()>r),i+(o?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(n.context.takeTree(),this.view.dispatch({effects:Wr.setState.of(new Ur(n.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(n.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((()=>this.scheduleWork())).catch((e=>Ks(this.view.state,e))).then((()=>this.workScheduled--)),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),so=me.define({combine:e=>e.length?e[0]:null,enables:e=>[Wr.state,to,ir.contentAttributes.compute([e],(t=>{let s=t.facet(e);return s&&s.name?{"data-language":s.name}:{}}))]});class io{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const no=me.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some((e=>e!=t[0])))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}}),ro=new h,oo=new h;function ao(e){let t=e.firstChild,s=e.lastChild;return t&&t.to<s.from?{from:t.to,to:s.type.isError?e.to:s.from}:null}class lo{constructor(e,t){let s;function i(e){let t=bt.newName();return(s||(s=Object.create(null)))["."+t]=e,t}this.specs=e;const n="string"==typeof t.all?t.all:t.all?i(t.all):void 0,r=t.scope;this.scope=r instanceof Wr?e=>e.prop(Nr)==r.data:r?e=>e==r:void 0,this.style=xr(e.map((e=>({tag:e.tag,class:e.class||i(Object.assign({},e,{tag:null}))}))),{all:n}).style,this.module=s?new bt(s):null,this.themeType=t.themeType}static define(e,t){return new lo(e,t||{})}}const ho=me.define(),co=me.define({combine:e=>e.length?[e[0]]:null});function po(e){let t=e.facet(ho);return t.length?t:e.facet(co)}class fo{constructor(e){this.markCache=Object.create(null),this.tree=Zr(e.state),this.decorations=this.buildDeco(e,po(e.state))}update(e){let t=Zr(e.state),s=po(e.state),i=s!=po(e.startState);t.length<e.view.viewport.to&&!i&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,s))}buildDeco(e,t){if(!t||!this.tree.length)return Ts.none;let s=new rt;for(let{from:i,to:n}of e.visibleRanges)Or(this.tree,t,((e,t,i)=>{s.add(e,t,this.markCache[i]||(this.markCache[i]=Ts.mark({class:i})))}),i,n);return s.finish()}}const uo=_e.high(Js.fromClass(fo,{decorations:e=>e.decorations}));$r.meta,$r.link,$r.heading,$r.emphasis,$r.strong,$r.strikethrough,$r.keyword,$r.atom,$r.bool,$r.url,$r.contentSeparator,$r.labelName,$r.literal,$r.inserted,$r.string,$r.deleted,$r.regexp,$r.escape,$r.string,$r.variableName,$r.variableName,$r.typeName,$r.namespace,$r.className,$r.variableName,$r.macroName,$r.propertyName,$r.comment,$r.invalid;const mo=Object.create(null),go=[d.none],ko=[],yo=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])yo[e]=vo(mo,t);function bo(e,t){ko.indexOf(e)>-1||(ko.push(e),console.warn(t))}function vo(e,t){let s=null;for(let i of t.split(".")){let t=e[i]||$r[i];t?"function"==typeof t?s?s=t(s):bo(i,`Modifier ${i} used at start of tag`):s?bo(i,`Tag ${i} used as modifier`):s=t:bo(i,`Unknown highlighting tag ${i}`)}if(!s)return 0;let i=t.replace(/ /g,"_"),n=d.define({id:go.length,name:i,props:[yr({[i]:s})]});return go.push(n),n.id}function xo(e){let t=Object.keys(e).join(""),s=/\w/.test(t);return s&&(t=t.replace(/\w/g,"")),`[${s?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}const Oo=new class extends et{};Oo.startSide=1,Oo.endSide=-1,"object"==typeof navigator&&navigator.userAgent;const wo=JSON.parse('{"ATSadd":{"synopsis":["ar ATSadd ktimepnt, kfmod, iatsfile, ifn, ipartials[, ipartialoffset, ipartialincr, igatefn]"],"short_desc":"uses the data from an ATS analysis file to perform additive synthesis."},"ATSaddnz":{"synopsis":["ar ATSaddnz ktimepnt, iatsfile, ibands[, ibandoffset, ibandincr]"],"short_desc":"uses the data from an ATS analysis file to perform noise resynthesis."},"ATSbufread":{"synopsis":["ATSbufread ktimepnt, kfmod, iatsfile, ipartials[, ipartialoffset, ipartialincr]"],"short_desc":"reads data from and ATS data file and stores it in an internal data table of frequency, amplitude pairs."},"ATScross":{"synopsis":["ar ATScross ktimepnt, kfmod, iatsfile, ifn, kmylev, kbuflev, ipartials [, ipartialoffset, ipartialincr]"],"short_desc":"perform cross synthesis from ATS analysis files."},"ATSinfo":{"synopsis":["idata ATSinfo iatsfile, ilocation"],"short_desc":"reads data out of the header of an ATS file."},"ATSinterpread":{"synopsis":["kamp ATSinterpread kfreq"],"short_desc":"allows a user to determine the frequency envelope of any ATSbufread."},"ATSpartialtap":{"synopsis":["kfrq, kamp ATSpartialtap ipartialnum"],"short_desc":"returns a frequency, amplitude pair from an ATSbufread opcode."},"ATSread":{"synopsis":["kfreq, kamp ATSread ktimepnt, iatsfile, ipartial"],"short_desc":"reads data from an ATS file."},"ATSreadnz":{"synopsis":["kenergy ATSreadnz ktimepnt, iatsfile, iband"],"short_desc":"reads data from an ATS file."},"ATSsinnoi":{"synopsis":["ar ATSsinnoi ktimepnt, ksinlev, knzlev, kfmod, iatsfile, ipartials [, ipartialoffset, ipartialincr]"],"short_desc":"uses the data from an ATS analysis file to perform resynthesis."},"JackoAudioIn":{"synopsis":["asignal JackoAudioIn ScsoundPortName"],"short_desc":"Receives an audio signal from a Jack port."},"JackoAudioInConnect":{"synopsis":["JackoAudioInConnect SexternalPortName, ScsoundPortName"],"short_desc":"Creates an audio connection from a Jack port to Csound."},"JackoAudioOut":{"synopsis":["JackoAudioOut ScsoundPortName, asignal"],"short_desc":"Sends an audio signal to a Jack port."},"JackoAudioOutConnect":{"synopsis":["JackoAudioOutConnect ScsoundPortName, SexternalPortName"],"short_desc":"Creates an audio connection from Csound to a Jack port."},"JackoFreewheel":{"synopsis":["JackoFreewheel [ienabled]"],"short_desc":"Turns Jack\\\\\'s freewheeling mode on or off."},"JackoInfo":{"synopsis":["JackoInfo "],"short_desc":"Prints information about the Jack system."},"JackoInit":{"synopsis":["JackoInit ServerName, SclientName"],"short_desc":"Initializes Csound as a Jack client."},"JackoMidiInConnect":{"synopsis":["JackoMidiInConnect SexternalPortName, ScsoundPortName"],"short_desc":"Creates a MIDI connection from a Jack port to Csound."},"JackoMidiOut":{"synopsis":["JackoMidiOut ScsoundPortName, kstatus, kchannel, kdata1[, kdata2]"],"short_desc":"Sends a MIDI channel message to a Jack port."},"JackoMidiOutConnect":{"synopsis":["JackoMidiOutConnect ScsoundPortName, SexternalPortName"],"short_desc":"Creates a MIDI connection from Csound to a Jack port."},"JackoNoteOut":{"synopsis":["JackoNoteOut ScsoundPortName, kstatus, kchannel, kdata1[, kdata2]"],"short_desc":"Sends a MIDI channel message to a Jack port."},"JackoOn":{"synopsis":["JackoOn [iactive] "],"short_desc":"Enables or disables all Jack ports."},"JackoTransport":{"synopsis":["JackoTransport kcommand, [kposition]"],"short_desc":"Control the Jack transport."},"link_beat_force":{"synopsis":["link_beat_force i_peer, k_beat [, k_at_time_seconds [, k_quantum ]] "],"short_desc":"Forces the global network Ableton Link session to adopt a specific beat number and time."},"link_beat_get":{"synopsis":["k_beat_number, k_phase, k_current_time_seconds link_beat_get i_peer [, k_quantum]"],"short_desc":"Returns the beat, phase with respect to the local quantum, and current time for the session."},"link_beat_request":{"synopsis":["link_beat_request i_peer, k_beat [, k_at_time_seconds [, k_quantum ]] "],"short_desc":"Requests the global network Ableton Link session to adopt a specific beat number and time."},"link_create":{"synopsis":["i_peer link_create [i_bpm]"],"short_desc":"Creates a peer in an Ableton Link network session."},"link_enable":{"synopsis":[" ableton_link_enable i_peer [, k_enable]"],"short_desc":"Enable or disable synchronization with the Ableton Link session."},"link_is_enabled":{"synopsis":["k_is_enabled link_is_enabled i_peer"],"short_desc":"Returns whether or not this peer is synchronized with the global network Ableton Link session."},"link_peers":{"synopsis":["k_count link_peers i_peer"],"short_desc":"Returns the number of peers in the session."},"link_tempo_get":{"synopsis":["k_bpm link_tempo_get i_peer"],"short_desc":"Returns the current tempo of the global network Ableton Link session."},"link_tempo_set":{"synopsis":["link_tempo_set i_peer, k_bpm [, k_at_time_seconds]"],"short_desc":"Sets the tempo."},"OSCbundle":{"synopsis":["OSCbundle kwhen, ihost, iport, Sdest[], Stype[],kArgs[][][,isize]"],"short_desc":"Sends data to other processes using the OSC protocol by packing messages in a bundle."},"OSCcount":{"synopsis":["kans OSCcount"],"short_desc":"Gives the Count of OSC messages currently unread."},"OSCinit":{"synopsis":["ihandle OSCinit iport"],"short_desc":"Start a listening process for OSC messages to a particular port."},"OSCinitM":{"synopsis":["ihandle OSCinitM Sgroup, iport"],"short_desc":"Start a listening process for multicast OSC messages to a particular port."},"OSClisten":{"synopsis":["kans OSClisten ihandle, idest, itype [, xdata1, xdata2, ...]","kans, kdata[] OSClisten ihandle, idest, itype"],"short_desc":"Listen for OSC messages to a particular path."},"OSCraw":{"synopsis":["Smess[],klen OSCraw iport"],"short_desc":"Listen for all OSC messages at a given port."},"OSCsend":{"synopsis":["OSCsend kwhen, ihost, iport, idestination[, itype , xdata1, xdata2, ...]"],"short_desc":"Sends data to other processes using the OSC protocol"},"STKBandedWG":{"synopsis":["asignal STKBandedWG ifrequency, iamplitude, [kpress, kv1[, kmot, kv2[, klfo, kv3[, klfodepth, kv4[, kvel, kv5[, kstrk, kv6[, kinstr, kv7]]]]]]]"],"short_desc":"STKBandedWG uses banded waveguide techniques to model a variety of sounds."},"STKBeeThree":{"synopsis":["asignal STKBeeThree ifrequency, iamplitude, [kop4, kv1[, kop3, kv2[, klfo, kv3[, klfodepth, kv4[, kadsr, kv5]]]]]"],"short_desc":"STK Hammond-oid organ-like FM synthesis instrument."},"STKBlowBotl":{"synopsis":["asignal STKBlowBotl ifrequency, iamplitude, [knoise, kv1[, klfo, kv2[, klfodepth, kv3[, kvol, kv4]]]]"],"short_desc":"STKBlowBotl uses a helmholtz resonator (biquad filter) with a polynomial jet excitation."},"STKBlowHole":{"synopsis":["asignal STKBlowHole ifrequency, iamplitude, [kreed, kv1[, knoise, kv2[, khole, kv3[, kreg, kv4[, kbreath, kv5]]]]]"],"short_desc":"STK clarinet physical model with one register hole and one tonehole."},"STKBowed":{"synopsis":["asignal STKBowed ifrequency, iamplitude, [kpress, kv1[, kpos, kv2[, klfo, kv3[, klfodepth, kv4[, kvol, kv5]]]]]"],"short_desc":"STKBowed is a bowed string instrument."},"STKBrass":{"synopsis":["asignal STKBrass ifrequency, iamplitude, [klip, kv1[, kslide, kv2[, klfo, kv3[, klfodepth, kv4[, kvol, kv5]]]]]"],"short_desc":"STKBrass is a simple brass instrument."},"STKClarinet":{"synopsis":["asignal STKClarinet ifrequency, iamplitude, [kstiff, kv1[, knoise, kv2[, klfo, kv3[, klfodepth, kv4[, kbreath, kv5]]]]]"],"short_desc":"STKClarinet uses a simple clarinet physical model."},"STKDrummer":{"synopsis":["asignal STKDrummer ifrequency, iamplitude"],"short_desc":"STKDrummer is a drum sampling synthesizer."},"STKFMVoices":{"synopsis":["asignal STKFMVoices ifrequency, iamplitude, [kvowel, kv1[, kspec, kv2[, klfo, kv3[, klfodepth, kv4[, kadsr, kv5]]]]]"],"short_desc":"STKFMVoices is a singing FM synthesis instrument."},"STKFlute":{"synopsis":["asignal STKFlute ifrequency, iamplitude, [kjet, kv1[, knoise, kv2[, klfo, kv3[, klfodepth, kv4[, kbreath, kv5]]]]]"],"short_desc":"STKFlute uses a simple flute physical model."},"STKHevyMetl":{"synopsis":["asignal STKHevyMetl ifrequency, iamplitude, [kmod, kv1[, kcross, kv2[, klfo, kv3[, klfodepth, kv4[, kadsr, kv5]]]]]"],"short_desc":"STKHevyMetl produces metal sounds."},"STKMandolin":{"synopsis":["asignal STKMandolin ifrequency, iamplitude, [kbody, kv1[, kpos, kv2[, ksus, kv3[, kdetune, kv4[, kmic, kv5]]]]]"],"short_desc":"STKMandolin produces mamdolin-like sounds."},"STKModalBar":{"synopsis":["asignal STKModalBar ifrequency, iamplitude, [khard, kv1[, kpos, kv2[, klfo, kv3[, klfodepth, kv4[, kmix, kv5[, kvol, kv6[, kinstr, kv7]]]]]]]"],"short_desc":"STKModalBar is a resonant bar instrument."},"STKMoog":{"synopsis":["asignal STKMoog ifrequency, iamplitude, [kq, kv1[, krate, kv2[, klfo, kv3[, klfodepth, kv4[, kvol, kv5]]]]]"],"short_desc":"STKMoog produces moog-like swept filter sounds."},"STKPercFlut":{"synopsis":["asignal STKPercFlut ifrequency, iamplitude, [kmod, kv1[, kcross, kv2[, klfo, kv3[, klfodepth, kv4[, kadsr, kv5]]]]]"],"short_desc":"STKPercFlut is a percussive flute FM synthesis instrument."},"STKPlucked":{"synopsis":["asignal STKPlucked ifrequency, iamplitude"],"short_desc":"STKPlucked uses a plucked string physical model."},"STKResonate":{"synopsis":["asignal STKResonate ifrequency, iamplitude, [kfreq, kv1[, kpole, kv2[, knotch, kv3[, kzero, kv4[, kenv, kv5]]]]]"],"short_desc":"STKResonate is a noise driven formant filter."},"STKRhodey":{"synopsis":["asignal STKRhodey ifrequency, iamplitude, [kmod, kv1[, kcross, kv2[, klfo, kv3[, klfodepth, kv4[, kadsr, kv5]]]]]"],"short_desc":"STK Fender Rhodes-like electric piano FM synthesis instrument."},"STKSaxofony":{"synopsis":["asignal STKSaxofony ifrequency, iamplitude, [kstiff, kv1[, kapert, kv2[, kblow, kv3[, knoise, kv4[, klfo, kv5[, klfodepth, kv6[, kbreath, kv7]]]]]]]"],"short_desc":"STKSaxofony is a faux conical bore reed instrument."},"STKShakers":{"synopsis":["asignal STKShakers ifrequency, iamplitude, [kenerg, kv1[, kdecay, kv2[, kshake, kv3[, knum, kv4[, kres, kv5[, kinstr, kv6]]]]]]"],"short_desc":"STKShakers is an instrument that simulates environmental sounds or collisions of multiple independent sound producing objects."},"STKSimple":{"synopsis":["asignal STKSimple ifrequency, iamplitude, [kpos, kv1[, kcross, kv2[, kenv, kv3[, kgain, kv4]]]]"],"short_desc":"STKSimple is a wavetable/noise instrument."},"STKSitar":{"synopsis":["asignal STKSitar ifrequency, iamplitude"],"short_desc":"STKSitar uses a plucked string physical model."},"STKStifKarp":{"synopsis":["asignal STKStifKarp ifrequency, iamplitude, [kpos, kv1[, ksus, kv2[, kstretch, kv3]]]"],"short_desc":"STKStifKarp is a plucked stiff string instrument."},"STKTubeBell":{"synopsis":["asignal STKTubeBell ifrequency, iamplitude, [kmod, kv1[, kcross, kv2[, klfo, kv3[, klfodepth, kv4[, kadsr, kv5]]]]]"],"short_desc":"STKTubeBell is a tubular bell (orchestral chime) FM synthesis instrument."},"STKVoicForm":{"synopsis":["asignal STKVoicForm ifrequency, iamplitude, [kmix, kv1[, ksel, kv2[, klfo, kv3[, klfodepth, kv4[, kloud, kv5]]]]]"],"short_desc":"STKVoicForm is a four formant synthesis instrument."},"STKWhistle":{"synopsis":["asignal STKWhistle ifrequency, iamplitude, [kmod, kv1[, knoise, kv2[, kfipfreq, kv3[, kfipgain, kv4[, kvol, kv5]]]]]"],"short_desc":"STKWhistle produces whistle sounds."},"STKWurley":{"synopsis":["asignal STKWurley ifrequency, iamplitude, [kmod, kv1[, kcross, kv2[, klfo, kv3[, klfodepth, kv4[, kadsr, kv5]]]]]"],"short_desc":"STKWurley simulates a Wurlitzer electric piano FM synthesis instrument."},"abetarand":{"synopsis":[],"short_desc":"Deprecated."},"abexprnd":{"synopsis":[],"short_desc":"Deprecated."},"abs":{"synopsis":["abs(x) (no rate restriction)","abs(k/i[]) (k- or i-arrays )"],"short_desc":"Returns an absolute value."},"acauchy":{"synopsis":[],"short_desc":"Deprecated."},"active":{"synopsis":["ir active insnum [,iopt [,inorel]]","ir active Sinsname [,iopt [,inorel]]","kres active kinsnum [,iopt [,inorel]]"],"short_desc":"Returns the number of active instances of an instrument."},"adds":{"synopsis":["+a (no rate restriction)","a + b (no rate restriction)"],"short_desc":"Addition operator"},"adsr":{"synopsis":["ares adsr iatt, idec, islev, irel [, idel]","kres adsr iatt, idec, islev, irel [, idel]"],"short_desc":"Calculates the classical ADSR envelope using linear segments."},"adsyn":{"synopsis":["ares adsyn kamod, kfmod, ksmod, ifilcod"],"short_desc":"Output is an additive set of individually controlled sinusoids, using an oscillator bank."},"adsynt":{"synopsis":["ares adsynt kamp, kcps, iwfn, ifreqfn, iampfn, icnt [, iphs]"],"short_desc":"Performs additive synthesis with an arbitrary number of partials, not necessarily harmonic."},"adsynt2":{"synopsis":["ar adsynt2 kamp, kcps, iwfn, ifreqfn, iampfn, icnt [, iphs]"],"short_desc":"Performs additive synthesis with an arbitrary number of partials -not necessarily harmonic- with interpolation."},"aexprand":{"synopsis":[],"short_desc":"Deprecated."},"aftouch":{"synopsis":["kaft aftouch [imin] [, imax]"],"short_desc":"Get the current after-touch value for this channel."},"agauss":{"synopsis":[],"short_desc":"Deprecated."},"agogobel":{"synopsis":[],"short_desc":"Deprecated."},"alinrand":{"synopsis":[],"short_desc":"Deprecated."},"allpole":{"synopsis":["ares allpole asig, kCoef[]"],"short_desc":"Allpole filter implementation using direct convolution."},"alpass":{"synopsis":["ares alpass asig, xrvt, ilpt [, iskip] [, insmps]"],"short_desc":"Reverberates an input signal with a flat frequency response."},"alwayson":{"synopsis":[" alwayson Tinstrument [p4, ..., pn]"],"short_desc":"Activates the indicated instrument in the orchestra header, without need for an i statement."},"ampdb":{"synopsis":["ampdb(x) (no rate restriction)"],"short_desc":"Returns the amplitude equivalent of the decibel value x."},"ampdbfs":{"synopsis":["ampdbfs(x) (no rate restriction)"],"short_desc":"Returns the amplitude equivalent (in 16-bit signed integer scale) of the full scale decibel (dB FS) value x."},"ampmidi":{"synopsis":["iamp ampmidi iscal [, ifn]"],"short_desc":"Get the velocity of the current MIDI event."},"ampmidicurve":{"synopsis":["igain ampmidicurve ivelocity, idynamicrange, iexponent","kgain ampmidicurve kvelocity, kdynamicrange, kexponent"],"short_desc":"Maps an input MIDI velocity number to an output gain factor with a maximum value of 1, modifying the output gain by a dynamic range and a shaping exponent."},"ampmidid":{"synopsis":["iamplitude ampmidid ivelocity, idecibels","kamplitude ampmidid kvelocity, idecibels"],"short_desc":"Musically map MIDI velocity to peak amplitude within a specified dynamic range in decibels."},"apcauchy":{"synopsis":[],"short_desc":"Deprecated."},"apoisson":{"synopsis":[],"short_desc":"Deprecated."},"apoleparams":{"synopsis":["kPar[]apoleparams kCoef[] "],"short_desc":"Extracts allpole filter parameters from coefficients."},"apow":{"synopsis":[],"short_desc":"Deprecated."},"arduinoRead":{"synopsis":["kval arduinoRead iPort, iStream[, iSmooth]"],"short_desc":"Read data from an arduino port using the Csound-Arduino protocol."},"arduinoReadF":{"synopsis":["kval arduinoReadF iPort, iStream1, iStream2, iStream3"],"short_desc":"Read data from an arduino port using the Csound-Arduino protocol."},"arduinoStart":{"synopsis":["iPort arduinoStart SPortName [, ibaudRate]"],"short_desc":"Open a serial port for use with the Arduino protocol."},"arduinoStop":{"synopsis":[" arduinoStop iPort"],"short_desc":"Close a serial port using Arduino protocol."},"areson":{"synopsis":["ares areson asig, kcf, kbw [, iscl] [, iskip]","ares areson asig, acf, kbw [, iscl] [, iskip]","ares areson asig, kcf, abw [, iscl] [, iskip]","ares areson asig, acf, abw [, iscl] [, iskip]"],"short_desc":"A notch filter whose transfer functions are the complements of the reson opcode."},"aresonk":{"synopsis":["kres aresonk ksig, kcf, kbw [, iscl] [, iskip]"],"short_desc":"A notch filter whose transfer functions are the complements of the reson opcode."},"array":{"synopsis":["karray[] array ival1, ival2,.....ivaln"],"short_desc":"Deprecated."},"assign":{"synopsis":["ares = xarg","ires = iarg","kres = karg","ires, ... = iarg, ...","kres, ... = karg, ...","table [ kval] = karg"],"short_desc":"Performs a simple assignment."},"atone":{"synopsis":["ares atone asig, khp [, iskip]"],"short_desc":"A hi-pass filter whose transfer functions are the complements of the tone opcode."},"atonek":{"synopsis":["kres atonek ksig, khp [, iskip]"],"short_desc":"A hi-pass filter whose transfer functions are the complements of the tonek opcode."},"atonex":{"synopsis":["ares atonex asig, khp [, inumlayer] [, iskip]","ares atonex asig, ahp [, inumlayer] [, iskip]"],"short_desc":"Emulates a stack of filters using the atone opcode."},"atrirand":{"synopsis":[],"short_desc":"Deprecated."},"aunirand":{"synopsis":[],"short_desc":"Deprecated."},"autocorr":{"synopsis":["kout[] autocorr kin[]"],"short_desc":"Autocorrelation of a sequence."},"aweibull":{"synopsis":[],"short_desc":"Deprecated."},"babo":{"synopsis":["a1, a2 babo asig, ksrcx, ksrcy, ksrcz, irx, iry, irz [, idiff] [, ifno]"],"short_desc":"A physical model reverberator."},"balance":{"synopsis":["ares balance asig, acomp [, ihp] [, iskip]"],"short_desc":"Adjust one audio signal according to the values of another."},"balance2":{"synopsis":["ares balance2 asig, acomp [, ihp] [, iskip]"],"short_desc":"Adjust one audio signal according to the values of another."},"bamboo":{"synopsis":["ares bamboo kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]"],"short_desc":"Semi-physical model of a bamboo sound."},"barmodel":{"synopsis":["ares barmodel kbcL, kbcR, iK, ib, kscan, iT30, ipos, ivel, iwid"],"short_desc":"Creates a tone similar to a struck metal bar."},"bbcutm":{"synopsis":["a1 bbcutm asource, ibps, isubdiv, ibarlength, iphrasebars, inumrepeats [, istutterspeed] [, istutterchance] [, ienvchoice ]"],"short_desc":"Generates breakbeat-style cut-ups of a mono audio stream."},"bbcuts":{"synopsis":["a1,a2 bbcuts asource1, asource2, ibps, isubdiv, ibarlength, iphrasebars, inumrepeats [, istutterspeed] [, istutterchance] [, ienvchoice]"],"short_desc":"Generates breakbeat-style cut-ups of a stereo audio stream."},"betarand":{"synopsis":["ares betarand krange, kalpha, kbeta","ires betarand krange, kalpha, kbeta","kres betarand krange, kalpha, kbeta"],"short_desc":"Beta distribution random number generator (positive values only)."},"bexprnd":{"synopsis":["ares bexprnd krange","ires bexprnd krange","kres bexprnd krange"],"short_desc":"Exponential distribution random number generator."},"bformdec":{"synopsis":["ao1, ao2 bformdec isetup, aw, ax, ay, az [, ar, as, at, au, av [, abk, al, am, an, ao, ap, aq]]","ao1, ao2, ao3, ao4 bformdec isetup, aw, ax, ay, az [, ar, as, at, au, av [, abk, al, am, an, ao, ap, aq]]","ao1, ao2, ao3, ao4, ao5 bformdec isetup, aw, ax, ay, az [, ar, as, at, au, av [, abk, al, am, an, ao, ap, aq]]","ao1, ao2, ao3, ao4, ao5, ao6, ao7, ao8 bformdec isetup, aw, ax, ay, az [, ar, as, at, au, av [, abk, al, am, an, ao, ap, aq]]]"],"short_desc":"Deprecated. Decodes an ambisonic B format signal."},"bformdec1":{"synopsis":["ao1, ao2 bformdec1 isetup, aw, ax, ay, az [, ar, as, at, au, av [, abk, al, am, an, ao, ap, aq]]","ao1, ao2, ao3, ao4 bformdec1 isetup, aw, ax, ay, az [, ar, as, at, au, av [, abk, al, am, an, ao, ap, aq]]","ao1, ao2, ao3, ao4, ao5 bformdec1 isetup, aw, ax, ay, az [, ar, as, at, au, av [, abk, al, am, an, ao, ap, aq]]","ao1, ao2, ao3, ao4, ao5, ao6, ao7, ao8 bformdec1 isetup, aw, ax, ay, az [, ar, as, at, au, av [, abk, al, am, an, ao, ap, aq]]]","aout[] bformdec1 isetup, abform[]"],"short_desc":"Decodes an ambisonic B format signal"},"bformdec2":{"synopsis":["aout[] bformdec2 isetup, abform[], [idecoder, idistance, ifreq, imix, ifilel, ifiler]"],"short_desc":"Decodes an Ambisonics B format signal."},"bformenc":{"synopsis":["aw, ax, ay, az bformenc asig, kalpha, kbeta, kord0, kord1","aw, ax, ay, az, ar, as, at, au, av bformenc asig, kalpha, kbeta, kord0, kord1 , kord2","aw, ax, ay, az, ar, as, at, au, av, ak, al, am, an, ao, ap, aq bformenc asig, kalpha, kbeta, kord0, kord1, kord2, kord3"],"short_desc":"Deprecated. Codes a signal into the ambisonic B format."},"bformenc1":{"synopsis":["aw, ax, ay, az bformenc1 asig, kalpha, kbeta","aw, ax, ay, az, ar, as, at, au, av bformenc1 asig, kalpha, kbeta","aw, ax, ay, az, ar, as, at, au, av, ak, al, am, an, ao, ap, aq bformenc1 asig, kalpha, kbeta","aarray[] bformenc1 asig, kalpha, kbeta"],"short_desc":"Codes a signal into the ambisonic B format."},"binit":{"synopsis":["fsig binit fin, isize"],"short_desc":"PVS tracks to amplitude+frequency conversion."},"biquad":{"synopsis":["ares biquad asig, kb0, kb1, kb2, ka0, ka1, ka2 [, iskip]"],"short_desc":"A sweepable general purpose biquadratic digital filter."},"biquada":{"synopsis":["ares biquada asig, ab0, ab1, ab2, aa0, aa1, aa2 [, iskip]"],"short_desc":"A sweepable general purpose biquadratic digital filter with a-rate parameters."},"birnd":{"synopsis":["birnd(x) (init- or control-rate only)"],"short_desc":"Returns a random number in a bi-polar range."},"bob":{"synopsis":["asig bob ain, xcf, xres, xsat [, iosamps, istor]"],"short_desc":"Runge-Kutte numerical simulation of the Moog analog resonant filter."},"bpf":{"synopsis":["ky bpf kx, kx1, ky1, kx2, ..., kxn, kyn","iy bpf ix, ix1, iy1, ix2, ..., ixn, iyn","kys[] bpf kxs[], kx1, ky1, kx2, ..., kxn, kyn","iys[] bpf ixs[], ix1, iy1, ix2, ..., ixn, iyn","ky bpf kx, kxs[], kys[]","iy bpf ix, ixs[], iys[]","ay bpf ax, kx1, ky1, kx2, ..., kxn, kyn","ay bpf ax, kxs[], kys[]","ky, kw bpf kx, kxs[], kys[], kws[]"],"short_desc":"Break point function with linear interpolation"},"bpfcos":{"synopsis":["ky bpfcos kx, kx1, ky1, kx2, ..., kxn, kyn","kys[] bpfcos kxs[], kx1, ky1, kx2, ..., kxn, kyn","ky bpfcos kx, kxs[], kys[]","ky bpfcos kx, ixs[], iys[]","ky, kz bpfcos kx, kxs[], kys[], kzs[] ","ky, kz bpfcos kx, ixs[], iys[], izs[] ","kys[] bpfcos kxs[], kx1, ky1, kx2, ..., kxn, kyn","ky bpfcos kx, ixs[], iys[]","ky, kz bpfcos kx, kxs[], kys[], kzs[] "],"short_desc":"Break point function with cosine (easy-in/easy-out) interpolation"},"bqrez":{"synopsis":["ares bqrez asig, xfco, xres [, imode] [, iskip]"],"short_desc":"A second-order multi-mode filter."},"butbp":{"synopsis":["ares butbp asig, kfreq, kband [, iskip]"],"short_desc":"Same as the butterbp opcode."},"butbr":{"synopsis":["ares butbr asig, kfreq, kband [, iskip]"],"short_desc":"Same as the butterbr opcode."},"buthp":{"synopsis":["ares buthp asig, kfreq [, iskip]","ares buthp asig, afreq [, iskip]"],"short_desc":"Same as the butterhp opcode."},"butlp":{"synopsis":["ares butlp asig, kfreq [, iskip]","ares butlp asig, afreq [, iskip]"],"short_desc":"Same as the butterlp opcode."},"butterbp":{"synopsis":["ares butterbp asig, xfreq, xband [, iskip]"],"short_desc":"A band-pass Butterworth filter."},"butterbr":{"synopsis":["ares butterbr asig, xfreq, xband [, iskip]"],"short_desc":"A band-reject Butterworth filter."},"butterhp":{"synopsis":["ares butterhp asig, kfreq [, iskip]","ares butterhp asig, afreq [, iskip]"],"short_desc":"A high-pass Butterworth filter."},"butterlp":{"synopsis":["ares butterlp asig, kfreq [, iskip]","ares butterlp asig, afreq [, iskip]"],"short_desc":"A low-pass Butterworth filter."},"button":{"synopsis":["kres button knum"],"short_desc":"Sense on-screen controls."},"buzz":{"synopsis":["ares buzz xamp, xcps, knh, ifn [, iphs]"],"short_desc":"Output is a set of harmonically related sine partials."},"c2r":{"synopsis":["kout[] c2r kin[]"],"short_desc":"Real to complex format conversion."},"cabasa":{"synopsis":["ares cabasa iamp, idettack [, inum] [, idamp] [, imaxshake]"],"short_desc":"Semi-physical model of a cabasa sound."},"cauchy":{"synopsis":["ares cauchy kalpha","ires cauchy kalpha","kres cauchy kalpha"],"short_desc":"Cauchy distribution random number generator."},"cauchyi":{"synopsis":["ares cauchyi klambda, xamp, xcps","ires cauchyi klambda, xamp, xcps","kres cauchyi klambda, xamp, xcps"],"short_desc":"Cauchy distribution random number generator with interpolation."},"cbrt":{"synopsis":["ires[] cbrt iarg","kres[] cbrt karg"],"short_desc":"Cubic root function."},"ceil":{"synopsis":["ceil(x) (init-, control-, or audio-rate arg allowed)","ceil(k/i[]) (k- or i-arrays )"],"short_desc":"Returns the smallest integer not less than x"},"cell":{"synopsis":["cell ktrig, kreinit, ioutFunc, initStateFunc, iRuleFunc, ielements"],"short_desc":"Cellular Automaton"},"cent":{"synopsis":["cent(x) "],"short_desc":"Calculates a factor to raise/lower a frequency by a given amount of cents."},"centroid":{"synopsis":["kcent centroid asig, ktrig, ifftsize"],"short_desc":"Calculate the spectral centroid of a signal."},"ceps":{"synopsis":["keps[] ceps kmags[][, icoefs]"],"short_desc":"Calculate the cepstrum of an array input, optionally filtering coefficients."},"cepsinv":{"synopsis":["kenv cepsinv keps[]"],"short_desc":"Calculate the inverse cepstrum of an array."},"cggoto":{"synopsis":["cggoto condition, label"],"short_desc":"Conditionally transfer control on every pass."},"chanctrl":{"synopsis":["ival chanctrl ichnl, ictlno [, ilow] [, ihigh]","kval chanctrl ichnl, ictlno [, ilow] [, ihigh]"],"short_desc":"Get the current value of a MIDI channel controller."},"changed":{"synopsis":["ktrig changed kvar1 [, kvar2,..., kvarN]"],"short_desc":"k-rate signal change detector."},"changed2":{"synopsis":["ktrig changed2 kvar1 [, kvar2,..., kvarN]","ktrig changed2 karr[]","ktrig changed2 aarr[]"],"short_desc":"k-rate signal change detector."},"chani":{"synopsis":["kval chani kchan","aval chani kchan"],"short_desc":"Reads data from the software bus"},"chano":{"synopsis":["chano kval, kchan","chano aval, kchan"],"short_desc":"Send data to the outwards software bus"},"chebyshevpoly":{"synopsis":["aout chebyshevpoly ain, k0 [, k1 [, k2 [...]]]"],"short_desc":"Efficiently evaluates the sum of Chebyshev polynomials of arbitrary order."},"checkbox":{"synopsis":["kres checkbox knum"],"short_desc":"Sense on-screen controls."},"chn":{"synopsis":[" chn_k Sname, imode[, itype, idflt, imin, ima, ix, iy, iwidth, iheight, Sattributes]"," chn_a Sname, imode"," chn_S Sname, imode"," chn_S Sname, Smode"],"short_desc":"Declare a channel of the named software bus."},"chnclear":{"synopsis":["chnclear Sname1[, Sname2,...]"],"short_desc":"Clears a number of audio output channel of the named software bus."},"chnexport":{"synopsis":["gival chnexport Sname, imode[, itype, idflt, imin, imax]","gkval chnexport Sname, imode[, itype, idflt, imin, imax]","gaval chnexport Sname, imode","gSval chnexport Sname, imode"],"short_desc":"Export a global variable as a channel of the bus."},"chnget":{"synopsis":["ival chnget Sname","kval chnget Sname","aval chnget Sname","Sval chnget Sname","Sval chngetks Sname","ival[] chngeti Sname[]","kval[] chngetk Sname[]","aval[] chngeta Sname[]","Sval[] chngets Sname[]"],"short_desc":"Reads data from the software bus."},"chnmix":{"synopsis":["chnmix aval, Sname"],"short_desc":"Writes audio data to the named software bus, mixing to the previous output."},"chnparams":{"synopsis":["itype, imode, ictltype, idflt, imin, imax chnparams Sname"],"short_desc":"Query parameters of a channel."},"chnset":{"synopsis":["chnset ival, Sname","chnset kval, Sname","chnset aval, Sname","chnset Sval, Sname","chnsetks Sval, Sname","chnseti ival[], []Sname","chnsetk kval[], []Sname","chnseta aval[], []Sname","chnsets Sval[], []Sname"],"short_desc":"Writes data to the named software bus."},"chuap":{"synopsis":["aI3, aV2, aV1 chuap kL, kR0, kC2, kG, kGa, kGb, kE, kC1, iI3, iV2, iV1, ktime_step"],"short_desc":"Simulates Chua\\\\\'s oscillator, an LRC oscillator with an active resistor, proved capable of bifurcation and chaotic attractors, with k-rate control of circuit elements."},"cigoto":{"synopsis":["cigoto condition, label"],"short_desc":"Conditionally transfer control during the i-time pass."},"ckgoto":{"synopsis":["ckgoto condition, label"],"short_desc":"Conditionally transfer control during the p-time passes."},"clear":{"synopsis":["clear avar1 [, avar2] [, avar3] [...]","clear avar[]"],"short_desc":"Zeroes a list of audio signals."},"clfilt":{"synopsis":["ares clfilt asig, kfreq, itype, inpol [, ikind] [, ipbr] [, isba] [, iskip]"],"short_desc":"Implements low-pass and high-pass filters of different styles."},"clip":{"synopsis":["ares clip asig, imeth, ilimit [, iarg]"],"short_desc":"Clips a signal to a predefined limit."},"clock":{"synopsis":[],"short_desc":"Deprecated."},"clockoff":{"synopsis":["clockoff inum"],"short_desc":"Stops one of a number of internal clocks."},"clockon":{"synopsis":["clockon inum"],"short_desc":"Starts one of a number of internal clocks."},"cmp":{"synopsis":["aout cmp a1, S_operator, a2","aout cmp a1, S_operator, kb","kOut[] cmp kA[], S_operator, kb","kOut[] cmp kA[], S_operator, kB[]","kOut[] cmp k1, S_operator1, kIn[], S_operator2, k2"],"short_desc":"Compares audio signals or arrays"},"cmplxprod":{"synopsis":["kout[] cmplxprod kin1[], kin2[]"],"short_desc":"Complex product of two arrays."},"cngoto":{"synopsis":["cngoto condition, label"],"short_desc":"Transfers control on every pass when a condition is not true."},"cntDelete":{"synopsis":["kval cntDelete icnt"],"short_desc":"Delete a counter."},"cntDelete_i":{"synopsis":["ival cntDelete_i icnt"],"short_desc":"Delete a counter."},"cntCreate":{"synopsis":["icnt cntCreate [imax, imin, inc]"],"short_desc":"Create a counter object."},"cntCycles":{"synopsis":["kval cntCycles icnt"],"short_desc":"Get the number of times a counter has cycled."},"cntRead":{"synopsis":["kval cntReadicnt"],"short_desc":"Read current value of a counter object."},"cntReset":{"synopsis":["cntReseticnt"],"short_desc":"Resets a counter object."},"cntState":{"synopsis":["kmax, kmin, kinc cntStateicnt"],"short_desc":"Gives the range and increment of a counter."},"comb":{"synopsis":["ares comb asig, krvt, ilpt [, iskip] [, insmps]"],"short_desc":"Reverberates an input signal with a colored frequency response."},"combinv":{"synopsis":["ares combinv asig, krvt, ilpt [, iskip] [, insmps]"],"short_desc":"Reverberates an input signal with a colored frequency response."},"compilecsd":{"synopsis":["ires compilecsd Sfilename"],"short_desc":"compiles a new orchestra from an ASCII file"},"compileorc":{"synopsis":["ires compileorc Sfilename"],"short_desc":"compiles a new orchestra from an ASCII file"},"compilestr":{"synopsis":["ires compilestr Sorch"],"short_desc":"compiles a new orchestra passed in as an ASCII string"},"compress":{"synopsis":["ar compress aasig, acsig, kthresh, kloknee, khiknee, kratio, katt, krel, ilook"],"short_desc":"Compress, limit, expand, duck or gate an audio signal."},"compress2":{"synopsis":["ar compress2 aasig, acsig, kthresh, kloknee, khiknee, kratio, katt, krel, ilook"],"short_desc":"Compress, limit, expand, duck or gate an audio signal."},"connect":{"synopsis":["connect Tsource1, Soutlet1, Tsink1, Sinlet1"],"short_desc":"Connects a source outlet to a sink inlet."},"control":{"synopsis":["kres control knum"],"short_desc":"Configurable slider controls for realtime user input."},"convle":{"synopsis":[],"short_desc":"Same as the convolve opcode."},"convolve":{"synopsis":["ar1 [, ar2] [, ar3] [, ar4] convolve ain, ifilcod [, ichannel]"],"short_desc":"Convolves a signal and an impulse response."},"copya2ftab":{"synopsis":["copya2ftab kArray[], ktab [, koffset]","copya2ftab iArray[], itab [, ioffset]"],"short_desc":"Copy data from a vector to an f-table."},"copyf2array":{"synopsis":["copyf2array tab, kftbl"],"short_desc":"Copy data from an f-table to a vector."},"cos":{"synopsis":["cos(x) (no rate restriction)","cos(k/i[]) (k- or i-arrays )"],"short_desc":"Performs a cosine function."},"cosh":{"synopsis":["cosh(x) (no rate restriction)","cosh(k/i[]) (k- or i-arrays )"],"short_desc":"Performs a hyperbolic cosine function."},"cosinv":{"synopsis":["cosinv(x) (no rate restriction)","cosinv(k/i[]) (k- or i-arrays )"],"short_desc":"Performs a arccosine function."},"cosseg":{"synopsis":["ares cosseg ia, idur1, ib [, idur2] [, ic] [...]","kres cosseg ia, idur1, ib [, idur2] [, ic] [...]"],"short_desc":"Trace a series of line segments between specified points with cosine interpolation."},"cossegb":{"synopsis":["ares cossegb ia, itim1, ib [, itim2] [, ic] [...]","kres cossegb ia, itim1, ib [, itim2] [, ic] [...]"],"short_desc":"Trace a series of line segments between specified absolute points with cosine interpolation."},"cossegr":{"synopsis":["ares cossegr ia, idur1, ib [, idur2] [, ic] [...], irel, iz","kres cossegr ia, idur1, ib [, idur2] [, ic] [...], irel, iz"],"short_desc":"Trace a series of line segments between specified points with cosine interpolation, including a release segment."},"count":{"synopsis":["kval count icnt"],"short_desc":"Get the next value from a counter."},"count_i":{"synopsis":["ival count_i icnt"],"short_desc":"Get the next value from a counter."},"cps2pch":{"synopsis":["icps cps2pch ipch, iequal"],"short_desc":"Converts a pitch-class value into cycles-per-second (Hz) for equal divisions of the octave."},"cpsmidi":{"synopsis":["icps cpsmidi"],"short_desc":"Get the note number of the current MIDI event, expressed in cycles-per-second."},"cpsmidib":{"synopsis":["icps cpsmidib [irange]","kcps cpsmidib [irange]"],"short_desc":"Get the note number of the current MIDI event and modify it by the current pitch-bend value, express it in cycles-per-second."},"cpsmidinn":{"synopsis":["cpsmidinn (MidiNoteNumber) (init- or control-rate args only)"],"short_desc":"Converts a Midi note number value to cycles-per-second."},"cpsoct":{"synopsis":["cpsoct (oct) (no rate restriction)"],"short_desc":"Converts an octave-point-decimal value to cycles-per-second."},"cpspch":{"synopsis":["cpspch (pch) (init- or control-rate args only)"],"short_desc":"Converts a pitch-class value to cycles-per-second."},"cpstmid":{"synopsis":["icps cpstmid ifn"],"short_desc":"Get a MIDI note number (allows customized micro-tuning scales)."},"cpstun":{"synopsis":["kcps cpstun ktrig, kindex, kfn"],"short_desc":"Returns micro-tuning values at k-rate."},"cpstuni":{"synopsis":["icps cpstuni index, ifn"],"short_desc":"Returns micro-tuning values at init-rate."},"cpsxpch":{"synopsis":["icps cpsxpch ipch, iequal, irepeat, ibase"],"short_desc":"Converts a pitch-class value into cycles-per-second (Hz) for equal divisions of any interval."},"cpumeter":{"synopsis":["ktot[,kcpu1, kcpu2,...]cpumeter ifreq"],"short_desc":"Reports the usage of cpu either total or per core."},"cpuprc":{"synopsis":["cpuprc insnum, ipercent","cpuprc Sinsname, ipercent"],"short_desc":"Control allocation of cpu resources on a per-instrument basis, to optimize realtime output."},"cross2":{"synopsis":["ares cross2 ain1, ain2, isize, ioverlap, iwin, kbias"],"short_desc":"Cross synthesis using FFT\\\\\'s."},"crossfm":{"synopsis":["a1, a2 crossfm xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1] [, iphs2]","a1, a2 crossfmi xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1] [, iphs2]","a1, a2 crosspm xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1] [, iphs2]","a1, a2 crosspmi xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1] [, iphs2]","a1, a2 crossfmpm xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1] [, iphs2]","a1, a2 crossfmpmi xfrq1, xfrq2, xndx1, xndx2, kcps, ifn1, ifn2 [, iphs1] [, iphs2]"],"short_desc":"Two mutually frequency and/or phase modulated oscillators."},"crunch":{"synopsis":["ares crunch iamp, idettack [, inum] [, idamp] [, imaxshake]"],"short_desc":"Semi-physical model of a crunch sound."},"ctrl14":{"synopsis":["idest ctrl14 ichan, ictlno1, ictlno2, imin, imax [, ifn]","kdest ctrl14 ichan, ictlno1, ictlno2, kmin, kmax [, ifn]"],"short_desc":"Allows a floating-point 14-bit MIDI signal scaled with a minimum and a maximum range."},"ctrl21":{"synopsis":["idest ctrl21 ichan, ictlno1, ictlno2, ictlno3, imin, imax [, ifn]","kdest ctrl21 ichan, ictlno1, ictlno2, ictlno3, kmin, kmax [, ifn]"],"short_desc":"Allows a floating-point 21-bit MIDI signal scaled with a minimum and a maximum range."},"ctrl7":{"synopsis":["idest ctrl7 ichan, ictlno, imin, imax [, ifn]","kdest ctrl7 ichan, ictlno, kmin, kmax [, ifn]","adest ctrl7 ichan, ictlno, kmin, kmax [, ifn] [, icutoff]"],"short_desc":"Allows a floating-point 7-bit MIDI signal scaled with a minimum and a maximum range."},"ctrlinit":{"synopsis":["ctrlinit ichnl, ictlno1, ival1 [, ictlno2] [, ival2] [, ictlno3] [, ival3] [,...ival32]"],"short_desc":"Sets the initial values for a set of MIDI controllers."},"ctrlpreset":{"synopsis":["kpreset ctrlpreset ktag, kchnl, kctlno1, [kctlno2] [, kctlno3] ..."],"short_desc":"Defines a preset for MIDI controllers."},"ctrlprint":{"synopsis":[" ctrlprint kcont[][, Sfile]"],"short_desc":"Print the saved values of MIDI controllers."},"ctrlprintpresets":{"synopsis":[" ctrlprintpresets [Sfilenam]"],"short_desc":"Prints the current collection of presets for MIDI controllers."},"ctrlsave":{"synopsis":["kconnt[] ctrlsave ichnl, ictlno1, [ictlno2] [, ictlno3] ..."],"short_desc":"Recovers the current values of MIDI controllers."},"ctrlselect":{"synopsis":[" ctrlselect kpre"],"short_desc":"Loads a preset of values for MIDI controllers."},"cudanal":{"synopsis":["fsig cudanal ain, ifftsize, ioverlap, iwinsize, iwintype [, iformat] [, iinit]"],"short_desc":"Generate an fsig from a mono audio source ain, using phase vocoder overlap-add analysis and GPU hardware. Experimental and only available as source code at the moment."},"cudasliding":{"synopsis":["asig cudasliding ain, amod, iwinsize"],"short_desc":"Perform sliding phase vocoder algorithm with simplified transformational FM using GPU hardware. Experimental and only available as source code at the moment."},"cudasynth":{"synopsis":["asig cudasynth kamp, kfreq, itab, iftab, iatab[, inum]","asig cudasynth fsig, kamp, kfreq[, inum]","asig cudasynth fsig"],"short_desc":"Synthesis by additive synthesis and inverse FFT. Experimental and only available as source code at the moment."},"cuserrnd":{"synopsis":["aout cuserrnd kmin, kmax, ktableNum","iout cuserrnd imin, imax, itableNum","kout cuserrnd kmin, kmax, ktableNum"],"short_desc":"Continuous USER-defined-distribution RaNDom generator."},"dam":{"synopsis":["ares dam asig, kthreshold, icomp1, icomp2, irtime, iftime"],"short_desc":"A dynamic compressor/expander."},"date":{"synopsis":["ir[, inano] date","kr[, knano] date"],"short_desc":"Returns the number seconds since a base date."},"dates":{"synopsis":["Sir dates [ itime]"],"short_desc":"Returns as a string the date and time specified."},"db":{"synopsis":["db(x)"],"short_desc":"Returns the amplitude equivalent for a given decibel amount."},"dbamp":{"synopsis":["dbamp(x) (init-rate or control-rate args only)"],"short_desc":"Returns the decibel equivalent of the raw amplitude x."},"dbfsamp":{"synopsis":["dbfsamp(x) (init-rate or control-rate args only)"],"short_desc":"Returns the decibel equivalent of the raw amplitude x, relative to full scale amplitude."},"dcblock":{"synopsis":["ares dcblock ain [, igain]"],"short_desc":"A DC blocking filter."},"dcblock2":{"synopsis":["ares dcblock2 ain [, iorder] [, iskip]"],"short_desc":"A DC blocking filter."},"dconv":{"synopsis":["ares dconv asig, isize, ifn"],"short_desc":"A direct convolution opcode."},"dct":{"synopsis":["kout[] dct kin[]","iout[] dct iin[]"],"short_desc":"Discrete Cosine Transform of a sample array (type-II DCT)"},"dctinv":{"synopsis":["kout[] dctinv kin[]","iout[] dctinv iin[]"],"short_desc":"Inverse Discrete Cosine Transform of a sample array (type-III DCT)"},"define":{"synopsis":["#define NAME # replacement text #","#define NAME(a\' b\' c\') # replacement text #"],"short_desc":"Defines a macro."},"deinterleave":{"synopsis":["kout1[], kout2[] deinterleave kin[]"],"short_desc":"Deinterleaves arrays by picking alternate data from its input."},"delay":{"synopsis":["ares delay asig, idlt [, iskip]"],"short_desc":"Delays an input signal by some time interval."},"delay1":{"synopsis":["ares delay1 asig [, iskip]"],"short_desc":"Delays an input signal by one sample."},"delayk":{"synopsis":["kr delayk ksig, idel[, imode]","kr vdel_k ksig, kdel, imdel[, imode]"],"short_desc":"Delays an input signal by some time interval."},"delayr":{"synopsis":["ares delayr idlt [, iskip]"],"short_desc":"Reads from an automatically established digital delay line."},"delayw":{"synopsis":["delayw asig"],"short_desc":"Writes the audio signal to a digital delay line."},"deltap":{"synopsis":["ares deltap kdlt"],"short_desc":"Taps a delay line at variable offset times."},"deltap3":{"synopsis":["ares deltap3 xdlt"],"short_desc":"Taps a delay line at variable offset times, uses cubic interpolation."},"deltapi":{"synopsis":["ares deltapi xdlt"],"short_desc":"Taps a delay line at variable offset times, uses interpolation."},"deltapn":{"synopsis":["ares deltapn xnumsamps"],"short_desc":"Taps a delay line at variable offset times."},"deltapx":{"synopsis":["aout deltapx adel, iwsize"],"short_desc":"Read from or write to a delay line with interpolation."},"deltapxw":{"synopsis":["deltapxw ain, adel, iwsize"],"short_desc":"Mixes the input signal to a delay line."},"denorm":{"synopsis":["denorm a1[, a2[, a3[, ... ]]]"],"short_desc":"Mixes low level noise to a list of a-rate signals"},"diff":{"synopsis":["ares diff asig [, iskip]","kres diff ksig [, iskip]"],"short_desc":"Modify a signal by differentiation."},"diode_ladder":{"synopsis":["asig diode_ladder ain, xcf, xk [, inlp, isaturation, istor]"],"short_desc":"Zero-delay feedback implementation of 4 pole diode ladder filter."},"directory":{"synopsis":["SFiles[] directory SDirectory[, SExtention]"],"short_desc":"Reads a directory and outputs to a string array a list of file names."},"diskgrain":{"synopsis":["asig diskgrain Sfname, kamp, kfreq, kpitch, kgrsize, kprate, ifun, iolaps [,imaxgrsize , ioffset]"],"short_desc":"Synchronous granular synthesis, using a soundfile as source."},"diskin":{"synopsis":["ar1 [, ar2 [, ar3 [, ... arN]]] diskin ifilcod[, kpitch[, iskiptim [, iwraparound[, iformat[, iskipinit]]]]]","ar1[] diskin ifilcod[, kpitch[, iskiptim [, iwraparound[, iformat[, iskipinit]]]]]"],"short_desc":"Reads audio data from an external device or stream and can alter its pitch."},"diskin2":{"synopsis":["a1[, a2[, ... aN]] diskin2 ifilcod[, kpitch[, iskiptim [, iwrap[, iformat[, iwsize[, ibufsize[, iskipinit]]]]]]]","ar1[] diskin2 ifilcod[, kpitch[, iskiptim [, iwrap[, iformat[, iwsize[, ibufsize[, iskipinit]]]]]]]"],"short_desc":"Reads audio data from a file, and can alter its pitch using one of several available interpolation types, as well as convert the sample rate to match the orchestra sr setting."},"dispfft":{"synopsis":["dispfft xsig, iprd, iwsiz [, iwtyp] [, idbout] [, iwtflg] [,imin] [,imax]"],"short_desc":"Displays the Fourier Transform of an audio or control signal."},"display":{"synopsis":["display xsig, iprd [, inprds] [, iwtflg]"],"short_desc":"Displays the audio or control signals as an amplitude vs. time graph."},"distort":{"synopsis":["ar distort asig, kdist, ifn[, ihp, istor]"],"short_desc":"Distort an audio signal via waveshaping and optional clipping."},"distort1":{"synopsis":["ares distort1 asig, kpregain, kpostgain, kshape1, kshape2[, imode]"],"short_desc":"Modified hyperbolic tangent distortion."},"divides":{"synopsis":["a / b (no rate restriction)"],"short_desc":"Division operator."},"divz":{"synopsis":["ares divz xa, xb, ksubst","ires divz ia, ib, isubst","kres divz ka, kb, ksubst","...divz(ka, kb, ksubst)... (no rate restriction)"],"short_desc":"Safely divides two numbers."},"dollar":{"synopsis":["$NAME"],"short_desc":"Calls a defined macro."},"doppler":{"synopsis":["ashifted doppler asource, ksourceposition, kmicposition [, isoundspeed, ifiltercutoff]"],"short_desc":"A fast and robust method for approximating sound propagation, achieving convincing Doppler shifts without having to solve equations."},"dot":{"synopsis":["kres/ires dot karr1[]/iarr1[], karr2[]/iarr2[] (k- or i-arrays )"],"short_desc":"Calculates the dot product of two arrays."},"downsamp":{"synopsis":["kres downsamp asig [, iwlen]"],"short_desc":"Modify a signal by down-sampling."},"dripwater":{"synopsis":["ares dripwater kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]"],"short_desc":"Semi-physical model of a water drop."},"dssiactivate":{"synopsis":["dssiactivate ihandle, ktoggle "],"short_desc":"Activates or deactivates a DSSI or LADSPA plugin."},"dssiaudio":{"synopsis":["[aout1, aout2, ..., aout9] dssiaudio ihandle, [ain1, ain2, ..., ain9]"],"short_desc":"Processes audio using a LADSPA or DSSI plugin."},"dssictls":{"synopsis":["dssictls ihandle, iport, kvalue, ktrigger "],"short_desc":"Send control information to a LADSPA or DSSI plugin."},"dssiinit":{"synopsis":["ihandle dssiinit ilibraryname, iplugindex [, iverbose] "],"short_desc":"Loads a DSSI or LADSPA plugin."},"dssilist":{"synopsis":["dssilist"],"short_desc":"Lists all available DSSI and LADSPA plugins."},"dumpk":{"synopsis":["dumpk ksig, ifilname, iformat, iprd"],"short_desc":"Periodically writes an orchestra control-signal value to an external file."},"dumpk2":{"synopsis":["dumpk2 ksig1, ksig2, ifilname, iformat, iprd"],"short_desc":"Periodically writes two orchestra control-signal values to an external file."},"dumpk3":{"synopsis":["dumpk3 ksig1, ksig2, ksig3, ifilname, iformat, iprd"],"short_desc":"Periodically writes three orchestra control-signal values to an external file."},"dumpk4":{"synopsis":["dumpk4 ksig1, ksig2, ksig3, ksig4, ifilname, iformat, iprd"],"short_desc":"Periodically writes four orchestra control-signal values to an external file."},"duserrnd":{"synopsis":["aout duserrnd ktableNum","iout duserrnd itableNum","kout duserrnd ktableNum"],"short_desc":"Discrete USER-defined-distribution RaNDom generator."},"dust":{"synopsis":["ares dust kamp, kdensity","kres dust kamp, kdensity"],"short_desc":"Random impulses."},"dust2":{"synopsis":["ares dust2 kamp, kdensity","kres dust2 kamp, kdensity"],"short_desc":"Random impulses."},"elapsedcycles":{"synopsis":["ires elapsedcycles","kres elapsedcycles"],"short_desc":"Read absolute time in k-rate cycles."},"elapsedtime":{"synopsis":["ires elapsedtime","kres elapsedtime"],"short_desc":"Read absolute time in seconds."},"else":{"synopsis":["else"],"short_desc":"Executes a block of code when an \\"if...then\\" condition is false."},"elseif":{"synopsis":["elseif xa R xb then"],"short_desc":"Defines another \\"if...then\\" condition when a \\"if...then\\" condition is false."},"endif":{"synopsis":["endif"],"short_desc":"Closes a block of code that begins with an \\"if...then\\" statement."},"endin":{"synopsis":["endin"],"short_desc":"Ends the current instrument block."},"endop":{"synopsis":["endop"],"short_desc":"Marks the end of an user-defined opcode block."},"envlpx":{"synopsis":["ares envlpx xamp, irise, idur, idec, ifn, iatss, iatdec [, ixmod]","kres envlpx kamp, irise, idur, idec, ifn, iatss, iatdec [, ixmod]"],"short_desc":"Applies an envelope consisting of 3 segments."},"envlpxr":{"synopsis":["ares envlpxr xamp, irise, idec, ifn, iatss, iatdec [, ixmod] [,irind]","kres envlpxr kamp, irise, idec, ifn, iatss, iatdec [, ixmod] [,irind]"],"short_desc":"The envlpx opcode with a final release segment."},"ephasor":{"synopsis":["aexp,aph ephasor kfreq, kR"],"short_desc":"produces two outputs: a periodic phase signal and a periodic exponential decaying signal."},"eqfil":{"synopsis":["asig eqfil ain, kcf, kbw, kgain[, istor]"],"short_desc":"Equalizer filter"},"equals":{"synopsis":["(a == b ? v1 : v2)"],"short_desc":"Compares two values for equality."},"evalstr":{"synopsis":["ires evalstr Scode ","kres evalstr Scode, ktrig "],"short_desc":"Evalstrs evaluates a string containing Csound code, returning a value."},"event":{"synopsis":["event \\"scorechar\\", kinsnum, kdelay, kdur, [, kp4] [, kp5] [, ...]","event \\"scorechar\\", \\"insname\\", kdelay, kdur, [, kp4] [, kp5] [, ...]"],"short_desc":"Generates a score event from an instrument."},"event_i":{"synopsis":["event_i \\"scorechar\\", iinsnum, idelay, idur, [, ip4] [, ip5] [, ...]","event_i \\"scorechar\\", \\"insname\\", idelay, idur, [, ip4] [, ip5] [, ...]"],"short_desc":"Generates a score event from an instrument."},"eventcycles":{"synopsis":["kres eventcycles"],"short_desc":"Read absolute time in k-rate cycles."},"eventtime":{"synopsis":["kres eventtime"],"short_desc":"Read absolute time in seconds."},"exciter":{"synopsis":["ares exciter asig, kfreq, kceil, kharmonics, kblend"],"short_desc":"A non-linear filter system to excite the signal."},"exitnow":{"synopsis":["exitnow [ivalue]"],"short_desc":"Exit Csound as fast as possible, with no cleaning up."},"exp":{"synopsis":["exp(x) (no rate restriction)","exp(k/i[]) (k- or i-arrays)"],"short_desc":"Returns e raised to the x-th power."},"expcurve":{"synopsis":["kout expcurve kindex, ksteepness"],"short_desc":"This opcode implements a formula for generating a normalised exponential curve in range 0 - 1. It is based on the Max / MSP work of Eric Singer (c) 1994."},"expon":{"synopsis":["ares expon ia, idur, ib","kres expon ia, idur, ib"],"short_desc":"Trace an exponential curve between specified points."},"exprand":{"synopsis":["ares exprand klambda","ires exprand klambda","kres exprand klambda"],"short_desc":"Exponential distribution random number generator (positive values only)."},"exprandi":{"synopsis":["ares exprandi klambda, xamp, xcps","ires exprandi klambda, xamp, xcps","kres exprandi klambda, xamp, xcps"],"short_desc":"Exponential distribution random number generator with interpolation (positive values only)."},"expseg":{"synopsis":["ares expseg ia, idur1, ib [, idur2] [, ic] [...]","kres expseg ia, idur1, ib [, idur2] [, ic] [...]"],"short_desc":"Trace a series of exponential segments between specified points."},"expsega":{"synopsis":["ares expsega ia, idur1, ib [, idur2] [, ic] [...]"],"short_desc":"An exponential segment generator operating at a-rate."},"expsegb":{"synopsis":["ares expsegb ia, itim1, ib [, itim2] [, ic] [...]","kres expsegb ia, itim1, ib [, itim2] [, ic] [...]"],"short_desc":"Trace a series of exponential segments between specified absolute points."},"expsegba":{"synopsis":["ares expsegba ia, itim1, ib [, itim2] [, ic] [...]"],"short_desc":"An exponential segment generator operating at a-rate with absolute times."},"expsegr":{"synopsis":["ares expsegr ia, idur1, ib [, idur2] [, ic] [...], irel, iz","kres expsegr ia, idur1, ib [, idur2] [, ic] [...], irel, iz"],"short_desc":"Trace a series of exponential segments between specified points including a release segment."},"fareylen":{"synopsis":["kfl fareylen kfn"],"short_desc":"returns the length of a Farey Sequence."},"fareyleni":{"synopsis":["ifl fareyleni ifn"],"short_desc":"returns the length of a Farey Sequence."},"faustaudio":{"synopsis":["ihandle,a1[,a2,...] faustaudio ifac[,ain1,...] "],"short_desc":"Instantiates and runs a compiled Faust program."},"faustcompile":{"synopsis":["ihandle faustcompile Scode, Sargs[,iasync, istacksize] "],"short_desc":"Invokes the just-in-time compiler to produce a instantiable DSP process from a Faust program."},"faustctl":{"synopsis":["faustctl idsp,Scontrol,kval "],"short_desc":"Adjusts a given control in a Faust DSP instance."},"faustdsp":{"synopsis":["ihandle faustdsp ifac "],"short_desc":"Instantiates a Faust program."},"faustgen":{"synopsis":["ihandle,a1[,a2,...] faustgen SCode[,ain1,...] "],"short_desc":"Compiles, Instantiates and runs a compiled Faust program."},"faustplay":{"synopsis":["a1[, a2,...] faustplay ihandle[, ain1,...]"],"short_desc":"Runs an instantiated Faust program."},"fft":{"synopsis":["kout[] fft kin[]"],"short_desc":"Complex-to-complex Fast Fourier Transform."},"ficlose":{"synopsis":["ficlose ihandle","ficlose Sfilename"],"short_desc":"Closes a previously opened file."},"filebit":{"synopsis":["ir filebit ifilcod [, iallowraw]"],"short_desc":"Returns the number of bits in each sample in a sound file."},"filelen":{"synopsis":["ir filelen ifilcod, [iallowraw]"],"short_desc":"Returns the length of a sound file."},"filenchnls":{"synopsis":["ir filenchnls ifilcod [, iallowraw]"],"short_desc":"Returns the number of channels in a sound file."},"filepeak":{"synopsis":["ir filepeak ifilcod [, ichnl]"],"short_desc":"Returns the peak absolute value of a sound file."},"filescal":{"synopsis":["asig[,asig2] filescal ktimescal, kamp, kpitch, Sfile, klock [,ifftsize, idecim, ithresh] "],"short_desc":"Phase-locked vocoder processing with onset detection/processing, \\\\\'tempo-scaling\\\\\'."},"filesr":{"synopsis":["ir filesr ifilcod [, iallowraw]"],"short_desc":"Returns the sample rate of a sound file."},"filevalid":{"synopsis":["ir filevalid ifilcod","kr filevalid ifilcod"],"short_desc":"Checks that a file can be read at initialisation or performance time."},"fillarray":{"synopsis":["karray[] fillarray ival1, ival2,.....ivaln","karray fillarray ival1, ival2,.....ivaln","karray fillarray kval1, kval2,.....kvaln"],"short_desc":"Generate a vector with initial values."},"filter2":{"synopsis":["ares filter2 asig, ibcoefs, iacoefs, ib0, ib1, ..., ibM, ia1, ia2, ..., iaN","kres filter2 ksig, ibcoefs, iacoefs, ib0, ib1, ..., ibM, ia1, ia2, ..., iaN"],"short_desc":"Performs filtering using a transposed form-II digital filter lattice with no time-varying control."},"fin":{"synopsis":["fin ifilename, iskipframes, iformat, ain1 [, ain2] [, ain3] [,...]","fin ifilename, iskipframes, iformat, arr[]"],"short_desc":"Read signals from a file at a-rate."},"fini":{"synopsis":["fini ifilename, iskipframes, iformat, in1 [, in2] [, in3] [, ...]"],"short_desc":"Read signals from a file at i-rate."},"fink":{"synopsis":["fink ifilename, iskipframes, iformat, kin1 [, kin2] [, kin3] [,...]"],"short_desc":"Read signals from a file at k-rate."},"fiopen":{"synopsis":["ihandle fiopen ifilename, imode"],"short_desc":"Opens a file in a specific mode."},"flanger":{"synopsis":["ares flanger asig, adel, kfeedback [, imaxd]"],"short_desc":"A user controlled flanger."},"flashtxt":{"synopsis":["flashtxt iwhich, String"],"short_desc":"Allows text to be displayed from instruments like sliders"},"FLbox":{"synopsis":["ihandle FLbox \\"label\\", itype, ifont, isize, iwidth, iheight, ix, iy [, image]","ihandle FLbox istr, itype, ifont, isize, iwidth, iheight, ix, iy [, image]"],"short_desc":"A FLTK widget that displays text inside of a box."},"FLbutBank":{"synopsis":["kout, ihandle FLbutBank itype, inumx, inumy, iwidth, iheight, ix, iy, iopcode [, kp1] [, kp2] [, kp3] [, kp4] [, kp5] [....] [, kpN]"],"short_desc":"A FLTK widget opcode that creates a bank of buttons."},"FLbutton":{"synopsis":["kout, ihandle FLbutton \\"label\\", ion, ioff, itype, iwidth, iheight, ix, iy, iopcode [, kp1] [, kp2] [, kp3] [, kp4] [, kp5] [....] [, kpN]"],"short_desc":"A FLTK widget opcode that creates a button."},"FLcloseButton":{"synopsis":["ihandle FLcloseButton \\"label\\", iwidth, iheight, ix, iy"],"short_desc":"A FLTK widget opcode that creates a button that will close the panel window it is a part of."},"FLcolor":{"synopsis":["FLcolor ired, igreen, iblue [, ired2, igreen2, iblue2]"],"short_desc":"A FLTK opcode that sets the primary colors."},"FLcolor2":{"synopsis":["FLcolor2 ired, igreen, iblue"],"short_desc":"A FLTK opcode that sets the secondary (selection) color."},"FLcount":{"synopsis":["kout, ihandle FLcount \\"label\\", imin, imax, istep1, istep2, itype, iwidth, iheight, ix, iy, iopcode [, kp1] [, kp2] [, kp3] [...] [, kpN]"],"short_desc":"A FLTK widget opcode that creates a counter."},"FLexecButton":{"synopsis":["ihandle FLexecButton \\"command\\", iwidth, iheight, ix, iy"],"short_desc":"A FLTK widget opcode that creates a button that executes a command."},"FLgetsnap":{"synopsis":["inumsnap FLgetsnap index [, igroup]"],"short_desc":"Retrieves a previously stored FLTK snapshot."},"FLgroup":{"synopsis":["FLgroup \\"label\\", iwidth, iheight, ix, iy [, iborder] [, image]"],"short_desc":"A FLTK container opcode that groups child widgets."},"FLgroup_end":{"synopsis":[],"short_desc":"Marks the end of a group of FLTK child widgets."},"FLgroupEnd":{"synopsis":["FLgroupEnd"],"short_desc":"Marks the end of a group of FLTK child widgets."},"FLhide":{"synopsis":["FLhide ihandle"],"short_desc":"Hides the target FLTK widget."},"FLhvsBox":{"synopsis":["ihandle FLhvsBox inumlinesX, inumlinesY, iwidth, iheight, ix, iy"],"short_desc":"Displays a box with a grid useful for visualizing two-dimensional Hyper Vectorial Synthesis."},"FLhvsBoxSetValue":{"synopsis":["FLhvsBox kx, ky, ihandle"],"short_desc":"Sets the cursor position of a previously-declared FLhvsBox widget."},"FLjoy":{"synopsis":["koutx, kouty, ihandlex, ihandley FLjoy \\"label\\", iminx, imaxx, iminy, imaxy, iexpx, iexpy, idispx, idispy, iwidth, iheight, ix, iy"],"short_desc":"A FLTK opcode that acts like a joystick."},"FLkeyIn":{"synopsis":["kascii FLkeyIn [ifn]"],"short_desc":"Reports keys pressed (on alphanumeric keyboard) when an FLTK panel has focus."},"FLknob":{"synopsis":["kout, ihandle FLknob \\"label\\", imin, imax, iexp, itype, idisp, iwidth, ix, iy [, icursorsize]"],"short_desc":"A FLTK widget opcode that creates a knob."},"FLlabel":{"synopsis":["FLlabel isize, ifont, ialign, ired, igreen, iblue"],"short_desc":"A FLTK opcode that modifies the appearance of a text label."},"FLloadsnap":{"synopsis":["FLloadsnap \\"filename\\" [, igroup]"],"short_desc":"Loads all snapshots into the memory bank of the current orchestra."},"FLmouse":{"synopsis":["kx, ky, kb1, kb2, kb3 FLmouse [imode]"],"short_desc":"Returns the mouse position and the state of the three mouse buttons."},"flooper":{"synopsis":["asig1[, asig2] flooper kamp, kpitch, istart, idur, ifad, ifn"],"short_desc":"Function-table-based crossfading looper."},"flooper2":{"synopsis":["asig1[,asig2] flooper2 kamp, kpitch, kloopstart, kloopend, kcrossfade, ifn [, istart, imode, ifenv, iskip]"],"short_desc":"Function-table-based crossfading looper."},"floor":{"synopsis":["floor(x) (init-, control-, or audio-rate arg allowed)","floor(k/i[]) (k- or i-arrays )"],"short_desc":"Returns the largest integer not greater than x"},"FLpack":{"synopsis":["FLpack iwidth, iheight, ix, iy, itype, ispace, iborder"],"short_desc":"Provides the functionality of compressing and aligning FLTK widgets."},"FLpack_end":{"synopsis":[],"short_desc":"Marks the end of a group of compressed or aligned FLTK widgets."},"FLpackEnd":{"synopsis":["FLpackEnd"],"short_desc":"Marks the end of a group of compressed or aligned FLTK widgets."},"FLpanel":{"synopsis":["FLpanel \\"label\\", iwidth, iheight [, ix] [, iy] [, iborder] [, ikbdcapture] [, iclose]"],"short_desc":"Creates a window that contains FLTK widgets."},"FLpanel_end":{"synopsis":[],"short_desc":"Marks the end of a group of FLTK widgets contained inside of a window (panel)."},"FLpanelEnd":{"synopsis":["FLpanelEnd"],"short_desc":"Marks the end of a group of FLTK widgets contained inside of a window (panel)."},"FLprintk":{"synopsis":["FLprintk itime, kval, idisp"],"short_desc":"A FLTK opcode that prints a k-rate value at specified intervals."},"FLprintk2":{"synopsis":["FLprintk2 kval, idisp"],"short_desc":"A FLTK opcode that prints a new value every time a control-rate variable changes."},"FLroller":{"synopsis":["kout, ihandle FLroller \\"label\\", imin, imax, istep, iexp, itype, idisp, iwidth, iheight, ix, iy"],"short_desc":"A FLTK widget that creates a transversal knob."},"FLrun":{"synopsis":["FLrun"],"short_desc":"Starts the FLTK widget thread."},"FLsavesnap":{"synopsis":["FLsavesnap \\"filename\\" [, igroup]"],"short_desc":"Saves all snapshots currently created into a file."},"FLscroll":{"synopsis":["FLscroll iwidth, iheight [, ix] [, iy]"],"short_desc":"A FLTK opcode that adds scroll bars to an area."},"FLscroll_end":{"synopsis":[],"short_desc":"A FLTK opcode that marks the end of an area with scrollbars."},"FLscrollEnd":{"synopsis":["FLscrollEnd"],"short_desc":"A FLTK opcode that marks the end of an area with scrollbars."},"FLsetAlign":{"synopsis":["FLsetAlign ialign, ihandle"],"short_desc":"Sets the text alignment of a label of a FLTK widget."},"FLsetBox":{"synopsis":["FLsetBox itype, ihandle"],"short_desc":"Sets the appearance of a box surrounding a FLTK widget."},"FLsetColor":{"synopsis":["FLsetColor ired, igreen, iblue, ihandle"],"short_desc":"Sets the primary color of a FLTK widget."},"FLsetColor2":{"synopsis":["FLsetColor2 ired, igreen, iblue, ihandle"],"short_desc":"Sets the secondary (or selection) color of a FLTK widget."},"FLsetFont":{"synopsis":["FLsetFont ifont, ihandle"],"short_desc":"Sets the font type of a FLTK widget."},"FLsetPosition":{"synopsis":["FLsetPosition ix, iy, ihandle"],"short_desc":"Sets the position of a FLTK widget."},"FLsetSize":{"synopsis":["FLsetSize iwidth, iheight, ihandle"],"short_desc":"Resizes a FLTK widget."},"FLsetsnap":{"synopsis":["inumsnap, inumval FLsetsnap index [, ifn, igroup]"],"short_desc":"Stores the current status of all FLTK valuators into a snapshot location."},"FLsetSnapGroup":{"synopsis":["FLsetSnapGroup igroup"],"short_desc":"Determines the snapshot group for FL valuators."},"FLsetText":{"synopsis":["FLsetText \\"itext\\", ihandle","FLsetText istr, ihandle"],"short_desc":"Sets the label of a FLTK widget."},"FLsetTextColor":{"synopsis":["FLsetTextColor ired, iblue, igreen, ihandle"],"short_desc":"Sets the color of the text label of a FLTK widget."},"FLsetTextSize":{"synopsis":["FLsetTextSize isize, ihandle"],"short_desc":"Sets the size of the text label of a FLTK widget."},"FLsetTextType":{"synopsis":["FLsetTextType itype, ihandle"],"short_desc":"Sets some font attributes of the text label of a FLTK widget."},"FLsetVal":{"synopsis":["FLsetVal ktrig, kvalue, ihandle"],"short_desc":"Sets the value of a FLTK valuator at control-rate."},"FLsetVal_i":{"synopsis":["FLsetVal_i ivalue, ihandle"],"short_desc":"Sets the value of a FLTK valuator to a number provided by the user."},"FLshow":{"synopsis":["FLshow ihandle"],"short_desc":"Restores the visibility of a previously hidden FLTK widget."},"FLslidBnk":{"synopsis":["FLslidBnk \\"names\\", inumsliders [, ioutable] [, iwidth] [, iheight] [, ix] [, iy] [, itypetable] [, iexptable] [, istart_index] [, iminmaxtable]"],"short_desc":"A FLTK widget containing a bank of horizontal sliders."},"FLslidBnk2":{"synopsis":["FLslidBnk2 \\"names\\", inumsliders, ioutable, iconfigtable [,iwidth, iheight, ix, iy, istart_index] ","FLslidBnk2 istring, inumsliders, ioutable, iconfigtable [,iwidth, iheight, ix, iy, istart_index] "],"short_desc":"A FLTK widget containing a bank of horizontal sliders."},"FLslidBnk2Set":{"synopsis":["FLslidBnk2Set ihandle, ifn [, istartIndex, istartSlid, inumSlid]"],"short_desc":"modify the values of a slider bank."},"FLslidBnk2Setk":{"synopsis":["FLslidBnk2Setk ktrig, ihandle, ifn [, istartIndex, istartSlid, inumSlid]"],"short_desc":"modify the values of a slider bank."},"FLslidBnkGetHandle":{"synopsis":["ihandle FLslidBnkGetHandle"],"short_desc":"gets the handle of last slider bank created."},"FLslidBnkSet":{"synopsis":["FLslidBnkSet ihandle, ifn [, istartIndex, istartSlid, inumSlid]"],"short_desc":"modify the values of a slider bank."},"FLslidBnkSetk":{"synopsis":["FLslidBnkSetk ktrig, ihandle, ifn [, istartIndex, istartSlid, inumSlid]"],"short_desc":"modify the values of a slider bank."},"FLslider":{"synopsis":["kout, ihandle FLslider \\"label\\", imin, imax, iexp, itype, idisp, iwidth, iheight, ix, iy"],"short_desc":"Puts a slider into the corresponding FLTK container."},"FLtabs":{"synopsis":["FLtabs iwidth, iheight, ix, iy"],"short_desc":"Creates a tabbed FLTK interface."},"FLtabs_end":{"synopsis":[],"short_desc":"Marks the end of a tabbed FLTK interface."},"FLtabsEnd":{"synopsis":["FLtabsEnd"],"short_desc":"Marks the end of a tabbed FLTK interface."},"FLtext":{"synopsis":["kout, ihandle FLtext \\"label\\", imin, imax, istep, itype, iwidth, iheight, ix, iy"],"short_desc":"A FLTK widget opcode that creates a textbox."},"fluidAllOut":{"synopsis":["aleft, aright fluidAllOut"],"short_desc":"Collects all audio from all Fluidsynth engines in a performance"},"fluidCCi":{"synopsis":["fluidCCi iEngineNumber, iChannelNumber, iControllerNumber, iValue"],"short_desc":"Sends a MIDI controller data message to fluid."},"fluidCCk":{"synopsis":["fluidCCk iEngineNumber, iChannelNumber, iControllerNumber, kValue"],"short_desc":"Sends a MIDI controller data message to fluid."},"fluidControl":{"synopsis":["fluidControl ienginenum, kstatus, kchannel, kdata1, kdata2 [,imsgs]"],"short_desc":"Sends MIDI note on, note off, and other messages to a SoundFont preset."},"fluidEngine":{"synopsis":["ienginenum fluidEngine [iChorusEnabled] [, iRevervEnabled] [, iNumChannels] [, iPolyphony] "],"short_desc":"Instantiates a fluidsynth engine."},"fluidInfo":{"synopsis":["SPrograms[] fluidInfo ienginenum"],"short_desc":"Retrieves program information from currently loaded soundfont."},"fluidLoad":{"synopsis":["isfnum fluidLoad soundfont, ienginenum[, ilistpresets]"],"short_desc":"Loads a SoundFont into a fluidEngine, optionally listing SoundFont contents."},"fluidNote":{"synopsis":["fluidNote ienginenum, ichannelnum, imidikey, imidivel"],"short_desc":"Plays a note on a channel in a fluidSynth engine."},"fluidOut":{"synopsis":["aleft, aright fluidOut ienginenum"],"short_desc":"Outputs sound from a given fluidEngine"},"fluidProgramSelect":{"synopsis":["fluidProgramSelect ienginenum, ichannelnum, isfnum, ibanknum, ipresetnum"],"short_desc":"Assigns a preset from a SoundFont to a channel on a fluidEngine."},"fluidSetInterpMethod":{"synopsis":["fluidSetInterpMethod ienginenum, ichannelnum, iInterpMethod"],"short_desc":"Set interpolation method for channel in Fluid Engine"},"FLupdate":{"synopsis":["FLupdate"],"short_desc":"Same as the FLrun opcode."},"FLvalue":{"synopsis":["ihandle FLvalue \\"label\\", iwidth, iheight, ix, iy"],"short_desc":"Shows the current value of a FLTK valuator."},"FLvkeybd":{"synopsis":["FLvkeybd \\"keyboard.map\\", iwidth, iheight, ix, iy"],"short_desc":"An FLTK widget opcode that creates a virtual keyboard widget."},"FLvslidBnk":{"synopsis":["FLvslidBnk \\"names\\", inumsliders [, ioutable] [, iwidth] [, iheight] [, ix] [, iy] [, itypetable] [, iexptable] [, istart_index] [, iminmaxtable]"],"short_desc":"A FLTK widget containing a bank of vertical sliders."},"FLvslidBnk2":{"synopsis":["FLvslidBnk2 \\"names\\", inumsliders, ioutable, iconfigtable [,iwidth, iheight, ix, iy, istart_index]"],"short_desc":"A FLTK widget containing a bank of vertical sliders."},"FLxyin":{"synopsis":["koutx, kouty, kinside FLxyin ioutx_min, ioutx_max, iouty_min, iouty_max, iwindx_min, iwindx_max, iwindy_min, iwindy_max [, iexpx, iexpy, ioutx, iouty]"],"short_desc":"Senses the mouse cursor position in a user-defined area inside an FLpanel."},"fmanal":{"synopsis":["am, af fmanal are, aim"],"short_desc":"AM/FM analysis from quadrature signal."},"fmax":{"synopsis":["ires[] fmax iarg1[], iarg2[] ","kres[] fmax karg1[], karg2[]","ires[] fmax iarg1[], iarg2 ","kres[] fmax karg[], karg2 "],"short_desc":"Maximum value function."},"fmb3":{"synopsis":["ares fmb3 kamp, kfreq, kc1, kc2, kvdepth, kvrate[, ifn1, ifn2, ifn3, ifn4, ivfn]"],"short_desc":"Uses FM synthesis to create a Hammond B3 organ sound."},"fmbell":{"synopsis":["ares fmbell kamp, kfreq, kc1, kc2, kvdepth, kvrate[, ifn1, ifn2, ifn3, ifn4, ivfn, isus]"],"short_desc":"Uses FM synthesis to create a tublar bell sound."},"fmin":{"synopsis":["ires[] fmin iarg1[], iarg2[] ","kres[] fmin karg1[], karg2[]","ires[] fmin iarg1[], iarg2 ","kres[] fmin karg[], karg2 "],"short_desc":"Minimum value function."},"fmmetal":{"synopsis":["ares fmmetal kamp, kfreq, kc1, kc2, kvdepth, kvrate, ifn1, ifn2, ifn3, ifn4, ivfn"],"short_desc":"Uses FM synthesis to create a Heavy Metal sound."},"fmod":{"synopsis":["ires[] fmod iarg1[], iarg2[] ","kres[] fmod karg1[], karg2[]","ires[] fmod iarg1[], iarg2 ","kres[] fmod karg[], karg2 "],"short_desc":"Compute the floating point remainder operation."},"fmpercfl":{"synopsis":["ares fmpercfl kamp, kfreq, kc1, kc2, kvdepth, kvrate[, ifn1, ifn2, ifn3, ifn4, ivfn]"],"short_desc":"Uses FM synthesis to create a percussive flute sound."},"fmrhode":{"synopsis":["ares fmrhode kamp, kfreq, kc1, kc2, kvdepth, kvrate, ifn1, ifn2, ifn3, ifn4, ivfn"],"short_desc":"Uses FM synthesis to create a Fender Rhodes electric piano sound."},"fmvoice":{"synopsis":["ares fmvoice kamp, kfreq, kvowel, ktilt, kvibamt, kvibrate[, ifn1, ifn2, ifn3, ifn4, ivibfn]"],"short_desc":"FM Singing Voice Synthesis"},"fmwurlie":{"synopsis":["ares fmwurlie kamp, kfreq, kc1, kc2, kvdepth, kvrate, ifn1, ifn2, ifn3, ifn4, ivfn"],"short_desc":"Uses FM synthesis to create a Wurlitzer electric piano sound."},"fof":{"synopsis":["ares fof xamp, xfund, xform, koct, kband, kris, kdur, kdec, iolaps, ifna, ifnb, itotdur [, iphs] [, ifmode] [, iskip]"],"short_desc":"Produces sinusoid bursts useful for formant and granular synthesis."},"fof2":{"synopsis":["ares fof2 xamp, xfund, xform, koct, kband, kris, kdur, kdec, iolaps, ifna, ifnb, itotdur, kphs, kgliss [, iskip]"],"short_desc":"Produces sinusoid bursts including k-rate incremental indexing with each successive burst."},"fofilter":{"synopsis":["asig fofilter ain, xcf, xris, xdec[, istor]"],"short_desc":"Formant filter."},"fog":{"synopsis":["ares fog xamp, xdens, xtrans, aspd, koct, kband, kris, kdur, kdec, iolaps, ifna, ifnb, itotdur [, iphs] [, itmode] [, iskip]"],"short_desc":"Audio output is a succession of grains derived from data in a stored function table"},"fold":{"synopsis":["ares fold asig, kincr"],"short_desc":"Adds artificial foldover to an audio signal."},"follow":{"synopsis":["ares follow asig, idt"],"short_desc":"Envelope follower unit generator."},"follow2":{"synopsis":["ares follow2 asig, katt, krel"],"short_desc":"Another controllable envelope extractor."},"foscil":{"synopsis":["ares foscil xamp, kcps, xcar, xmod, kndx, ifn [, iphs]"],"short_desc":"A basic frequency modulated oscillator."},"foscili":{"synopsis":["ares foscili xamp, kcps, xcar, xmod, kndx, ifn [, iphs]"],"short_desc":"Basic frequency modulated oscillator with linear interpolation."},"fout":{"synopsis":["fout ifilename, iformat, aout1 [, aout2, aout3,...,aoutN]","fout ifilename, iformat, array[]"],"short_desc":"Outputs a-rate signals to an arbitrary number of channels."},"fouti":{"synopsis":["fouti ihandle, iformat, iflag, iout1 [, iout2, iout3,....,ioutN]"],"short_desc":"Outputs i-rate signals of an arbitrary number of channels to a specified file."},"foutir":{"synopsis":["foutir ihandle, iformat, iflag, iout1 [, iout2, iout3,....,ioutN]"],"short_desc":"Outputs i-rate signals from an arbitrary number of channels to a specified file."},"foutk":{"synopsis":["foutk ifilename, iformat, kout1 [, kout2, kout3,....,koutN]"],"short_desc":"Outputs k-rate signals of an arbitrary number of channels to a specified file, in raw (headerless) format."},"fprintks":{"synopsis":["fprintks \\"filename\\", \\"string\\", [, kval1] [, kval2] [...]"],"short_desc":"Similar to printks but prints to a file."},"fprints":{"synopsis":["fprints \\"filename\\", \\"string\\" [, ival1] [, ival2] [...]"],"short_desc":"Similar to prints but prints to a file."},"frac":{"synopsis":["frac(x) (init-rate or control-rate args; also works at audio rate in Csound5)","frac(k/i[]) (k- or i-arrays )"],"short_desc":"Returns the fractional part of a decimal number."},"fractalnoise":{"synopsis":["ares fractalnoise kamp, kbeta"],"short_desc":"A fractal noise generator."},"framebuffer":{"synopsis":["kout[] framebuffer ain, isize","aout framebuffer kin, isize"],"short_desc":"Read audio signals into 1 dimensional k-rate arrays and vice-versa with a specified buffer size."},"freeverb":{"synopsis":["aoutL, aoutR freeverb ainL, ainR, kRoomSize, kHFDamp[, iSRate[, iSkip]] "],"short_desc":"Opcode version of Jezar\\\\\'s Freeverb"},"ftaudio":{"synopsis":["ians ftaudio ifn, \\"filename\\", iformat[, ibeg, iend]","kans ftaudio ktrig, kfn, \\"filename\\", kformat [, isync, kbeg, kend]"],"short_desc":"Write a previously-allocated table to an audio file."},"ftchnls":{"synopsis":["ftchnls(x) (init-rate args only)"],"short_desc":"Returns the number of channels in a stored function table."},"ftconv":{"synopsis":["a1[, a2[, a3[, ... a8]]] ftconv ain, ift, iplen[, iskipsamples [, iirlen[, iskipinit]]]"],"short_desc":"Low latency multichannel convolution, using a function table as impulse response source."},"ftcps":{"synopsis":["ftcps(x) (init-rate args only)"],"short_desc":"Returns the base frequency of a stored function table in Hz."},"ftexists":{"synopsis":["iexists ftexists ifn ","kexists ftexists kfn / ifn"],"short_desc":"Query if a given table exists"},"ftfree":{"synopsis":["ftfree ifno, iwhen"],"short_desc":"Deletes function table."},"ftgen":{"synopsis":["gir ftgen ifn, itime, isize, igen, iarga [, iargb ] [...]","gir ftgen ifn, itime, isize, igen, iarray"],"short_desc":"Generate a score function table from within the orchestra."},"ftgenonce":{"synopsis":["ifno ftgenonce ip1, ip2dummy, isize, igen, iarga, iargb, ..."],"short_desc":"Generate a function table from within an instrument definition, without duplication of data."},"ftgentmp":{"synopsis":["ifno ftgentmp ip1, ip2dummy, isize, igen, iarga, iargb, ..."],"short_desc":"Generate a score function table from within the orchestra, which is deleted at the end of the note."},"ftlen":{"synopsis":["ftlen(x) (init-rate args only)"],"short_desc":"Returns the size of a stored function table."},"ftload":{"synopsis":["ftload Sfilename, iflag, ifn1 [, ifn2] [...]"],"short_desc":"Load a set of previously-allocated tables from a file."},"ftloadk":{"synopsis":["ftloadk Sfilename, ktrig, iflag, ifn1 [, ifn2] [...]"],"short_desc":"Load a set of previously-allocated tables from a file."},"ftlptim":{"synopsis":["ftlptim(x) (init-rate args only)"],"short_desc":"Returns the loop segment start-time of a stored function table number."},"ftmorf":{"synopsis":["ftmorf kftndx, iftfn, iresfn"],"short_desc":"Morphs between multiple ftables as specified in a list."},"ftom":{"synopsis":["imidi ftom ifreq [,irnd]","kmidi ftom kfreq [,irnd]","imidis[] ftom ifreqs[] [,irnd]","kmidis[] ftom kfreqs[] [,irnd]"],"short_desc":"Convert frequency to midi"},"ftprint":{"synopsis":["ftprint ifn [, ktrig, kstart, kend, kstep, inumcols ]"],"short_desc":"Print the contents of a table (for debugging)"},"ftsamplebank":{"synopsis":["iNumberOfFile ftsamplebank SDirectory, iFirstTableNumber, iSkipTime, iFormat, iChannel,","kNumberOfFile ftsamplebank SDirectory, kFirstTableNumber, kTrigger, kSkipTime, kFormat, kChannel,"],"short_desc":"Reads a directory for sound files."},"ftsave":{"synopsis":["ftsave \\"filename\\", iflag, ifn1 [, ifn2] [...]"],"short_desc":"Save a set of previously-allocated tables to a file."},"ftsavek":{"synopsis":["ftsavek \\"filename\\", ktrig, iflag, ifn1 [, ifn2] [...]"],"short_desc":"Save a set of previously-allocated tables to a file."},"ftset":{"synopsis":["ftset ktablenum, kvalue [, kstart=0, kend=0, kstep=1 ]","ftset itablenum, ivalue [, istart=0, iend=0, istep=1 ]"],"short_desc":"Sets multiple elements of a table to a given value"},"ftslice":{"synopsis":["ftslice ifnsource, ifndest [, kstart, kend, kstep ]","ftslice kfnsource, kfndest [, kstart, kend, kstep ]"],"short_desc":"Copy a slice from an f-table to another f-table at performance"},"ftslicei":{"synopsis":["ftslicei ifnsource, ifndest [, istart, iend, istep ]"],"short_desc":"Copy a slice from an f-table to another f-table at init"},"ftsr":{"synopsis":["ftsr(x) (init-rate args only)"],"short_desc":"Returns the sampling-rate of a stored function table."},"gain":{"synopsis":["ares gain asig, krms [, ihp] [, iskip]"],"short_desc":"Adjusts the amplitude audio signal according to a root-mean-square value."},"gainslider":{"synopsis":["kout gainslider kindex"],"short_desc":"An implementation of a logarithmic gain curve which is similar to the gainslider~ object from Cycling 74 Max / MSP."},"gauss":{"synopsis":["ares gauss krange","ires gauss irange","kres gauss krange","ares gauss kmean, ksdev","ires gauss imean, isdev","kres gauss kmean, ksdev"],"short_desc":"Gaussian distribution random number generator."},"gaussi":{"synopsis":["ares gaussi krange, xamp, xcps","ires gaussi krange, xamp, xcps","kres gaussi krange, xamp, xcps"],"short_desc":"Gaussian distribution random number generator with interpolation."},"gausstrig":{"synopsis":["ares gausstrig kamp, kcps, kdev [, imode] [, ifrst1]","kres gausstrig kamp, kcps, kdev [, imode] [, ifrst1]"],"short_desc":"Random impulses around a certain frequency."},"gbuzz":{"synopsis":["ares gbuzz xamp, xcps, knh, klh, kmul, ifn [, iphs]"],"short_desc":"Output is a set of harmonically related cosine partials."},"genarray":{"synopsis":["karray genarray kstart, kens[, inc]","iarray genarray istart, iens[, inc]"],"short_desc":"Generate a vector with an arithmetic sequence."},"genarray_i":{"synopsis":["karray genarray_i istart, iend [,inc]"],"short_desc":"Generate a vector with an arithmetic sequence."},"gendy":{"synopsis":["ares gendy kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl [, initcps] [, knum]","kres gendy kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl [, initcps] [, knum]"],"short_desc":"Dynamic stochastic approach to waveform synthesis conceived by Iannis Xenakis."},"gendyc":{"synopsis":["ares gendyc kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl [, initcps] [, knum]","kres gendyc kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl [, initcps] [, knum]"],"short_desc":"Dynamic stochastic approach to waveform synthesis using cubic interpolation."},"gendyx":{"synopsis":["ares gendyx kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl, kcurveup, kcurvedown [, initcps] [, knum]","kres gendyx kamp, kampdist, kdurdist, kadpar, kddpar, kminfreq, kmaxfreq, kampscl, kdurscl, kcurveup, kcurvedown [, initcps] [, knum]"],"short_desc":"Variation of the dynamic stochastic approach to waveform synthesis conceived by Iannis Xenakis."},"getcfg":{"synopsis":["Svalue getcfg iopt"],"short_desc":"Return Csound settings."},"getcol":{"synopsis":["i/kout[] getcoli/kin[],i/kcol"],"short_desc":"Gets a given column from a 2-dimensional array as a vector."},"getftargs":{"synopsis":["Sdst getftargs iftno, ktrig"],"short_desc":"Fill a string variable with the arguments used to create a function table at k-rate."},"getrow":{"synopsis":["i/kout[] getrowi/kin[],i/krow"],"short_desc":"Gets a given row from a 2-dimensional array as a vector."},"getseed":{"synopsis":["ians getseed","kans getseed"],"short_desc":"Reads the global seed value."},"gogobel":{"synopsis":["ares gogobel kamp, kfreq, ihrd, ipos, imp, kvibf, kvamp, ivfn"],"short_desc":"Audio output is a tone related to the striking of a cow bell or similar."},"goto":{"synopsis":["goto label"],"short_desc":"Transfer control on every pass."},"grain":{"synopsis":["ares grain xamp, xpitch, xdens, kampoff, kpitchoff, kgdur, igfn, iwfn, imgdur [, igrnd]"],"short_desc":"Generates granular synthesis textures."},"grain2":{"synopsis":["ares grain2 kcps, kfmd, kgdur, iovrlp, kfn, iwfn [, irpow] [, iseed] [, imode]"],"short_desc":"Easy-to-use granular synthesis texture generator."},"grain3":{"synopsis":["ares grain3 kcps, kphs, kfmd, kpmd, kgdur, kdens, imaxovr, kfn, iwfn, kfrpow, kprpow [, iseed] [, imode]"],"short_desc":"Generate granular synthesis textures with more user control."},"granule":{"synopsis":["ares granule xamp, ivoice, iratio, imode, ithd, ifn, ipshift, igskip, igskip_os, ilength, kgap, igap_os, kgsize, igsize_os, iatt, idec [, iseed] [, ipitch1] [, ipitch2] [, ipitch3] [, ipitch4] [, ifnenv]"],"short_desc":"A more complex granular synthesis texture generator."},"greaterequal":{"synopsis":["(a >= b ? v1 : v2)"],"short_desc":"Determines if one value is greater than or equal to another."},"greaterthan":{"synopsis":["(a > b ? v1 : v2)"],"short_desc":"Determines if one value is greater than another."},"gtadsr":{"synopsis":["ares gtadsr asig, katt, kdec, ksus, krel, kgate","xres gtadsr kamp, katt, kdec, ksus, krel, kgate"],"short_desc":"A gated linear attack-decay-sustain with exponential release."},"gtf":{"synopsis":["aout gtf ain, kfreq, idecay[, iorder, iphase]"],"short_desc":"Apply a gammatone filter to an audio signal."},"guiro":{"synopsis":["ares guiro kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1]"],"short_desc":"Semi-physical model of a guiro sound."},"harmon":{"synopsis":["ares harmon asig, kestfrq, kmaxvar, kgenfreq1, kgenfreq2, imode, iminfrq, iprd"],"short_desc":"Analyze an audio input and generate harmonizing voices in synchrony."},"harmon2":{"synopsis":["ares harmon2 asig, koct, kfrq1, kfrq2, icpsmode, ilowest[, ipolarity]","ares harmon3 asig, koct, kfrq1, kfrq2, kfrq3, icpsmode, ilowest[, ipolarity]","ares harmon4 asig, koct, kfrq1, kfrq2, kfrq3, kfrq4, icpsmode, ilowest[, ipolarity]"],"short_desc":"Analyze an audio input and generate harmonizing voices in synchrony with formants preserved."},"hdf5read":{"synopsis":["xout1[, xout2, xout3, ..., xoutN] hdf5read ifilename, ivariablename1[, ivariablename2, ivariablename3, ..., ivariablenameN]"],"short_desc":"Read signals and arrays from an hdf5 file."},"hdf5write":{"synopsis":["hdf5write ifilename, xout1[, xout2, xout3, ..., xoutN]"],"short_desc":"Write signals and arrays to an hdf5 file."},"hilbert":{"synopsis":["ar1, ar2 hilbert asig"],"short_desc":"A Hilbert transformer."},"hilbert2":{"synopsis":["ar1, ar2 hilbert2 asig, ifftsize, ihopsize"],"short_desc":"A Hilbert transformer."},"hrtfearly":{"synopsis":["aleft, aright, irt60low, irt60high, imfp hrtfearly asrc, ksrcx, ksrcy, ksrcz, klstnrx, klstnry, klstnrz, ifilel, ifiler, idefroom [,ifade, isr, iorder, ithreed, kheadrot, iroomx, iroomy, iroomz, iwallhigh, iwalllow, iwallgain1, iwallgain2, iwallgain3, ifloorhigh, ifloorlow, ifloorgain1, ifloorgain2, ifloorgain3, iceilinghigh, iceilinglow, iceilinggain1, iceilinggain2, iceilinggain3]"],"short_desc":"Generates 3D binaural audio with high-fidelity early reflections in a parametric room using a Phase Truncation algorithm."},"hrtfer":{"synopsis":["aleft, aright hrtfer asig, kaz, kelev, HRTFcompact"],"short_desc":"Creates 3D audio for two speakers."},"hrtfmove":{"synopsis":["aleft, aright hrtfmove asrc, kAz, kElev, ifilel, ifiler [, imode, ifade, isr]"],"short_desc":"Generates dynamic 3d binaural audio for headphones using magnitude interpolation and phase truncation."},"hrtfmove2":{"synopsis":["aleft, aright hrtfmove2 asrc, kAz, kElev, ifilel, ifiler [,ioverlap, iradius, isr]"],"short_desc":"Generates dynamic 3d binaural audio for headphones using a Woodworth based spherical head model with improved low frequency phase accuracy."},"hrtfreverb":{"synopsis":["aleft, aright, idel hrtfreverb asrc, ilowrt60, ihighrt60, ifilel, ifiler [,isr, imfp, iorder]"],"short_desc":"A binaural, dynamic FDN based diffuse-field reverberator. The opcode works independently as an efficient, flexible reverberator."},"hrtfstat":{"synopsis":[" aleft, aright hrtfstat asrc, iAz, iElev, ifilel, ifiler [,iradius, isr] "],"short_desc":"Generates static 3d binaural audio for headphones using a Woodworth based spherical head model with improved low frequency phase accuracy."},"hsboscil":{"synopsis":["ares hsboscil kamp, ktone, kbrite, ibasfreq, iwfn, ioctfn [, ioctcnt] [, iphs]"],"short_desc":"An oscillator which takes tonality and brightness as arguments."},"hvs1":{"synopsis":["hvs1 kx, inumParms, inumPointsX, iOutTab, iPositionsTab, iSnapTab [, iConfigTab]"],"short_desc":"Allows one-dimensional Hyper Vectorial Synthesis (HVS) controlled by externally-updated k-variables."},"hvs2":{"synopsis":["hvs2 kx, ky, inumParms, inumPointsX, inumPointsY, iOutTab, iPositionsTab, iSnapTab [, iConfigTab]"],"short_desc":"Allows two-dimensional Hyper Vectorial Synthesis (HVS) controlled by externally-updated k-variables."},"hvs3":{"synopsis":["hvs3 kx, ky, kz, inumParms, inumPointsX, inumPointsY, inumPointsZ, iOutTab, iPositionsTab, iSnapTab [, iConfigTab]"],"short_desc":"Allows three-dimensional Hyper Vectorial Synthesis (HVS) controlled by externally-updated k-variables."},"hypot":{"synopsis":["ires[] hypot iarg1[], iarg2[] ","kres[] hypot karg1[], karg2[]"],"short_desc":"Euclidean distance function."},"ibetarand":{"synopsis":[],"short_desc":"Deprecated."},"ibexprnd":{"synopsis":[],"short_desc":"Deprecated."},"icauchy":{"synopsis":[],"short_desc":"Deprecated."},"ictrl14":{"synopsis":[],"short_desc":"Deprecated."},"ictrl21":{"synopsis":[],"short_desc":"Deprecated."},"ictrl7":{"synopsis":[],"short_desc":"Deprecated."},"iexprand":{"synopsis":[],"short_desc":"Deprecated."},"if":{"synopsis":["if ia R ib igoto label","if ka R kb kgoto label","if xa R xb goto label","if xa R xb then"],"short_desc":"Branches conditionally at initialization or during performance time."},"ifdef":{"synopsis":["#ifdef NAME","....","#else","....","#end"],"short_desc":"Conditional reading of code."},"fftinv":{"synopsis":["kout[] fftinv kin[]"],"short_desc":"Complex-to-complex Inverse Fast Fourier Transform."},"ifndef":{"synopsis":["#ifndef NAME","....","#else","....","#end"],"short_desc":"Conditional reading of code."},"igauss":{"synopsis":[],"short_desc":"Deprecated."},"igoto":{"synopsis":["igoto label"],"short_desc":"Transfer control during the i-time pass."},"ihold":{"synopsis":["ihold"],"short_desc":"Creates a held note."},"ilinrand":{"synopsis":[],"short_desc":"Deprecated."},"imagecreate":{"synopsis":["iimagenum imagecreate iwidth, iheight"],"short_desc":"Create an empty image of a given size."},"imagefree":{"synopsis":["imagefree iimagenum"],"short_desc":"Frees memory allocated for a previously loaded or created image."},"imagegetpixel":{"synopsis":["ared, agreen, ablue imagegetpixel iimagenum, ax, ay","kred, kgreen, kblue imagegetpixel iimagenum, kx, ky"],"short_desc":"Return the RGB pixel values of a previously opened or created image."},"imageload":{"synopsis":["iimagenum imageload filename"],"short_desc":"Load an image."},"imagesave":{"synopsis":["imagesave iimagenum, filename"],"short_desc":"Save a previously created image."},"imagesetpixel":{"synopsis":["imagesetpixel iimagenum, ax, ay, ared, agreen, ablue","imagesetpixel iimagenum, kx, ky, kred, kgreen, kblue"],"short_desc":"Set the RGB value of a pixel inside a previously opened or created image."},"imagesize":{"synopsis":["iwidth, iheight imagesize iimagenum"],"short_desc":"Return the width and height of a previously opened or created image."},"imidic14":{"synopsis":[],"short_desc":"Deprecated."},"imidic21":{"synopsis":[],"short_desc":"Deprecated."},"imidic7":{"synopsis":[],"short_desc":"Deprecated."},"in":{"synopsis":["ar1 in","aarray in"],"short_desc":"Reads mono audio data from an external device or stream."},"in32":{"synopsis":["ar1, ar2, ar3, ar4, ar5, ar6, ar7, ar8, ar9, ar10, ar11, ar12, ar13, ar14, ar15, ar16, ar17, ar18, ar19, ar20, ar21, ar22, ar23, ar24, ar25, ar26, ar27, ar28, ar29, ar30, ar31, ar32 in32"],"short_desc":"Reads a 32-channel audio signal from an external device or stream."},"inch":{"synopsis":["ain1[, ...] inch kchan1[,...]"],"short_desc":"Reads from numbered channels in an external audio signal or stream."},"include":{"synopsis":["#include filename","#includestr filename"],"short_desc":"Includes an external file for processing."},"inh":{"synopsis":["ar1, ar2, ar3, ar4, ar5, ar6 inh"],"short_desc":"Reads six-channel audio data from an external device or stream."},"init":{"synopsis":["ares init iarg","ires init iarg","kres init iarg","ares, ... init iarg, ...","ires, ... init iarg, ...","kres, ... init iarg, ...","tab init isize[, ival]"],"short_desc":"Puts the value of the i-time expression into a k-, a-rate or t- variable."},"initc14":{"synopsis":["initc14 ichan, ictlno1, ictlno2, ivalue"],"short_desc":"Initializes the controllers used to create a 14-bit MIDI value."},"initc21":{"synopsis":["initc21 ichan, ictlno1, ictlno2, ictlno3, ivalue"],"short_desc":"Initializes the controllers used to create a 21-bit MIDI value."},"initc7":{"synopsis":["initc7 ichan, ictlno, ivalue"],"short_desc":"Initializes the controller used to create a 7-bit MIDI value."},"inleta":{"synopsis":["asignal inleta Sname"],"short_desc":"Receives an arate signal into an instrument through a named port."},"inletf":{"synopsis":["fsignal inletf Sname"],"short_desc":"Receives an frate signal (fsig) into an instrument from a named port."},"inletk":{"synopsis":["ksignal inletk Sname"],"short_desc":"Receives a krate signal into an instrument from a named port."},"inletkid":{"synopsis":["ksignal inletkid Sname, SinstanceID"],"short_desc":"Receives a krate signal into an instrument from a named port."},"inletv":{"synopsis":["array inletv Sname"],"short_desc":"Receives an arate array signal into an instrument through a named port."},"ino":{"synopsis":["ar1, ar2, ar3, ar4, ar5, ar6, ar7, ar8 ino"],"short_desc":"Reads eight-channel audio data from an external device or stream."},"inq":{"synopsis":["ar1, ar2, ar3, a4 inq"],"short_desc":"Reads quad audio data from an external device or stream."},"inrg":{"synopsis":["inrg kstart, ain1 [,ain2, ain3, ..., ainN]"],"short_desc":"Allow input from a range of adjacent audio channels from the audio input device"},"ins":{"synopsis":["ar1, ar2 ins"],"short_desc":"Reads stereo audio data from an external device or stream."},"insglobal":{"synopsis":["insglobal isource, instrnum [,instrnum...] "],"short_desc":"An opcode which can be used to implement a remote orchestra. This opcode will send note events from a source machine to many destinations."},"insremot":{"synopsis":["insremot idestination, isource, instrnum [,instrnum...] "],"short_desc":"An opcode which can be used to implement a remote orchestra. This opcode will send note events from a source machine to one destination."},"instimek":{"synopsis":[],"short_desc":"Deprecated."},"instimes":{"synopsis":[],"short_desc":"Deprecated."},"instr":{"synopsis":["instr i, j, ..."],"short_desc":"Starts an instrument block."},"int":{"synopsis":["int(x) (init-rate or control-rate; also works at audio rate in Csound5)"],"short_desc":"Extracts an integer from a decimal number."},"integ":{"synopsis":["ares integ asig [, iskip]","kres integ ksig [, iskip]"],"short_desc":"Modify a signal by integration."},"interleave":{"synopsis":["kout[] interleave kin1[], kin2[]"],"short_desc":"Interleaves arrays into a a single one by placing the input data in alternate positions."},"interp":{"synopsis":["ares interp ksig [, iskip] [, imode] [, ivalue]"],"short_desc":"Converts a control signal to an audio signal using linear interpolation."},"invalue":{"synopsis":["ivalue invalue \\"channel name\\"","kvalue invalue \\"channel name\\"","Sname invalue \\"channel name\\""],"short_desc":"Reads a k-rate signal from a user-defined channel."},"inx":{"synopsis":["ar1, ar2, ar3, ar4, ar5, ar6, ar7, ar8, ar9, ar10, ar11, ar12, ar13, ar14, ar15, ar16 inx"],"short_desc":"Reads a 16-channel audio signal from an external device or stream."},"inz":{"synopsis":["inz ksig1"],"short_desc":"Reads multi-channel audio samples into a ZAK array from an external device or stream."},"ioff":{"synopsis":[],"short_desc":"Deprecated."},"ion":{"synopsis":[],"short_desc":"Deprecated."},"iondur":{"synopsis":[],"short_desc":"Deprecated."},"iondur2":{"synopsis":[],"short_desc":"Deprecated."},"ioutat":{"synopsis":[],"short_desc":"Deprecated."},"ioutc":{"synopsis":[],"short_desc":"Deprecated."},"ioutc14":{"synopsis":[],"short_desc":"Deprecated."},"ioutpat":{"synopsis":[],"short_desc":"Deprecated."},"ioutpb":{"synopsis":[],"short_desc":"Deprecated."},"ioutpc":{"synopsis":[],"short_desc":"Deprecated."},"ipcauchy":{"synopsis":[],"short_desc":"Deprecated."},"ipoisson":{"synopsis":[],"short_desc":"Deprecated."},"ipow":{"synopsis":[],"short_desc":"Deprecated."},"is16b14":{"synopsis":[],"short_desc":"Deprecated."},"is32b14":{"synopsis":[],"short_desc":"Deprecated."},"islider16":{"synopsis":[],"short_desc":"Deprecated."},"islider32":{"synopsis":[],"short_desc":"Deprecated."},"islider64":{"synopsis":[],"short_desc":"Deprecated."},"islider8":{"synopsis":[],"short_desc":"Deprecated."},"itablecopy":{"synopsis":[],"short_desc":"Deprecated."},"itablegpw":{"synopsis":[],"short_desc":"Deprecated."},"itablemix":{"synopsis":[],"short_desc":"Deprecated."},"itablew":{"synopsis":[],"short_desc":"Deprecated."},"itrirand":{"synopsis":[],"short_desc":"Deprecated."},"iunirand":{"synopsis":[],"short_desc":"Deprecated."},"iweibull":{"synopsis":[],"short_desc":"Deprecated."},"jacktransport":{"synopsis":["jacktransport icommand [, ilocation]"],"short_desc":"Start/stop jack_transport and can optionally relocate the playback head."},"jitter":{"synopsis":["kout jitter kamp, kcpsMin, kcpsMax"],"short_desc":"Generates a segmented line whose segments are randomly generated."},"jitter2":{"synopsis":["kout jitter2 ktotamp, kamp1, kcps1, kamp2, kcps2, kamp3, kcps3[ , iopt]"],"short_desc":"Generates a segmented line with user-controllable random segments."},"joystick":{"synopsis":["kres joystick kdevice ktab"],"short_desc":"Reads data from a joystick controller."},"jspline":{"synopsis":["ares jspline xamp, kcpsMin, kcpsMax","kres jspline kamp, kcpsMin, kcpsMax"],"short_desc":"A jitter-spline generator."},"k35_hpf":{"synopsis":["asig K35_hpf ain, xcf, xQ [, inlp, isaturation, istor]"],"short_desc":"Zero-delay feedback implementation of Korg35 resonant high-pass filter."},"k35_lpf":{"synopsis":["asig K35_lpf ain, xcf, xQ [, inlp, isaturation, istor]"],"short_desc":"Zero-delay feedback implementation of Korg35 resonant low-pass filter."},"kbetarand":{"synopsis":[],"short_desc":"Deprecated."},"kbexprnd":{"synopsis":[],"short_desc":"Deprecated."},"kcauchy":{"synopsis":[],"short_desc":"Deprecated."},"kdump":{"synopsis":[],"short_desc":"Deprecated."},"kdump2":{"synopsis":[],"short_desc":"Deprecated."},"kdump3":{"synopsis":[],"short_desc":"Deprecated."},"kdump4":{"synopsis":[],"short_desc":"Deprecated."},"kexprand":{"synopsis":[],"short_desc":"Deprecated."},"kfilter2":{"synopsis":[],"short_desc":"Deprecated."},"kgauss":{"synopsis":[],"short_desc":"Deprecated."},"kgoto":{"synopsis":["kgoto label"],"short_desc":"Transfer control during the performance-time passes."},"klinrand":{"synopsis":[],"short_desc":"Deprecated."},"kon":{"synopsis":[],"short_desc":"Deprecated."},"koutat":{"synopsis":[],"short_desc":"Deprecated."},"koutc":{"synopsis":[],"short_desc":"Deprecated."},"koutc14":{"synopsis":[],"short_desc":"Deprecated."},"koutpat":{"synopsis":[],"short_desc":"Deprecated."},"koutpb":{"synopsis":[],"short_desc":"Deprecated."},"koutpc":{"synopsis":[],"short_desc":"Deprecated."},"kpcauchy":{"synopsis":[],"short_desc":"Deprecated."},"kpoisson":{"synopsis":[],"short_desc":"Deprecated."},"kpow":{"synopsis":[],"short_desc":"Deprecated."},"kr":{"synopsis":["kr = iarg"],"short_desc":"Sets the control rate."},"kread":{"synopsis":[],"short_desc":"Deprecated."},"kread2":{"synopsis":[],"short_desc":"Deprecated."},"kread3":{"synopsis":[],"short_desc":"Deprecated."},"kread4":{"synopsis":[],"short_desc":"Deprecated."},"ksmps":{"synopsis":["ksmps = iarg"],"short_desc":"Sets the number of samples in a control period."},"ktableseg":{"synopsis":["ktableseg ifn1, idur1, ifn2 [, idur2] [, ifn3] [...]"],"short_desc":"Deprecated."},"ktrirand":{"synopsis":[],"short_desc":"Deprecated."},"kunirand":{"synopsis":[],"short_desc":"Deprecated."},"kweibull":{"synopsis":[],"short_desc":"Deprecated."},"lag":{"synopsis":["aout lag ain, klagtime [, initialvalue]","kout lag kin, klagtime [, initialvalue]"],"short_desc":"Exponential Lag"},"lagud":{"synopsis":["aout lagud ain, klagup, klagdown [, initialvalue]","kout lagud kin, klagup, klagdown [, initialvalue]"],"short_desc":"Exponential Lag"},"lastcycle":{"synopsis":["kflag lastcycle"],"short_desc":"Indicates whether an event is in its last performance cycle."},"lenarray":{"synopsis":["ir lenarray karray[, iwhich]","kr lenarray karray[, iwhich]"],"short_desc":"Evaluates the size or shape length of an array."},"lessequal":{"synopsis":["(a <= b ? v1 : v2)"],"short_desc":"Determines if one value is less than or equal to another."},"lessthan":{"synopsis":["(a < b ? v1 : v2)"],"short_desc":"Determines if one value is less than another."},"lfo":{"synopsis":["kres lfo kamp, kcps [, itype]","ares lfo kamp, kcps [, itype]"],"short_desc":"A low frequency oscillator of various shapes."},"lfsr":{"synopsis":["knum lfsr ilen, iprob [, iseed]"],"short_desc":"Linear Feedback Shift Register (LFSR)."},"limit":{"synopsis":["ares limit asig, klow, khigh","ires limit isig, ilow, ihigh","kres limit ksig, klow, khigh","ires[] limit isig[], ilow, ihigh","kres[] limit ksig[], klow, khigh"],"short_desc":"Sets the lower and upper limits of the value it processes."},"limit1":{"synopsis":["ires[] limit1 iarg","kres[] limit1 karg"],"short_desc":"Limiting function"},"lincos":{"synopsis":["ky lincos kx, ky0, ky1 [, kx0, kx1 ]","iy lincos ix, iy0, iy1 [, ix0, ix1 ]"],"short_desc":"Linear to cosine interpolation"},"line":{"synopsis":["ares line ia, idur, ib","kres line ia, idur, ib"],"short_desc":"Trace a straight line between specified points."},"linen":{"synopsis":["ares linen xamp, irise, idur, idec","kres linen kamp, irise, idur, idec"],"short_desc":"Applies a straight line rise and decay pattern to an input amp signal."},"linenr":{"synopsis":["ares linenr xamp, irise, idec, iatdec","kres linenr kamp, irise, idec, iatdec"],"short_desc":"The linen opcode extended with a final release segment."},"lineto":{"synopsis":["kres lineto ksig, ktime"],"short_desc":"Generate glissandos starting from a control signal."},"linlin":{"synopsis":["ky linlin kx, ky0, ky1 [, kx0, kx1 ]","iy linlin ix, iy0, iy1 [, ix0, ix1 ]","kys[] linlin kxs[], ky0, ky1 [, kx0, kx1 ]","iys[] linlin ixs[], ky0, ky1, [ kx0, kx1 ]","kC[] linlin kx, kA[], kB[] [, kx0, kx1 ]"],"short_desc":"Linear to linear interpolation"},"linrand":{"synopsis":["ares linrand krange","ires linrand krange","kres linrand krange"],"short_desc":"Linear distribution random number generator (positive values only)."},"linseg":{"synopsis":["ares linseg ia, idur1, ib [, idur2] [, ic] [...]","kres linseg ia, idur1, ib [, idur2] [, ic] [...]"],"short_desc":"Trace a series of line segments between specified points."},"linsegb":{"synopsis":["ares linsegb ia, itim1, ib [, itim2] [, ic] [...]","kres linsegb ia, itim1, ib [, itim2] [, ic] [...]"],"short_desc":"Trace a series of line segments between specified absolute points."},"linsegr":{"synopsis":["ares linsegr ia, idur1, ib [, idur2] [, ic] [...], irel, iz","kres linsegr ia, idur1, ib [, idur2] [, ic] [...], irel, iz"],"short_desc":"Trace a series of line segments between specified points including a release segment."},"liveconv":{"synopsis":["ares liveconv ain, ift, iplen, kupdate, kclear"],"short_desc":"Partitioned convolution with dynamically reloadable impulse response"},"locsend":{"synopsis":["a1, a2 locsend","a1, a2, a3, a4 locsend"],"short_desc":"Distributes the audio signals of a previous locsig opcode."},"locsig":{"synopsis":["a1, a2 locsig asig, kdegree, kdistance, kreverbsend","a1, a2, a3, a4 locsig asig, kdegree, kdistance, kreverbsend"],"short_desc":"Takes an input signal and distributes between 2 or 4 channels."},"log":{"synopsis":["log(x) (no rate restriction)","log(k/i[]) (k- or i-arrays )","kout[]log kin[],ibas"],"short_desc":"Returns a natural log of a number, or an array (with optional arbitrary base)."},"log10":{"synopsis":["log10(x) (no rate restriction)","log10(k/i[]) (k- or i-arrays )"],"short_desc":"Returns a base 10 log."},"log2":{"synopsis":["log2(x) (no rate restriction)","log2(x[]) (k- or i-arrays )"],"short_desc":"Returns a base 2 log."},"logbtwo":{"synopsis":["logbtwo(x) (init-rate or control-rate args only)"],"short_desc":"Performs a logarithmic base two calculation."},"logcurve":{"synopsis":["kout logcurve kindex, ksteepness"],"short_desc":"This opcode implements a formula for generating a normalised logarithmic curve in range 0 - 1. It is based on the Max / MSP work of Eric Singer (c) 1994."},"loop_ge":{"synopsis":["loop_ge indx, idecr, imin, label","loop_ge kndx, kdecr, kmin, label"],"short_desc":"Looping constructions."},"loop_gt":{"synopsis":["loop_gt indx, idecr, imin, label","loop_gt kndx, kdecr, kmin, label"],"short_desc":"Looping constructions."},"loop_le":{"synopsis":["loop_le indx, incr, imax, label","loop_le kndx, kncr, kmax, label"],"short_desc":"Looping constructions."},"loop_lt":{"synopsis":["loop_lt indx, incr, imax, label","loop_lt kndx, kncr, kmax, label"],"short_desc":"Looping constructions."},"loopseg":{"synopsis":["ksig loopseg kfreq, ktrig, iphase, kvalue0, ktime0 [, kvalue1] [, ktime1] [, kvalue2] [, ktime2][...]"],"short_desc":"Generate control signal consisting of linear segments delimited by two or more specified points."},"loopsegp":{"synopsis":["ksig loopsegp kphase, kvalue0, kdur0, kvalue1 [, kdur1, ... , kdurN-1, kvalueN]"],"short_desc":"Control signals based on linear segments."},"looptseg":{"synopsis":["ksig looptseg kfreq, ktrig, iphase, kvalue0, ktype0, ktime0, [, kvalue1] [,ktype1] [, ktime1] [, kvalue2] [,ktype2] [, ktime2] [...] [, kvalueN] [,ktypeN] [, ktimeN]"],"short_desc":"Generate control signal consisting of exponential or linear segments delimited by two or more specified points."},"loopxseg":{"synopsis":["ksig loopxseg kfreq, ktrig, iphase, kvalue0, ktime0 [, kvalue1] [, ktime1] [, kvalue2] [, ktime2] [...]"],"short_desc":"Generate control signal consisting of exponential segments delimited by two or more specified points."},"lorenz":{"synopsis":["ax, ay, az lorenz ksv, krv, kbv, kh, ix, iy, iz, iskip [, iskipinit]"],"short_desc":"Implements the Lorenz system of equations."},"lorismorph":{"synopsis":["lorismorph isrcidx, itgtidx, istoreidx, kfreqmorphenv, kampmorphenv, kbwmorphenv"],"short_desc":"Morphs two stored sets of bandwidth-enhanced partials and stores a new set of partials representing the morphed sound. The morph is performed by linearly interpolating the parameter envelopes (frequency, amplitude, and bandwidth, or noisiness) of the bandwidth-enhanced partials according to control-rate frequency, amplitude, and bandwidth morphing functions."},"lorisplay":{"synopsis":["ar lorisplay ireadidx, kfreqenv, kampenv, kbwenv"],"short_desc":"renders a stored set of bandwidth-enhanced partials using the method of Bandwidth-Enhanced Additive Synthesis implemented in the Loris software, applying control-rate frequency, amplitude, and bandwidth scaling envelopes."},"lorisread":{"synopsis":["lorisread ktimpnt, ifilcod, istoreidx, kfreqenv, kampenv, kbwenv[, ifadetime]"],"short_desc":"Imports a set of bandwidth-enhanced partials from a SDIF-format data file, applying control-rate frequency, amplitude, and bandwidth scaling envelopes, and stores the modified partials in memory."},"loscil":{"synopsis":["ar1 [,ar2] loscil xamp, kcps, ifn [, ibas] [, imod1] [, ibeg1] [, iend1] [, imod2] [, ibeg2] [, iend2]","aph, ar1 [,ar2] loscilphs xamp, kcps, ifn [, ibas] [, imod1] [, ibeg1] [, iend1] [, imod2] [, ibeg2] [, iend2]"],"short_desc":"Read sampled sound from a table."},"loscil3":{"synopsis":["ar1 [,ar2] loscil3 xamp, kcps, ifn [, ibas] [, imod1] [, ibeg1] [, iend1] [, imod2] [, ibeg2] [, iend2]","aph, ar1 [,ar2] loscil3phs xamp, kcps, ifn [, ibas] [, imod1] [, ibeg1] [, iend1] [, imod2] [, ibeg2] [, iend2]"],"short_desc":"Read sampled sound from a table using cubic interpolation. A version that outputs the exact table position (phase) corresponding to the output sample is provided as an alternative opcode."},"loscilx":{"synopsis":["ar1 [, ar2, ar3, ar4, ar5, ar6, ar7, ar8, ar9, ar10, ar11, ar12, ar13, ar14, ar15, ar16] loscilx xamp, kcps, ifn [, iwsize, ibas, istrt, imod, ibeg, iend]","ar[] loscilx xamp, kcps, ifn [, iwsize, ibas, istrt, imod, ibeg, iend]"],"short_desc":"Read multi-channel sampled sound from a table."},"lowpass2":{"synopsis":["ares lowpass2 asig, kcf, kq [, iskip]"],"short_desc":"A resonant lowpass filter."},"lowres":{"synopsis":["ares lowres asig, xcutoff, xresonance [, iskip]"],"short_desc":"Another resonant lowpass filter."},"lowresx":{"synopsis":["ares lowresx asig, xcutoff, xresonance [, inumlayer] [, iskip]"],"short_desc":"Simulates layers of serially connected resonant lowpass filters."},"lpcanal":{"synopsis":["kCoef[],krms,kerr,kcps lpcanal asrc, kflg, kprd, isiz, iord[,iwin] ","kCoef[],krms,kerr,kcps lpcanal koff, kflg, ifn, isiz, iord[,iwin] ","iCoef[],irms,ierr,icps lpcanal ioff, iflg, ifn, isiz, iord[,iwin] "],"short_desc":"Streaming linear prediction analysis."},"lpcfilter":{"synopsis":["ares lpcfilter asig, asrc, kflg, kprd, isiz, iord[,iwin] ","ares lpcfilter asig, koff, kflg, ifn, isiz, iord[,iwin] "],"short_desc":"Streaming linear prediction all-pole filter."},"lpf18":{"synopsis":["ares lpf18 asig, xfco, xres, xdist [, iskip]"],"short_desc":"A 3-pole sweepable resonant lowpass filter."},"lpfreson":{"synopsis":["ares lpfreson asig, kfrqratio"],"short_desc":"Resynthesises a signal from the data passed internally by a previous lpread, applying formant shifting."},"lphasor":{"synopsis":["ares lphasor xtrns [, ilps] [, ilpe] [, imode] [, istrt] [, istor]"],"short_desc":"Generates a table index for sample playback"},"lpinterp":{"synopsis":["lpinterp islot1, islot2, kmix"],"short_desc":"Computes a new set of poles from the interpolation between two analysis."},"lposcil":{"synopsis":["ares lposcil kamp, kfreqratio, kloop, kend, ifn [, iphs]"],"short_desc":"Read sampled sound from a table with looping and high precision."},"lposcil3":{"synopsis":["ares lposcil3 kamp, kfreqratio, kloop, kend, ifn [, iphs]"],"short_desc":"Read sampled sound from a table with high precision and cubic interpolation."},"lposcila":{"synopsis":["ar lposcila aamp, kfreqratio, kloop, kend, ift [,iphs] "],"short_desc":"Read sampled sound from a table with looping and high precision."},"lposcilsa":{"synopsis":["ar1, ar2 lposcilsa aamp, kfreqratio, kloop, kend, ift [,iphs] "],"short_desc":"Read stereo sampled sound from a table with looping and high precision."},"lposcilsa2":{"synopsis":["ar1, ar2 lposcilsa2 aamp, kfreqratio, kloop, kend, ift [,iphs] "],"short_desc":"Read stereo sampled sound from a table with looping and high precision."},"lpread":{"synopsis":["krmsr, krmso, kerr, kcps lpread ktimpnt, ifilcod [, inpoles] [, ifrmrate]"],"short_desc":"Reads a control file of time-ordered information frames."},"lpreson":{"synopsis":["ares lpreson asig"],"short_desc":"Resynthesises a signal from the data passed internally by a previous lpread."},"lpshold":{"synopsis":["ksig lpshold kfreq, ktrig, iphase, kvalue0, ktime0 [, kvalue1] [, ktime1] [, kvalue2] [, ktime2] [...]"],"short_desc":"Generate control signal consisting of held segments."},"lpsholdp":{"synopsis":["ksig lpsholdp kphase, kvalue0, ktime0 [, kvalue1] [, ktime1] [, kvalue2] [, ktime2] [...]"],"short_desc":"Control signals based on held segments."},"lpslot":{"synopsis":["lpslot islot"],"short_desc":"Selects the slot to be use by further lp opcodes."},"lufs":{"synopsis":["kmom, kint, kshort lufs kreset, ain1 [, ain2]"],"short_desc":"Momentary, Integrated and Short-Term Loudness meter in LUFS"},"mac":{"synopsis":["ares mac ksig1, asig1 [, ksig2] [, asig2] [, ksig3] [, asig3] [...]"],"short_desc":"Multiplies and accumulates a- and k-rate signals."},"maca":{"synopsis":["ares maca asig1 , asig2 [, asig3] [, asig4] [, asig5] [...]"],"short_desc":"Multiply and accumulate a-rate signals only."},"madsr":{"synopsis":["ares madsr iatt, idec, islev, irel [, idel] [, ireltim]","kres madsr iatt, idec, islev, irel [, idel] [, ireltim]"],"short_desc":"Calculates the classical ADSR envelope using the linsegr mechanism."},"mags":{"synopsis":["kout[] mags kin[]"],"short_desc":"Obtains the magnitudes of a complex-number array"},"mandel":{"synopsis":["kiter, koutrig mandel ktrig, kx, ky, kmaxIter"],"short_desc":"Mandelbrot set"},"mandol":{"synopsis":["ares mandol kamp, kfreq, kpluck, kdetune, kgain, ksize [, ifn] [, iminfreq]"],"short_desc":"An emulation of a mandolin."},"maparray":{"synopsis":["karray maparray kinarray, String","karray maparray_i kinarray, String"],"short_desc":"Apply a function to every element of a vector."},"marimba":{"synopsis":["ares marimba kamp, kfreq, ihrd, ipos, imp, kvibf, kvamp, ivibfn, idec [, idoubles] [, itriples]"],"short_desc":"Physical model related to the striking of a wooden block."},"massign":{"synopsis":["massign ichnl, insnum[, ireset]","massign ichnl, \\"insname\\"[, ireset]"],"short_desc":"Assigns a MIDI channel number to a Csound instrument."},"max":{"synopsis":["amax max ain1, ain2 [, ain3] [, ain4] [...]","kmax max kin1, kin2 [, kin3] [, kin4] [...]","imax max iin1, iin2 [, iin3] [, iin4] [...]"],"short_desc":"Produces a signal that is the maximum of any number of input signals."},"max_k":{"synopsis":["knumkout max_k asig, ktrig, itype"],"short_desc":"Local maximum (or minimum) value of an incoming asig signal"},"maxabs":{"synopsis":["amax maxabs ain1, ain2 [, ain3] [, ain4] [...]","kmax maxabs kin1, kin2 [, kin3] [, kin4] [...]"],"short_desc":"Produces a signal that is the maximum of the absolute values of any number of input signals."},"maxabsaccum":{"synopsis":["maxabsaccum aAccumulator, aInput"],"short_desc":"Accumulates the maximum of the absolute values of audio signals."},"maxaccum":{"synopsis":["maxaccum aAccumulator, aInput"],"short_desc":"Accumulates the maximum value of audio signals."},"maxalloc":{"synopsis":["maxalloc insnum, icount","maxalloc Sinsname, icount"],"short_desc":"Limits the number of allocations of an instrument."},"maxarray":{"synopsis":["kmax [,kindx] maxarray karray"],"short_desc":"returns the maximum value in an array."},"mclock":{"synopsis":["mclock ifreq"],"short_desc":"Sends a MIDI CLOCK message."},"mdelay":{"synopsis":["mdelay kstatus, kchan, kd1, kd2, kdelay"],"short_desc":"A MIDI delay opcode."},"median":{"synopsis":["ares median asig, ksize, imaxsize [, iskip]"],"short_desc":"A median filter, a variant FIR lowpass filter."},"mediank":{"synopsis":["kres mediank kin, ksize, imaxsize [, iskip]"],"short_desc":"A median filter, a variant FIR lowpass filter."},"metro":{"synopsis":["ktrig metro kfreq [, initphase]"],"short_desc":"Trigger Metronome"},"metro2":{"synopsis":["ktrig metro2 kfreq, kswing [, iamp, initphase]"],"short_desc":"Trigger Metronome with Swing and Accents"},"metrobpm":{"synopsis":["ktrig metrobpm kfreq [, initphase] [, kgate]"],"short_desc":"Trigger Metronome with optional gate"},"mfb":{"synopsis":["kout[] mfb kin[],klow,khigh,ibands"],"short_desc":"Mel scale filterbank for spectral magnitudes."},"midglobal":{"synopsis":["midglobal isource, instrnum [,instrnum...] "],"short_desc":"An opcode which can be used to implement a remote midi orchestra. This opcode will broadcast the midi events to all the machines involved in the remote concert."},"midiarp":{"synopsis":["kMidiNoteNum, kTrigger midiarp kRate[, kMode]"],"short_desc":"Generates arpeggios based on currently held MIDI notes."},"midic14":{"synopsis":["idest midic14 ictlno1, ictlno2, imin, imax [, ifn]","kdest midic14 ictlno1, ictlno2, kmin, kmax [, ifn]"],"short_desc":"Allows a floating-point 14-bit MIDI signal scaled with a minimum and a maximum range."},"midic21":{"synopsis":["idest midic21 ictlno1, ictlno2, ictlno3, imin, imax [, ifn]","kdest midic21 ictlno1, ictlno2, ictlno3, kmin, kmax [, ifn]"],"short_desc":"Allows a floating-point 21-bit MIDI signal scaled with a minimum and a maximum range."},"midic7":{"synopsis":["idest midic7 ictlno, imin, imax [, ifn]","kdest midic7 ictlno, kmin, kmax [, ifn]"],"short_desc":"Allows a floating-point 7-bit MIDI signal scaled with a minimum and a maximum range."},"midichannelaftertouch":{"synopsis":["midichannelaftertouch xchannelaftertouch [, ilow] [, ihigh]"],"short_desc":"Gets a MIDI channel\\\\\'s aftertouch value."},"midichn":{"synopsis":["ichn midichn"],"short_desc":"Returns the MIDI channel number from which the note was activated."},"midicontrolchange":{"synopsis":["midicontrolchange xcontroller, xcontrollervalue [, ilow] [, ihigh]"],"short_desc":"Gets a MIDI control change value."},"midictrl":{"synopsis":["ival midictrl inum [, imin] [, imax]","kval midictrl inum [, imin] [, imax]"],"short_desc":"Get the current value (0-127) of a specified MIDI controller."},"mididefault":{"synopsis":["mididefault xdefault, xvalue"],"short_desc":"Changes values, depending on MIDI activation."},"midifilestatus":{"synopsis":["ksig midifilestatus"],"short_desc":"Returns the playback status of MIDI file input."},"midiin":{"synopsis":["kstatus, kchan, kdata1, kdata2 midiin"],"short_desc":"Returns a generic MIDI message received by the MIDI IN port."},"midinoteoff":{"synopsis":["midinoteoff xkey, xvelocity"],"short_desc":"Gets a MIDI noteoff value."},"midinoteoncps":{"synopsis":["midinoteoncps xcps, xvelocity"],"short_desc":"Gets a MIDI note number as a cycles-per-second frequency."},"midinoteonkey":{"synopsis":["midinoteonkey xkey, xvelocity"],"short_desc":"Gets a MIDI note number value."},"midinoteonoct":{"synopsis":["midinoteonoct xoct, xvelocity"],"short_desc":"Gets a MIDI note number value as octave-point-decimal value."},"midinoteonpch":{"synopsis":["midinoteonpch xpch, xvelocity"],"short_desc":"Gets a MIDI note number as a pitch-class value."},"midion":{"synopsis":["midion kchn, knum, kvel"],"short_desc":"Generates MIDI note messages at k-rate."},"midion2":{"synopsis":["midion2 kchn, knum, kvel, ktrig"],"short_desc":"Sends noteon and noteoff messages to the MIDI OUT port."},"midiout":{"synopsis":["midiout kstatus, kchan, kdata1, kdata2"],"short_desc":"Sends a generic MIDI message to the MIDI OUT port."},"midiout_i":{"synopsis":["midiout_i istatus, ichan, idata1, idata2"],"short_desc":"Sends a generic MIDI message to the MIDI OUT port."},"midipitchbend":{"synopsis":["midipitchbend xpitchbend [, ilow] [, ihigh]"],"short_desc":"Gets a MIDI pitchbend value."},"midipolyaftertouch":{"synopsis":["midipolyaftertouch xpolyaftertouch, xkey [, ilow] [, ihigh]"],"short_desc":"Gets a MIDI polyphonic aftertouch value."},"midiprogramchange":{"synopsis":["midiprogramchange xprogram"],"short_desc":"Gets a MIDI program change value."},"miditempo":{"synopsis":["ksig miditempo"],"short_desc":"Returns the current tempo at k-rate, of either the MIDI file (if available) or the score."},"midremot":{"synopsis":["midremot idestination, isource, instrnum [,instrnum...] "],"short_desc":"An opcode which can be used to implement a remote midi orchestra. This opcode will send midi events from a source machine to one destination."},"min":{"synopsis":["amin min ain1, ain2 [, ain3] [, ain4] [...]","kmin min kin1, kin2 [, kin3] [, kin4] [...]","imin min iin1, iin2 [, iin3] [, iin4] [...]"],"short_desc":"Produces a signal that is the minimum of any number of input signals."},"minabs":{"synopsis":["amin minabs ain1, ain2 [, ain3] [, ain4] [...]","kmin minabs kin1, kin2 [, kin3] [, kin4] [...]"],"short_desc":"Produces a signal that is the minimum of the absolute values of any number of input signals."},"minabsaccum":{"synopsis":["minabsaccum aAccumulator, aInput"],"short_desc":"Accumulates the minimum of the absolute values of audio signals."},"minaccum":{"synopsis":["minaccum aAccumulator, aInput"],"short_desc":"Accumulates the minimum value of audio signals."},"minarray":{"synopsis":["kmin [,kindx] minarray karray"],"short_desc":"returns the minimum value in an array."},"mincer":{"synopsis":["asig mincer atimpt, kamp, kpitch, ktab, klock[,ifftsize,idecim] "],"short_desc":"Phase-locked vocoder processing."},"mirror":{"synopsis":["ares mirror asig, klow, khigh","ires mirror isig, ilow, ihigh","kres mirror ksig, klow, khigh"],"short_desc":"Reflects the signal that exceeds the low and high thresholds."},"MixerClear":{"synopsis":["MixerClear"],"short_desc":"Resets all channels of a buss to 0."},"MixerGetLevel":{"synopsis":["kgain MixerGetLevel isend, ibuss"],"short_desc":"Gets the level of a send to a buss."},"MixerReceive":{"synopsis":["asignal MixerReceive ibuss, ichannel"],"short_desc":"Receives an arate signal from a channel of a buss."},"MixerSend":{"synopsis":["MixerSend asignal, isend, ibuss, ichannel"],"short_desc":"Mixes an arate signal into a channel of a buss."},"MixerSetLevel":{"synopsis":["MixerSetLevel isend, ibuss, kgain"],"short_desc":"Sets the level of a send to a buss."},"MixerSetLevel_i":{"synopsis":["MixerSetLevel_i isend, ibuss, igain"],"short_desc":"Sets the level of a send to a buss."},"mode":{"synopsis":["aout mode ain, xfreq, xQ [, iskip]"],"short_desc":"A filter that simulates a mass-spring-damper system"},"modmatrix":{"synopsis":["modmatrix iresfn, isrcmodfn, isrcparmfn, imodscale, inum_mod, inum_parm, kupdate"],"short_desc":"Modulation matrix opcode with optimizations for sparse matrices."},"modulus":{"synopsis":["a % b (no rate restriction)"],"short_desc":"Modulus operator."},"monitor":{"synopsis":["aout1 [,aout2 ... aoutX] monitor","aarra monitor"],"short_desc":"Returns the audio spout frame."},"moog":{"synopsis":["ares moog kamp, kfreq, kfiltq, kfiltrate, kvibf, kvamp, iafn, iwfn, ivfn"],"short_desc":"An emulation of a mini-Moog synthesizer."},"moogladder":{"synopsis":["asig moogladder ain, kcf, kres[, istor]","asig moogladder ain, acf, kres[, istor]","asig moogladder ain, kcf, ares[, istor]","asig moogladder ain, acf, ares[, istor]"],"short_desc":"Moog ladder lowpass filter."},"moogladder2":{"synopsis":["asig moogladder2 ain, kcf, kres[, istor]","asig moogladder2 ain, acf, kres[, istor]","asig moogladder2 ain, kcf, ares[, istor]","asig moogladder2 ain, acf, ares[, istor]"],"short_desc":"Moog ladder lowpass filter."},"moogvcf":{"synopsis":["ares moogvcf asig, xfco, xres [,iscale, iskip]"],"short_desc":"A digital emulation of the Moog diode ladder filter configuration."},"moogvcf2":{"synopsis":["ares moogvcf2 asig, xfco, xres [,iscale, iskip]"],"short_desc":"A digital emulation of the Moog diode ladder filter configuration."},"moscil":{"synopsis":["moscil kchn, knum, kvel, kdur, kpause"],"short_desc":"Sends a stream of the MIDI notes."},"mp3in":{"synopsis":["ar1, ar2 mp3in ifilcod[, iskptim, iformat, iskipinit, ibufsize]","ar1 mp3in ifilcod[, iskptim, iformat, iskipinit, ibufsize]"],"short_desc":"Reads mono or stereo audio data from an external MP3 file."},"mp3len":{"synopsis":["ir mp3len ifilcod"],"short_desc":"Returns the length of an MP3 sound file."},"mp3scal":{"synopsis":["asig, asig2, ktime mp3scal Sfile, ktimescal, kpitch, kamp[, iskip, ifftsize, idecim, ilock] "],"short_desc":"Phase-locked vocoder processing with onset detection/processing, \\\\\'tempo-scaling\\\\\'."},"mpulse":{"synopsis":["ares mpulse kamp, kintvl [, ioffset]"],"short_desc":"Generates a set of impulses."},"mrtmsg":{"synopsis":["mrtmsg imsgtype"],"short_desc":"Send system real-time messages to the MIDI OUT port."},"ms2st":{"synopsis":["aleft,aright ms2st as,am,kwidth"],"short_desc":"Mid-Side to stereo Conversion."},"mtof":{"synopsis":["ifreq mtof imidi","kfreq mtof kmidi","ifreqs[] mtof imidis[]","kfreqs[] mtof kmidis[]"],"short_desc":"Convert a midi to frequency"},"mton":{"synopsis":["Snote mton kmidi","Snote mton imidi"],"short_desc":"Convert midi note number to string note name"},"multiplies":{"synopsis":["a * b (no rate restriction)"],"short_desc":"Multiplication operator."},"multitap":{"synopsis":["ares multitap asig [, itime1, igain1] [, itime2, igain2] [...]"],"short_desc":"Multitap delay line implementation."},"mute":{"synopsis":["mute insnum [, iswitch]","mute \\"insname\\" [, iswitch]"],"short_desc":"Mutes/unmutes new instances of a given instrument."},"mvchpf":{"synopsis":["asig mvchpf ain, xcf[, istor]"],"short_desc":"Moog voltage-controlled highpass filter emulation."},"mvclpf1":{"synopsis":["asig mvclpf1 ain, xcf, xres[,istor]"],"short_desc":"Moog voltage-controlled lowpass filter emulation."},"mvclpf2":{"synopsis":["asig mvclpf2 ain, xcf, xres[, istor]"],"short_desc":"Moog voltage-controlled lowpass filter emulation."},"mvclpf3":{"synopsis":["asig mvclpf3 ain, xcf, xres[, istor]"],"short_desc":"Moog voltage-controlled lowpass filter emulation."},"mvclpf4":{"synopsis":["asig1,asig2,asig3,asig4 mvclpf4 ain, xcf, xres[, istor]"],"short_desc":"Moog voltage-controlled lowpass filter emulation."},"mvmfilter":{"synopsis":["aout mvmfilter ain, xfreq, xTau [, iskip]"],"short_desc":"A filter with pronounced resonance and controllable decay time."},"mxadsr":{"synopsis":["ares mxadsr iatt, idec, islev, irel [, idel] [, ireltim]","kres mxadsr iatt, idec, islev, irel [, idel] [, ireltim]"],"short_desc":"Calculates the classical ADSR envelope using the expsegr mechanism."},"nchnls":{"synopsis":["nchnls = iarg"],"short_desc":"Sets the number of channels of audio output."},"nchnls_hw":{"synopsis":["idacc,iadcc nchnls_hw"],"short_desc":"Returns the number of audio channels in the underlying hardware."},"nchnls_i":{"synopsis":["nchnls_i = iarg"],"short_desc":"Sets the number of channels of audio input."},"nestedap":{"synopsis":["ares nestedap asig, imode, imaxdel, idel1, igain1 [, idel2] [, igain2] [, idel3] [, igain3] [, istor]"],"short_desc":"Three different nested all-pass filters."},"nlfilt":{"synopsis":["ares nlfilt ain, ka, kb, kd, kC, kL"],"short_desc":"A filter with a non-linear effect."},"nlfilt2":{"synopsis":["ares nlfilt2 ain, ka, kb, kd, kC, kL"],"short_desc":"A filter with a non-linear effect and blowup protection."},"noise":{"synopsis":["ares noise xamp, kbeta"],"short_desc":"A white noise generator with an IIR lowpass filter."},"noteoff":{"synopsis":["noteoff ichn, inum, ivel"],"short_desc":"Send a noteoff message to the MIDI OUT port."},"noteon":{"synopsis":["noteon ichn, inum, ivel"],"short_desc":"Send a noteon message to the MIDI OUT port."},"noteondur":{"synopsis":["noteondur ichn, inum, ivel, idur"],"short_desc":"Sends a noteon and a noteoff MIDI message both with the same channel, number and velocity."},"noteondur2":{"synopsis":["noteondur2 ichn, inum, ivel, idur"],"short_desc":"Sends a noteon and a noteoff MIDI message both with the same channel, number and velocity."},"notequal":{"synopsis":["(a != b ? v1 : v2)"],"short_desc":"Determines if one value is not equal to another."},"notnum":{"synopsis":["ival notnum"],"short_desc":"Get a note number from a MIDI event."},"nreverb":{"synopsis":["ares nreverb asig, ktime, khdif [, iskip] [,inumCombs] [, ifnCombs] [, inumAlpas] [, ifnAlpas]"],"short_desc":"A reverberator consisting of 6 parallel comb-lowpass filters."},"nrpn":{"synopsis":["nrpn kchan, kparmnum, kparmvalue"],"short_desc":"Sends a Non-Registered Parameter Number to the MIDI OUT port."},"nsamp":{"synopsis":["nsamp(x) (init-rate args only)"],"short_desc":"Returns the number of samples loaded into a stored function table number."},"nstance":{"synopsis":["iHandle nstance insnum, iwhen, idur [, ip4] [, ip5] [...]","iHandle nstance \\"insname\\", iwhen, idur [, ip4] [, ip5] [...]"],"short_desc":"Schedules a new instrument instance, storing the instance handle in a variable."},"nstrnum":{"synopsis":["insno nstrnum \\"name\\""],"short_desc":"Returns the number of a named instrument."},"nstrstr":{"synopsis":["Sname nstrstr insno","Sname nstrstr knsno"],"short_desc":"Returns the string of a named instr from its number."},"ntof":{"synopsis":["kfreq ntof Snote","ifreq ntof Snote"],"short_desc":"Convert note name to frequency"},"ntom":{"synopsis":["kmidi ntom Snote","imidi ntom Snote"],"short_desc":"Convert note name to midi note number"},"ntrpol":{"synopsis":["ares ntrpol asig1, asig2, kpoint [, imin] [, imax]","ires ntrpol isig1, isig2, ipoint [, imin] [, imax]","kres ntrpol ksig1, ksig2, kpoint [, imin] [, imax]"],"short_desc":"Calculates the weighted mean value of two input signals."},"octave":{"synopsis":["octave(x)"],"short_desc":"Calculates a factor to raise/lower a frequency by a given amount of octaves."},"octcps":{"synopsis":["octcps (cps) (init- or control-rate args only)"],"short_desc":"Converts a cycles-per-second value to octave-point-decimal."},"octmidi":{"synopsis":["ioct octmidi"],"short_desc":"Get the note number, in octave-point-decimal units, of the current MIDI event."},"octmidib":{"synopsis":["ioct octmidib [irange]","koct octmidib [irange]"],"short_desc":"Get the note number of the current MIDI event and modify it by the current pitch-bend value, express it in octave-point-decimal."},"octmidinn":{"synopsis":["octmidinn (MidiNoteNumber) (init- or control-rate args only)"],"short_desc":"Converts a Midi note number value to octave-point-decimal."},"octpch":{"synopsis":["octpch (pch) (init- or control-rate args only)"],"short_desc":"Converts a pitch-class value to octave-point-decimal."},"olabuffer":{"synopsis":["aout olabuffer kin, ioverlap"],"short_desc":"Sum overlapping frames of audio as k-rate arrays and read as an audio signal"},"opa":{"synopsis":["a(x) (control-rate args only)"],"short_desc":"Converts a k-rate parameter to an a-rate value with interpolation."},"opand":{"synopsis":["a && b (logical AND; not audio-rate)"],"short_desc":"Logical AND operator."},"opbitand":{"synopsis":["a & b (bitwise AND)"],"short_desc":"Bitwise AND operator."},"opbitnot":{"synopsis":["~ a (bitwise NOT)"],"short_desc":"Bitwise NOT operator."},"opbitor":{"synopsis":["a || b (bitwise OR)"],"short_desc":"Bitwise OR operator."},"opbitshl":{"synopsis":["a << b (bitshift left)"],"short_desc":"Bitshift left operator."},"opbitshr":{"synopsis":["a >> b (bitshift left)"],"short_desc":"Bitshift right operator."},"opcode":{"synopsis":["opcode name, outtypes, intypes"],"short_desc":"Defines the start of user-defined opcode block."},"opi":{"synopsis":["i(x) (control-rate or init-rate arg)","i(karray,index1, ...) (k-array with indices)"],"short_desc":"Returns an init-type equivalent of a k-rate argument, or directly returns an i-rate argument."},"opk":{"synopsis":["k(x) (i-rate args only)","k(x) (a-rate args only)"],"short_desc":"Converts a i-rate parameter to an k-rate value. Or converts an a-rate value to a k-rate value by down-sampling."},"opnonequiv":{"synopsis":["a # b (bitwise NON EQUIVALENCE)"],"short_desc":"Bitwise NON EQUIVALENCE operator."},"opnot":{"synopsis":["! a (logical NOT; not audio-rate)"],"short_desc":"Logical NOT operator."},"opor":{"synopsis":["a |||| b (logical OR; not audio-rate)"],"short_desc":"Logical OR operator."},"ops":{"synopsis":["S(x) (control-rate or init-rate arg)"],"short_desc":"Returns an S-type equivalent of an init-time or k-rate argument."},"oscbnk":{"synopsis":["ares oscbnk kcps, kamd, kfmd, kpmd, iovrlap, iseed, kl1minf, kl1maxf, kl2minf, kl2maxf, ilfomode, keqminf, keqmaxf, keqminl, keqmaxl, keqminq, keqmaxq, ieqmode, kfn [, il1fn] [, il2fn] [, ieqffn] [, ieqlfn] [, ieqqfn] [, itabl] [, ioutfn]"],"short_desc":"Mixes the output of any number of oscillators."},"oscil":{"synopsis":["ares oscil xamp, xcps [, ifn, iphs]","kres oscil kamp, kcps [, ifn, iphs]"],"short_desc":"A simple oscillator."},"oscil1":{"synopsis":["kres oscil1 idel, kamp, idur [, ifn]"],"short_desc":"Accesses table values by incremental sampling."},"oscil1i":{"synopsis":["kres oscil1i idel, kamp, idur [, ifn]"],"short_desc":"Accesses table values by incremental sampling with linear interpolation."},"oscil3":{"synopsis":["ares oscil3 xamp, xcps [, ifn, iphs]","kres oscil3 kamp, kcps [, ifn, iphs]"],"short_desc":"A simple oscillator with cubic interpolation."},"oscili":{"synopsis":["ares oscili xamp, xcps[, ifn, iphs]","kres oscili kamp, kcps[, ifn, iphs]"],"short_desc":"A simple oscillator with linear interpolation."},"oscilikt":{"synopsis":["ares oscilikt xamp, xcps, kfn [, iphs] [, istor]","kres oscilikt kamp, kcps, kfn [, iphs] [, istor]"],"short_desc":"A linearly interpolated oscillator that allows changing the table number at k-rate."},"osciliktp":{"synopsis":["ares osciliktp kcps, kfn, kphs [, istor]"],"short_desc":"A linearly interpolated oscillator that allows allows phase modulation."},"oscilikts":{"synopsis":["ares oscilikts xamp, xcps, kfn, async, kphs [, istor]"],"short_desc":"A linearly interpolated oscillator with sync status that allows changing the table number at k-rate."},"osciln":{"synopsis":["ares osciln kamp, ifrq, ifn, itimes"],"short_desc":"Accesses table values at a user-defined frequency."},"oscils":{"synopsis":["ares oscils iamp, icps, iphs [, iflg]"],"short_desc":"A simple, fast sine oscillator"},"oscilx":{"synopsis":[],"short_desc":"Same as the osciln opcode."},"out":{"synopsis":["out asig1[, asig2,....]","out aarray"],"short_desc":"Writes audio data to an external device or stream."},"out32":{"synopsis":["out32 asig1, asig2, asig3, asig4, asig5, asig6, asig7, asig8, asig10, asig11, asig12, asig13, asig14, asig15, asig16, asig17, asig18, asig19, asig20, asig21, asig22, asig23, asig24, asig25, asig26, asig27, asig28, asig29, asig30, asig31, asig32"],"short_desc":"Writes 32-channel audio data to an external device or stream."},"outall":{"synopsis":["outall asig"],"short_desc":"Replicates one audio data sream to multiple channels."},"outc":{"synopsis":["outc asig1 [, asig2] [...]"],"short_desc":"Writes audio data with an arbitrary number of channels to an external device or stream."},"outch":{"synopsis":["outch kchan1, asig1 [, kchan2] [, asig2] [...]"],"short_desc":"Writes multi-channel audio data, with user-controllable channels, to an external device or stream."},"outh":{"synopsis":["outh asig1, asig2, asig3, asig4, asig5, asig6"],"short_desc":"Writes 6-channel audio data to an external device or stream."},"outiat":{"synopsis":["outiat ichn, ivalue, imin, imax"],"short_desc":"Sends MIDI aftertouch messages at i-rate."},"outic":{"synopsis":["outic ichn, inum, ivalue, imin, imax"],"short_desc":"Sends MIDI controller output at i-rate."},"outic14":{"synopsis":["outic14 ichn, imsb, ilsb, ivalue, imin, imax"],"short_desc":"Sends 14-bit MIDI controller output at i-rate."},"outipat":{"synopsis":["outipat ichn, inotenum, ivalue, imin, imax"],"short_desc":"Sends polyphonic MIDI aftertouch messages at i-rate."},"outipb":{"synopsis":["outipb ichn, ivalue, imin, imax"],"short_desc":"Sends MIDI pitch-bend messages at i-rate."},"outipc":{"synopsis":["outipc ichn, iprog, imin, imax"],"short_desc":"Sends MIDI program change messages at i-rate"},"outkat":{"synopsis":["outkat kchn, kvalue, kmin, kmax"],"short_desc":"Sends MIDI aftertouch messages at k-rate."},"outkc":{"synopsis":["outkc kchn, knum, kvalue, kmin, kmax"],"short_desc":"Sends MIDI controller messages at k-rate."},"outkc14":{"synopsis":["outkc14 kchn, kmsb, klsb, kvalue, kmin, kmax"],"short_desc":"Sends 14-bit MIDI controller output at k-rate."},"outkpat":{"synopsis":["outkpat kchn, knotenum, kvalue, kmin, kmax"],"short_desc":"Sends polyphonic MIDI aftertouch messages at k-rate."},"outkpb":{"synopsis":["outkpb kchn, kvalue, kmin, kmax"],"short_desc":"Sends MIDI pitch-bend messages at k-rate."},"outkpc":{"synopsis":["outkpc kchn, kprog, kmin, kmax"],"short_desc":"Sends MIDI program change messages at k-rate."},"outleta":{"synopsis":["outleta Sname, asignal"],"short_desc":"Sends an arate signal out from an instrument to a named port."},"outletf":{"synopsis":["outletf Sname, fsignal"],"short_desc":"Sends a frate signal (fsig) out from an instrument to a named port."},"outletk":{"synopsis":["outletk Sname, ksignal"],"short_desc":"Sends a krate signal out from an instrument to a named port."},"outletkid":{"synopsis":["outletkid Sname, SinstanceID, ksignal"],"short_desc":"Sends a krate signal out from an instrument to a named port."},"outletv":{"synopsis":["outletv Sname, array"],"short_desc":"Sends an arate array signal out from an instrument to a named port."},"outo":{"synopsis":["outo asig1, asig2, asig3, asig4, asig5, asig6, asig7, asig8"],"short_desc":"Writes 8-channel audio data to an external device or stream."},"outq":{"synopsis":["outq asig1, asig2, asig3, asig4"],"short_desc":"Writes 4-channel audio data to an external device or stream."},"outq1":{"synopsis":["outq1 asig"],"short_desc":"Writes samples to quad channel 1 of an external device or stream."},"outq2":{"synopsis":["outq2 asig"],"short_desc":"Writes samples to quad channel 2 of an external device or stream."},"outq3":{"synopsis":["outq3 asig"],"short_desc":"Writes samples to quad channel 3 of an external device or stream."},"outq4":{"synopsis":["outq4 asig"],"short_desc":"Writes samples to quad channel 4 of an external device or stream."},"outrg":{"synopsis":["outrg kstart, aout1 [,aout2, aout3, ..., aoutN]"],"short_desc":"Allow output to a range of adjacent audio channels on the audio output device"},"outs":{"synopsis":["outs asig1, asig2"],"short_desc":"Writes stereo audio data to an external device or stream."},"outs1":{"synopsis":["outs1 asig"],"short_desc":"Writes samples to stereo channel 1 of an external device or stream."},"outs2":{"synopsis":["outs2 asig"],"short_desc":"Writes samples to stereo channel 2 of an external device or stream."},"outvalue":{"synopsis":["outvalue \\"channel name\\", ivalue","outvalue \\"channel name\\", kvalue","outvalue \\"channel name\\", \\"string\\""],"short_desc":"Sends an i-rate or k-rate signal or string to a user-defined channel."},"outx":{"synopsis":["outx asig1, asig2, asig3, asig4, asig5, asig6, asig7, asig8, asig9, asig10, asig11, asig12, asig13, asig14, asig15, asig16"],"short_desc":"Writes 16-channel audio data to an external device or stream."},"outz":{"synopsis":["outz ksig1"],"short_desc":"Writes multi-channel audio data from a ZAK array to an external device or stream."},"p":{"synopsis":["p(x) "],"short_desc":"Show the value in a given p-field."},"p5gconnect":{"synopsis":["p5gconnect"],"short_desc":"Reads data from a P5 Glove controller."},"p5gdata":{"synopsis":["kres p5gdata kcontrol"],"short_desc":"Reads data fields from an external P5 Glove."},"pan":{"synopsis":["a1, a2, a3, a4 pan asig, kx, ky, ifn [, imode] [, ioffset]"],"short_desc":"Distribute an audio signal amongst four channels."},"pan2":{"synopsis":["a1, a2 pan2 asig, xp [, imode]"],"short_desc":"Distribute an audio signal across two channels."},"pareq":{"synopsis":["ares pareq asig, kc, kv, kq [, imode] [, iskip]"],"short_desc":"Implementation of Zoelzer\\\\\'s parametric equalizer filters."},"part2txt":{"synopsis":["part2txt SFile,ftrks"],"short_desc":"Write a text file containing partial tracks data"},"partials":{"synopsis":["ftrks partials ffr, fphs, kthresh, kminpts, kmaxgap, imaxtracks"],"short_desc":"Partial track spectral analysis."},"partikkel":{"synopsis":["a1 [, a2, a3, a4, a5, a6, a7, a8] partikkel agrainfreq, kdistribution, idisttab, async, kenv2amt, ienv2tab, ienv_attack, ienv_decay, ksustain_amount, ka_d_ratio, kduration, kamp, igainmasks, kwavfreq, ksweepshape, iwavfreqstarttab, iwavfreqendtab, awavfm, ifmamptab, kfmenv, icosine, ktraincps, knumpartials, kchroma, ichannelmasks, krandommask, kwaveform1, kwaveform2, kwaveform3, kwaveform4, iwaveamptab, asamplepos1, asamplepos2, asamplepos3, asamplepos4, kwavekey1, kwavekey2, kwavekey3, kwavekey4, imax_grains [, iopcode_id, ipanlaws]"],"short_desc":"Granular synthesizer with \\"per grain\\" control over many of its parameters. Has a sync input to sychronize its internal grain scheduler clock to an external clock source."},"partikkelget":{"synopsis":["kindex partikkelget kparameterindex, iopcode_id"],"short_desc":"Get mask index for a specific mask parameter of a running partikkel instance."},"partikkelset":{"synopsis":["partikkelset kparameterindex, kmaskindex, iopcode_id"],"short_desc":"Set mask index for a specific mask parameter of a running partikkel instance."},"partikkelsync":{"synopsis":["async [,aphase] partikkelsync iopcode_id"],"short_desc":"Outputs partikkel\\\\\'s grain scheduler clock pulse and phase to synchronize several instances of the partikkel opcode to the same clock source."},"passign":{"synopsis":[" ivar1, ... passign [istart][, iend"," iarray passign [istart][, iend"," karray passign [istart][, iend"],"short_desc":"Assigns a range of p-fields to ivariables."},"paulstretch":{"synopsis":["asig paulstretch istretch, iwindowsize, ift "],"short_desc":"Extreme time-stretching algorithm by Nasca Octavian Paul."},"pcauchy":{"synopsis":["ares pcauchy kalpha","ires pcauchy kalpha","kres pcauchy kalpha"],"short_desc":"Cauchy distribution random number generator (positive values only)."},"pchbend":{"synopsis":["ibend pchbend [imin] [, imax]","kbend pchbend [imin] [, imax]"],"short_desc":"Get the current pitch-bend value for this channel."},"pchmidi":{"synopsis":["ipch pchmidi"],"short_desc":"Get the note number of the current MIDI event, expressed in pitch-class units."},"pchmidib":{"synopsis":["ipch pchmidib [irange]","kpch pchmidib [irange]"],"short_desc":"Get the note number of the current MIDI event and modify it by the current pitch-bend value, express it in pitch-class units."},"pchmidinn":{"synopsis":["pchmidinn (MidiNoteNumber) (init- or control-rate args only)"],"short_desc":"Converts a Midi note number value to octave point pitch-class units."},"pchoct":{"synopsis":["pchoct (oct) (init- or control-rate args only)"],"short_desc":"Converts an octave-point-decimal value to pitch-class."},"pchtom":{"synopsis":["imidi pchtom ipch","kmidi pchtom kpch"],"short_desc":"Convert pch to midi note number"},"pconvolve":{"synopsis":["ar1 [, ar2] [, ar3] [, ar4] pconvolve ain, ifilcod [, ipartitionsize, ichannel]"],"short_desc":"Convolution based on a uniformly partitioned overlap-save algorithm"},"pcount":{"synopsis":["icount pcount"],"short_desc":"Returns the number of pfields belonging to a note event."},"pdclip":{"synopsis":["aout pdclip ain, kWidth, kCenter [, ibipolar [, ifullscale]]"],"short_desc":"Performs linear clipping on an audio signal or a phasor."},"pdhalf":{"synopsis":["aout pdhalf ain, kShapeAmount [, ibipolar [, ifullscale]]"],"short_desc":"Distorts a phasor for reading the two halves of a table at different rates."},"pdhalfy":{"synopsis":["aout pdhalfy ain, kShapeAmount [, ibipolar [, ifullscale]]"],"short_desc":"Distorts a phasor for reading two unequal portions of a table in equal periods."},"peak":{"synopsis":["kres peak asig","kres peak ksig"],"short_desc":"Maintains the output equal to the highest absolute value received."},"peakk":{"synopsis":[],"short_desc":"Deprecated."},"pgmassign":{"synopsis":["pgmassign ipgm, inst[, ichn]","pgmassign ipgm, \\"insname\\"[, ichn]"],"short_desc":"Assigns an instrument number to a specified MIDI program."},"phaser1":{"synopsis":["ares phaser1 asig, kfreq, kord, kfeedback [, iskip]"],"short_desc":"First-order allpass filters arranged in a series."},"phaser2":{"synopsis":["ares phaser2 asig, kfreq, kq, kord, kmode, ksep, kfeedback"],"short_desc":"Second-order allpass filters arranged in a series."},"phasor":{"synopsis":["ares phasor xcps [, iphs]","kres phasor kcps [, iphs]"],"short_desc":"Produce a normalized moving phase value."},"phasorbnk":{"synopsis":["ares phasorbnk xcps, kndx, icnt [, iphs]","kres phasorbnk kcps, kndx, icnt [, iphs]"],"short_desc":"Produce an arbitrary number of normalized moving phase values."},"phs":{"synopsis":["kout[] phs kin[]"],"short_desc":"Obtains the phases of a complex-number array"},"pindex":{"synopsis":["ivalue pindex ipfieldIndex"],"short_desc":"Returns the value of a specified pfield."},"pinker":{"synopsis":["ares pinker"],"short_desc":"Generates pink noise."},"pinkish":{"synopsis":["ares pinkish xin [, imethod] [, inumbands] [, iseed] [, iskip]"],"short_desc":"Generates approximate pink noise."},"pitch":{"synopsis":["koct, kamp pitch asig, iupdte, ilo, ihi, idbthresh [, ifrqs] [, iconf] [, istrt] [, iocts] [, iq] [, inptls] [, irolloff] [, iskip]"],"short_desc":"Tracks the pitch of a signal."},"pitchamdf":{"synopsis":["kcps, krms pitchamdf asig, imincps, imaxcps [, icps] [, imedi] [, idowns] [, iexcps] [, irmsmedi]"],"short_desc":"Follows the pitch of a signal based on the AMDF method."},"planet":{"synopsis":["ax, ay, az planet kmass1, kmass2, ksep, ix, iy, iz, ivx, ivy, ivz, idelta [, ifriction] [, iskip]"],"short_desc":"Simulates a planet orbiting in a binary star system."},"platerev":{"synopsis":["a1[, a2, ...] platerev itabexcite. itabouts, kbndry, iaspect, istiff, idecay, iloss, aexcite1[, aexcite2, ...]"],"short_desc":"Models the reverberation of a metal plate."},"plltrack":{"synopsis":["acps, alock plltrack asig, kd [, kloopf, kloopq, klf, khf, kthresh]"],"short_desc":"Tracks the pitch of a signal."},"pluck":{"synopsis":["ares pluck kamp, kcps, icps, ifn, imeth [, iparm1] [, iparm2]"],"short_desc":"Produces a naturally decaying plucked string or drum sound."},"plusbecomes":{"synopsis":["ares += xarg","ires += iarg","kres += karg","table [ kval] += karg"],"short_desc":"Performs add and assignment."},"poisson":{"synopsis":["ares poisson klambda","ires poisson klambda","kres poisson klambda"],"short_desc":"Poisson distribution random number generator (positive values only)."},"pol2rect":{"synopsis":["kout[] pol2rect kin[]","kout[] pol2rect kmags[], kphs[]"],"short_desc":"Polar to rectangular format conversion."},"polyaft":{"synopsis":["ires polyaft inote [, ilow] [, ihigh]","kres polyaft inote [, ilow] [, ihigh]"],"short_desc":"Returns the polyphonic after-touch pressure of the selected note number."},"polynomial":{"synopsis":["aout polynomial ain, k0 [, k1 [, k2 [...]]]"],"short_desc":"Efficiently evaluates a polynomial of arbitrary order."},"pop":{"synopsis":["xval1, [xval2, ... , xval31] pop","ival1, [ival2, ... , ival31] pop"],"short_desc":"Pops values from the global stack. Deprecated."},"pop_f":{"synopsis":["fsig pop_f"],"short_desc":"Pops an f-sig frame from the global stack. Deprecated."},"port":{"synopsis":["kres port ksig, ihtim [, isig]"],"short_desc":"Applies portamento to a step-valued control signal."},"portk":{"synopsis":["kres portk ksig, khtim [, isig]"],"short_desc":"Applies portamento to a step-valued control signal."},"poscil":{"synopsis":["ares poscil aamp, acps [, ifn, iphs]","ares poscil aamp, kcps [, ifn, iphs]","ares poscil kamp, acps [, ifn, iphs]","ares poscil kamp, kcps [, ifn, iphs]","ires poscil kamp, kcps [, ifn, iphs]","kres poscil kamp, kcps [, ifn, iphs]"],"short_desc":"High precision oscillator."},"poscil3":{"synopsis":["ares poscil3 aamp, acps [, ifn, iphs]","ares poscil3 aamp, kcps [, ifn, iphs]","ares poscil3 kamp, acps [, ifn, iphs]","ares poscil3 kamp, kcps [, ifn, iphs]","ires poscil3 kamp, kcps [, ifn, iphs]","kres poscil3 kamp, kcps [, ifn, iphs]"],"short_desc":"High precision oscillator with cubic interpolation."},"pow":{"synopsis":["ares pow aarg, kpow [, inorm]","ires pow iarg, ipow [, inorm]","kres pow karg, kpow [, inorm]","ires[] pow iarg[], ipow[] ","kres[] pow karg[], kpow[]","ires[] pow iarg[], ipow ","kres[] pow karg[], kpow "],"short_desc":"Computes one argument to the power of another argument."},"powershape":{"synopsis":["aout powershape ain, kShapeAmount [, ifullscale]"],"short_desc":"Waveshapes a signal by raising it to a variable exponent."},"powoftwo":{"synopsis":["powoftwo(x) (init-rate or control-rate args only)"],"short_desc":"Performs a power-of-two calculation."},"prealloc":{"synopsis":["prealloc insnum, icount","prealloc \\"insname\\", icount"],"short_desc":"Creates space for instruments but does not run them."},"prepiano":{"synopsis":["ares prepiano ifreq, iNS, iD, iK, iT30,iB, kbcl, kbcr, imass, ihvfreq, iinit, ipos, ivel, isfreq, isspread[, irattles, irubbers]","al,ar prepiano ifreq, iNS, iD, iK, iT30,iB, kbcl, kbcr, imass, ihvfreq, iinit, ipos, ivel, isfreq, isspread[, irattles, irubbers]"],"short_desc":"Creates a tone similar to a piano string prepared in a Cageian fashion."},"print":{"synopsis":["print iarg [, iarg1] [, iarg2] [...]"],"short_desc":"Displays the values init (i-rate) variables."},"printarray":{"synopsis":["printarray ixs[] [, Smft, Slabel ]","printarray kxs[] [, ktrig, Sfmt, Slabel ]"],"short_desc":"Print the contents of an array"},"printf":{"synopsis":["printf_i Sfmt, itrig, [iarg1[, iarg2[, ... ]]]","printf Sfmt, ktrig, [xarg1[, xarg2[, ... ]]]"],"short_desc":"printf-style formatted output"},"printk":{"synopsis":["printk itime, kval [, ispace] [, inamed]"],"short_desc":"Prints one k-rate value at specified intervals."},"printk2":{"synopsis":["printk2 kvar [, inumspaces] [, inamed]"],"short_desc":"Prints a new value every time a control variable changes."},"printks":{"synopsis":["printks \\"string\\", itime [, xval1] [, xval2] [...]"],"short_desc":"Prints at k-rate using a printf() style syntax."},"printks2":{"synopsis":["printks2 \\"string\\", kval"],"short_desc":"Prints a new value every time a control variable changes using a printf() style syntax."},"println":{"synopsis":["println \\"string\\", [, xval1] [, xval2] [...]"],"short_desc":"Prints at k-rate using a printf() style syntax, appends a new line"},"prints":{"synopsis":["prints \\"string\\" [, xval1] [, xval2] [...]"],"short_desc":"Prints at init-time using a printf() style syntax."},"printsk":{"synopsis":["printsk \\"string\\", [, xval1] [, xval2] [...]"],"short_desc":"Prints at k-rate using a printf() style syntax."},"product":{"synopsis":["ares product asig1, asig2 [, asig3] [...]"],"short_desc":"Multiplies any number of a-rate signals."},"productarray":{"synopsis":["kres/ires product karr[]/iarr[] (k- or i-arrays )"],"short_desc":"Calculates the product of an array."},"pset":{"synopsis":["pset icon1 [, icon2] [...]"],"short_desc":"Defines and initializes numeric arrays at orchestra load time."},"ptable":{"synopsis":["ares ptable andx, ifn [, ixmode] [, ixoff] [, iwrap]","ires ptable indx, ifn [, ixmode] [, ixoff] [, iwrap]","kres ptable kndx, ifn [, ixmode] [, ixoff] [, iwrap]"],"short_desc":"Accesses table values by direct indexing."},"ptable3":{"synopsis":["ares ptable3 andx, ifn [, ixmode] [, ixoff] [, iwrap]","ires ptable3 indx, ifn [, ixmode] [, ixoff] [, iwrap]","kres ptable3 kndx, ifn [, ixmode] [, ixoff] [, iwrap]"],"short_desc":"Accesses table values by direct indexing with cubic interpolation."},"ptablei":{"synopsis":["ares ptablei andx, ifn [, ixmode] [, ixoff] [, iwrap]","ires ptablei indx, ifn [, ixmode] [, ixoff] [, iwrap]","kres ptablei kndx, ifn [, ixmode] [, ixoff] [, iwrap]"],"short_desc":"Accesses table values by direct indexing with linear interpolation."},"ptablew":{"synopsis":["ptablew asig, andx, ifn [, ixmode] [, ixoff] [, iwgmode]","ptablew isig, indx, ifn [, ixmode] [, ixoff] [, iwgmode]","ptablew ksig, kndx, ifn [, ixmode] [, ixoff] [, iwgmode]"],"short_desc":"Change the contents of existing function tables of any length."},"ptrack":{"synopsis":["kcps, kamp ptrack asig, ihopsize[,ipeaks]"],"short_desc":"Tracks the pitch of a signal."},"push":{"synopsis":["push xval1, [xval2, ... , xval31]","push ival1, [ival2, ... , ival31]"],"short_desc":"Pushes a value into the global stack. Deprecated."},"push_f":{"synopsis":["push_f fsig"],"short_desc":"Pushes an f-sig frame into the global stack. Deprecated."},"puts":{"synopsis":["puts Sstr, ktrig[, inonl]"],"short_desc":"Print a string constant or variable"},"pvadd":{"synopsis":["ares pvadd ktimpnt, kfmod, ifilcod, ifn, ibins [, ibinoffset] [, ibinincr] [, iextractmode] [, ifreqlim] [, igatefn]"],"short_desc":"Reads from a pvoc file and uses the data to perform additive synthesis."},"pvbufread":{"synopsis":["pvbufread ktimpnt, ifile"],"short_desc":"Reads from a phase vocoder analysis file and makes the retrieved data available."},"pvcross":{"synopsis":["ares pvcross ktimpnt, kfmod, ifile, kampscale1, kampscale2 [, ispecwp]"],"short_desc":"Applies the amplitudes from one phase vocoder analysis file to the data from a second file."},"pvinterp":{"synopsis":["ares pvinterp ktimpnt, kfmod, ifile, kfreqscale1, kfreqscale2, kampscale1, kampscale2, kfreqinterp, kampinterp"],"short_desc":"Interpolates between the amplitudes and frequencies of two phase vocoder analysis files."},"pvoc":{"synopsis":["ares pvoc ktimpnt, kfmod, ifilcod [, ispecwp] [, iextractmode] [, ifreqlim] [, igatefn]"],"short_desc":"Implements signal reconstruction using an fft-based phase vocoder."},"pvread":{"synopsis":["kfreq, kamp pvread ktimpnt, ifile, ibin"],"short_desc":"Reads from a phase vocoder analysis file and returns the frequency and amplitude from a single analysis channel or bin."},"pvs2array":{"synopsis":["kframe pvs2array kvar[], fsig","kframe pvs2array kmags[], kfreqs[], fsig"],"short_desc":"Same as the pvs2tab opcode."},"pvs2tab":{"synopsis":["kframe pvs2tab tvar|kvar[], fsig","kframe pvs2tab kmags[], kfreqs[], fsig"],"short_desc":"Copies spectral data to k-rate arrays (or t-variables). Also known as pvs2array."},"pvsadsyn":{"synopsis":["ares pvsadsyn fsrc, inoscs, kfmod [, ibinoffset] [, ibinincr] [, iinit]"],"short_desc":"Resynthesize using a fast oscillator-bank."},"pvsanal":{"synopsis":["fsig pvsanal ain, ifftsize, ioverlap, iwinsize, iwintype [, iformat] [, iinit]"],"short_desc":"Generate an fsig from a mono audio source ain, using phase vocoder overlap-add analysis."},"pvsarp":{"synopsis":["fsig pvsarp fsigin, kbin, kdepth, kgain"],"short_desc":"Arpeggiate the spectral components of a streaming pv signal."},"pvsbandp":{"synopsis":["fsig pvsbandp fsigin, xlowcut, xlowfull, xhighfull, xhighcut[, ktype]"],"short_desc":"A band pass filter working in the spectral domain."},"pvsbandr":{"synopsis":["fsig pvsbandr fsigin, xlowcut, xlowfull, xhighfull, xhighcut[, ktype]"],"short_desc":"A band reject filter working in the spectral domain."},"pvsbandwidth":{"synopsis":["kbnd pvsbandwidth fsig"],"short_desc":"Calculate the spectral bandwidth of a signal."},"pvsbin":{"synopsis":["kamp, kfr pvsbin fsig, kbin"],"short_desc":"Obtain the amp and freq values off a PVS signal bin."},"pvsblur":{"synopsis":["fsig pvsblur fsigin, kblurtime, imaxdel"],"short_desc":"Average the amp/freq time functions of each analysis channel for a specified time."},"pvsbuffer":{"synopsis":["ihandle, ktime pvsbuffer fsig, ilen "],"short_desc":"This opcode creates and writes to a circular buffer for f-signals (streaming PV signals)."},"pvsbufread":{"synopsis":["fsig pvsbufread ktime, khandle[, ilo, ihi, iclear] "],"short_desc":"This opcode reads a circular buffer of f-signals (streaming PV signals)."},"pvsbufread2":{"synopsis":["fsig pvsbufread2 ktime, khandle, ift1, ift2 "],"short_desc":"This opcode reads a circular buffer of f-signals (streaming PV signals), with binwise additional delays."},"pvscale":{"synopsis":["fsig pvscale fsigin, kscal[, kkeepform, kgain, kcoefs]"],"short_desc":"Scale the frequency components of a pv stream."},"pvscent":{"synopsis":["kcent pvscent fsig","acent pvscent fsig"],"short_desc":"Calculate the spectral centroid of a signal."},"pvsceps":{"synopsis":["keps[] pvsceps fsig[, icoefs]"],"short_desc":"Calculate the cepstrum of a pvs input, optionally liftering coefficients."},"pvscfs":{"synopsis":["kCoef[],krms,kerr pvscfs fsig, iord[,imod]"],"short_desc":"Cepstrum all-pole coefficient analysis."},"pvscross":{"synopsis":["fsig pvscross fsrc, fdest, kamp1, kamp2"],"short_desc":"Performs cross-synthesis between two source fsigs."},"pvsdemix":{"synopsis":["fsig pvsdemix fleft, fright, kpos, kwidth, ipoints"],"short_desc":"Spectral azimuth-based de-mixing of stereo sources."},"pvsdiskin":{"synopsis":["fsig pvsdiskin SFname,ktscal,kgain[,ioffset, ichan]"],"short_desc":"Read a selected channel from a PVOC-EX analysis file."},"pvsdisp":{"synopsis":["pvsdisp fsig[, ibins, iwtflg] "],"short_desc":"Displays a PVS signal as an amplitude vs. freq graph."},"pvsfilter":{"synopsis":["fsig pvsfilter fsigin, fsigfil, kdepth[, igain]"],"short_desc":"Multiply amplitudes of a pvoc stream by those of a secondpvoc stream, with dynamic scaling."},"pvsfread":{"synopsis":["fsig pvsfread ktimpt, ifn [, ichan]"],"short_desc":"Read a selected channel from a PVOC-EX analysis file."},"pvsfreeze":{"synopsis":["fsig pvsfreeze fsigin, kfreeza, kfreezf"],"short_desc":"Freeze the amplitude and frequency time functions of a pv stream according to a control-rate trigger."},"pvsfromarray":{"synopsis":["fsig pvsfromarray karr[][,ihopsize, iwinsize, iwintype]","fsig pvsfromarray kmags[], kfreqs[][,ihopsize, iwinsize, iwintype]"],"short_desc":"Same as the tab2pvs opcode."},"pvsftr":{"synopsis":["pvsftr fsrc, ifna [, ifnf]"],"short_desc":"Reads amplitude and/or frequency data from function tables."},"pvsftw":{"synopsis":["kflag pvsftw fsrc, ifna [, ifnf]"],"short_desc":"Writes amplitude and/or frequency data to function tables."},"pvsfwrite":{"synopsis":["pvsfwrite fsig, ifile"],"short_desc":"Write a fsig to a PVOCEX file."},"pvsgain":{"synopsis":["fsig pvsgain fsigin, kgain "],"short_desc":"Scale the amplitude of a pv stream."},"pvshift":{"synopsis":["fsig pvshift fsigin, kshift, klowest[, kkeepform, igain, kcoefs]"],"short_desc":"Shift the frequency components of a pv stream, stretching/compressing its spectrum."},"pvsifd":{"synopsis":["ffr,fphs pvsifd ain, ifftsize, ihopsize, iwintype[,iscal]"],"short_desc":"Instantaneous Frequency Distribution, magnitude and phase analysis."},"pvsin":{"synopsis":["fsig pvsin kchan[, isize, iolap, iwinsize, iwintype, iformat]"],"short_desc":"Retrieve an fsig from the input software bus; a pvs equivalent to chani."},"pvsinfo":{"synopsis":["ioverlap, inumbins, iwinsize, iformat pvsinfo fsrc"],"short_desc":"Get information from a PVOC-EX formatted source."},"pvsinit":{"synopsis":["fsig pvsinit isize[, iolap, iwinsize, iwintype, iformat]"],"short_desc":"Initialise a spectral (f) variable to zero."},"pvslpc":{"synopsis":["fsig pvslpc asrc, idftsiz, ihop, iord[,iwin] "],"short_desc":"Streaming linear prediction analysis."},"pvsmaska":{"synopsis":["fsig pvsmaska fsrc, ifn, kdepth"],"short_desc":"Modify amplitudes using a function table, with dynamic scaling."},"pvsmix":{"synopsis":["fsig pvsmix fsigin1, fsigin2"],"short_desc":"Mix \\\\\'seamlessly\\\\\' two pv signals."},"pvsmooth":{"synopsis":["fsig pvsmooth fsigin, kacf, kfcf"],"short_desc":"Smooth the amplitude and frequency time functions of a pv stream using parallel 1st order lowpass IIR filters with time-varying cutoff frequency."},"pvsmorph":{"synopsis":["fsig pvsmorph fsig1, fsig2, kampint, kfrqint"],"short_desc":"Performs morphing (or interpolation) between two source fsigs."},"pvsosc":{"synopsis":["fsig pvsosc kamp, kfreq, ktype, isize [,ioverlap] [, iwinsize] [, iwintype] [, iformat]"],"short_desc":"PVS-based oscillator simulator."},"pvsout":{"synopsis":["pvsout fsig, kchan"],"short_desc":"Write a fsig to the pvs output bus."},"pvspitch":{"synopsis":["kfr, kamp pvspitch fsig, kthresh"],"short_desc":"Track the pitch and amplitude of a PVS signal."},"pvstanal":{"synopsis":["fsig pvstanal ktimescal, kamp, kpitch, ktab, [kdetect, kwrap, ioffset,ifftsize, ihop, idbthresh] "],"short_desc":"Phase vocoder analysis processing with onset detection/processing."},"pvstencil":{"synopsis":["fsig pvstencil fsigin, kgain, klevel, iftable"],"short_desc":"Transforms a pvoc stream according to a masking function table."},"pvstrace":{"synopsis":["fsig pvstrace fsigin, kn ","fsig, kBins[] pvstrace fsigin, kn[, isort, imin, imax] "],"short_desc":"Retain only the N loudest bins."},"pvsvoc":{"synopsis":["fsig pvsvoc famp, fexc, kdepth, kgain [,kcoefs]"],"short_desc":"Combine the spectral envelope of one fsig with the excitation (frequencies) of another."},"pvswarp":{"synopsis":["fsig pvswarp fsigin, kscal, kshift[, klowest, kmeth, kgain, kcoefs]"],"short_desc":"Warp the spectral envelope of a PVS signal"},"pvsynth":{"synopsis":["ares pvsynth fsrc, [iinit]"],"short_desc":"Resynthesise using a FFT overlap-add."},"pwd":{"synopsis":["Sres pwd"],"short_desc":"Asks the underlying operating system for the current directory name as a string."},"pyassign":{"synopsis":["pyassign \\"variable\\", kvalue","pyassigni \\"variable\\", ivalue","pylassign \\"variable\\", kvalue","pylassigni \\"variable\\", ivalue","pyassignt ktrigger, \\"variable\\", kvalue","pylassignt ktrigger, \\"variable\\", kvalue"],"short_desc":"Assign the value of the given Csound variable to a Python variable possibly destroying its previous content."},"pycall":{"synopsis":[" pycall \\"callable\\", karg1, ...","kresult pycall1 \\"callable\\", karg1, ...","kresult1, kresult2 pycall2 \\"callable\\", karg1, ...","kr1, kr2, kr3 pycall3 \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4 pycall4 \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5 pycall5 \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6 pycall6 \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6, kr7 pycall7 \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6, kr7, kr8 pycall8 \\"callable\\", karg1, ..."," pycallt ktrigger, \\"callable\\", karg1, ...","kresult pycall1t ktrigger, \\"callable\\", karg1, ...","kresult1, kresult2 pycall2t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3 pycall3t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4 pycall4t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5 pycall5t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6 pycall6t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6, kr7 pycall7t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6, kr7, kr8 pycall8t ktrigger, \\"callable\\", karg1, ..."," pycalli \\"callable\\", karg1, ...","iresult pycall1i \\"callable\\", iarg1, ...","iresult1, iresult2 pycall2i \\"callable\\", iarg1, ...","ir1, ir2, ir3 pycall3i \\"callable\\", iarg1, ...","ir1, ir2, ir3, ir4 pycall4i \\"callable\\", iarg1, ...","ir1, ir2, ir3, ir4, ir5 pycall5i \\"callable\\", iarg1, ...","ir1, ir2, ir3, ir4, ir5, ir6 pycall6i \\"callable\\", iarg1, ...","ir1, ir2, ir3, ir4, ir5, ir6, ir7 pycall7i \\"callable\\", iarg1, ...","ir1, ir2, ir3, ir4, ir5, ir6, ir7, ir8 pycall8i \\"callable\\", iarg1, ...","pycalln \\"callable\\", nresults, kresult1, ..., kresultn, karg1, ...","pycallni \\"callable\\", nresults, iresult1, ..., iresultn, iarg1, ..."," pylcall \\"callable\\", karg1, ...","kresult pylcall1 \\"callable\\", karg1, ...","kresult1, kresult2 pylcall2 \\"callable\\", karg1, ...","kr1, kr2, kr3 pylcall3 \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4 pylcall4 \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5 pylcall5 \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6 pylcall6 \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6, kr7 pylcall7 \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6, kr7, kr8 pylcall8 \\"callable\\", karg1, ..."," pylcallt ktrigger, \\"callable\\", karg1, ...","kresult pylcall1t ktrigger, \\"callable\\", karg1, ...","kresult1, kresult2 pylcall2t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3 pylcall3t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4 pylcall4t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5 pylcall5t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6 pylcall6t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6, kr7 pylcall7t ktrigger, \\"callable\\", karg1, ...","kr1, kr2, kr3, kr4, kr5, kr6, kr7, kr8 pylcall8t ktrigger, \\"callable\\", karg1, ..."," pylcalli \\"callable\\", karg1, ...","iresult pylcall1i \\"callable\\", iarg1, ...","iresult1, iresult2 pylcall2i \\"callable\\", iarg1, ...","ir1, ir2, ir3 pylcall3i \\"callable\\", iarg1, ...","ir1, ir2, ir3, ir4 pylcall4i \\"callable\\", iarg1, ...","ir1, ir2, ir3, ir4, ir5 pylcall5i \\"callable\\", iarg1, ...","ir1, ir2, ir3, ir4, ir5, ir6 pylcall6i \\"callable\\", iarg1, ...","ir1, ir2, ir3, ir4, ir5, ir6, ir7 pylcall7i \\"callable\\", iarg1, ...","ir1, ir2, ir3, ir4, ir5, ir6, ir7, ir8 pylcall8i \\"callable\\", iarg1, ...","pylcalln \\"callable\\", nresults, kresult1, ..., kresultn, karg1, ...","pylcallni \\"callable\\", nresults, iresult1, ..., iresultn, iarg1, ..."],"short_desc":"Invoke the specified Python callable at k-time and i-time (i suffix), passing the given arguments. The call is perfomed in the global environment, and the result (the returning value) is copied into the Csound output variables specified."},"pyeval":{"synopsis":["kresult pyeval \\"expression\\"","iresult pyevali \\"expression\\"","kresult pyleval \\"expression\\"","iresult pylevali \\"expression\\"","kresult pyevalt ktrigger, \\"expression\\"","kresult pylevalt ktrigger, \\"expression\\""],"short_desc":"Evaluate a generic Python expression and store the result in a Csound variable at k-time or i-time (i suffix)."},"pyexec":{"synopsis":["pyexec \\"filename\\"","pyexeci \\"filename\\"","pylexec \\"filename\\"","pylexeci \\"filename\\"","pyexect ktrigger, \\"filename\\"","plyexect ktrigger, \\"filename\\""],"short_desc":"Execute a script from a file at k-time or i-time (i suffix)."},"pyinit":{"synopsis":["pyinit"],"short_desc":"Initialize the Python interpreter."},"pyrun":{"synopsis":["pyrun \\"statement\\"","pyruni \\"statement\\"","pylrun \\"statement\\"","pylruni \\"statement\\"","pyrunt ktrigger, \\"statement\\"","pylrunt ktrigger, \\"statement\\""],"short_desc":"Run a Python statement or block of statements."},"qinf":{"synopsis":["qinf(x) (no rate restriction)"],"short_desc":"Questions whether the argument is a infinite number"},"qnan":{"synopsis":["qnan(x) (no rate restriction)"],"short_desc":"Questions whether the argument is not a number"},"r2c":{"synopsis":["kout[] r2c kin[]"],"short_desc":"Real to complex format conversion."},"raises":{"synopsis":["a ^ b (b not audio-rate)"],"short_desc":"Power of operator."},"rand":{"synopsis":["ares rand xamp [, iseed] [, isel] [, ioffset]","kres rand xamp [, iseed] [, isel] [, ioffset]"],"short_desc":"Generates a controlled random number series."},"randh":{"synopsis":["ares randh xamp, xcps [, iseed] [, isize] [, ioffset]","kres randh kamp, kcps [, iseed] [, isize] [, ioffset]"],"short_desc":"Generates random numbers and holds them for a period of time."},"randi":{"synopsis":["ares randi xamp, xcps [, iseed] [, isize] [, ioffset]","kres randi kamp, kcps [, iseed] [, isize] [, ioffset]"],"short_desc":"Generates a controlled random number series with interpolation between each new number."},"random":{"synopsis":["ares random kmin, kmax","ires random imin, imax","kres random kmin, kmax"],"short_desc":"Generates a controlled pseudo-random number series between min and max values."},"randomh":{"synopsis":["ares randomh kmin, kmax, xcps [,imode] [,ifirstval]","kres randomh kmin, kmax, kcps [,imode] [,ifirstval]"],"short_desc":"Generates random numbers with a user-defined limit and holds them for a period of time."},"randomi":{"synopsis":["ares randomi kmin, kmax, xcps [,imode] [,ifirstval]","kres randomi kmin, kmax, kcps [,imode] [,ifirstval]"],"short_desc":"Generates a user-controlled random number series with interpolation between each new number."},"rbjeq":{"synopsis":["ar rbjeq asig, kfco, klvl, kQ, kS[, imode]"],"short_desc":"Parametric equalizer and filter opcode with 7 filter types, based on algorithm by Robert Bristow-Johnson."},"readclock":{"synopsis":["ir readclock inum"],"short_desc":"Reads the value of an internal clock."},"readf":{"synopsis":["Sres, kline readf ifilname"],"short_desc":"Read a line of text from an external file."},"readfi":{"synopsis":["Sres, iline readfi ifilname"],"short_desc":"Read a line of text from an external file."},"readk":{"synopsis":["kres readk ifilname, iformat, iprd"],"short_desc":"Periodically reads an orchestra control-signal value from an external file."},"readk2":{"synopsis":["kr1, kr2 readk2 ifilname, iformat, iprd"],"short_desc":"Periodically reads two orchestra control-signal values from an external file."},"readk3":{"synopsis":["kr1, kr2, kr3 readk3 ifilname, iformat, iprd"],"short_desc":"Periodically reads three orchestra control-signal values from an external file."},"readk4":{"synopsis":["kr1, kr2, kr3, kr4 readk4 ifilname, iformat, iprd"],"short_desc":"Periodically reads four orchestra control-signal values from an external file."},"readscore":{"synopsis":["readscore Sin "],"short_desc":"Read, preprocess and schedule a score from an input string."},"readscratch":{"synopsis":["ival readscratch[index]"],"short_desc":"returns a value stored in the instance of an instrument."},"rect2pol":{"synopsis":["kout[] rect2pol kin[]"],"short_desc":"Rectangular to polar format conversion."},"reinit":{"synopsis":["reinit label"],"short_desc":"Suspends a performance while a special initialization pass is executed."},"release":{"synopsis":["kflag release"],"short_desc":"Indicates whether a note is in its release stage."},"remoteport":{"synopsis":["remoteport iportnum"],"short_desc":"Defines the port for use with the remote system."},"remove":{"synopsis":["remove insnum"],"short_desc":"Removes the definition of an instrument."},"repluck":{"synopsis":["ares repluck iplk, kamp, icps, kpick, krefl, axcite"],"short_desc":"Physical model of the plucked string."},"reshapearray":{"synopsis":["reshapearray array[], isize0 [, isize1 ]"],"short_desc":"Reshape an array, maintaining its capacity"},"reson":{"synopsis":["ares reson asig, xcf, xbw [, iscl] [, iskip]"],"short_desc":"A second-order resonant filter."},"resonbnk":{"synopsis":["asigresonbnk ain, kPar[],kmin,kmax,iper[,imode,iscal,iskip] "],"short_desc":"A resonator filter bank."},"resonk":{"synopsis":["kres resonk ksig, kcf, kbw [, iscl] [, iskip]"],"short_desc":"A second-order resonant filter."},"resonr":{"synopsis":["ares resonr asig, xcf, xbw [, iscl] [, iskip]"],"short_desc":"A bandpass filter with variable frequency response."},"resonx":{"synopsis":["ares resonx asig, xcf, xbw [, inumlayer] [, iscl] [, iskip]"],"short_desc":"Emulates a stack of filters using the reson opcode."},"resonxk":{"synopsis":["kres resonxk ksig, kcf, kbw[, inumlayer, iscl, istor]"],"short_desc":"Control signal resonant filter stack."},"resony":{"synopsis":["ares resony asig, kbf, kbw, inum, ksep [, isepmode] [, iscl] [, iskip]"],"short_desc":"A bank of second-order bandpass filters, connected in parallel."},"resonz":{"synopsis":["ares resonz asig, xcf, xbw [, iscl] [, iskip]"],"short_desc":"A bandpass filter with variable frequency response."},"resyn":{"synopsis":["asig resyn fin, kscal, kpitch, kmaxtracks, ifn"],"short_desc":"Streaming partial track additive synthesis with cubic phase interpolation withpitch control and support for timescale-modified input"},"return":{"synopsis":["return ival "],"short_desc":"Returns a value from an instrument."},"reverb":{"synopsis":["ares reverb asig, krvt [, iskip]"],"short_desc":"Reverberates an input signal with a natural room frequency response."},"reverb2":{"synopsis":["ares reverb2 asig, ktime, khdif [, iskip] [,inumCombs] [, ifnCombs] [, inumAlpas] [, ifnAlpas]"],"short_desc":"Same as the nreverb opcode."},"reverbsc":{"synopsis":["aoutL, aoutR reverbsc ainL, ainR, kfblvl, kfco[, israte[, ipitchm[, iskip]]] "],"short_desc":"8 delay line stereo FDN reverb, based on work by Sean Costello"},"rewindscore":{"synopsis":[" rewindscore"],"short_desc":"Rewinds the playback position of the current score performance."},"rezzy":{"synopsis":["ares rezzy asig, xfco, xres [, imode, iskip]"],"short_desc":"A resonant low-pass filter."},"rfft":{"synopsis":["kout[] rfft kin[]"],"short_desc":"Fast Fourier Transform of a real-value array."},"rifft":{"synopsis":["kout[] rifft kin[]"],"short_desc":"Complex-to-real Inverse Fast Fourier Transform."},"rigoto":{"synopsis":["rigoto label"],"short_desc":"Transfers control during a reinit pass."},"rireturn":{"synopsis":["rireturn"],"short_desc":"Terminates a reinit pass."},"rms":{"synopsis":["kres rms asig [, ihp] [, iskip]"],"short_desc":"Determines the root-mean-square amplitude of an audio signal."},"rnd":{"synopsis":["rnd(x) (init- or control-rate only)"],"short_desc":"Returns a random number in a unipolar range at the rate given by the input argument."},"rnd31":{"synopsis":["ax rnd31 kscl, krpow [, iseed]","ix rnd31 iscl, irpow [, iseed]","kx rnd31 kscl, krpow [, iseed]"],"short_desc":"31-bit bipolar random opcodes with controllable distribution."},"rndseed":{"synopsis":["rndseed ival"],"short_desc":"Sets the global rndseed value."},"round":{"synopsis":["round(x) (init-, control-, or audio-rate arg allowed)","round(k/i[]) (k- or i-arrays )"],"short_desc":"Returns the integer value nearest to x ; if the fractional part of x is exactly 0.5, the direction of rounding is undefined and may depend on the host operating system and Csound version."},"rspline":{"synopsis":["ares rspline xrangeMin, xrangeMax, kcpsMin, kcpsMax","kres rspline krangeMin, krangeMax, kcpsMin, kcpsMax"],"short_desc":"Generate random spline curves."},"rtclock":{"synopsis":["ires rtclock","kres rtclock"],"short_desc":"Read the real time clock from the operating system."},"s16b14":{"synopsis":["i1,...,i16 s16b14 ichan, ictlno_msb1, ictlno_lsb1, imin1, imax1, initvalue1, ifn1,..., ictlno_msb16, ictlno_lsb16, imin16, imax16, initvalue16, ifn16","k1,...,k16 s16b14 ichan, ictlno_msb1, ictlno_lsb1, imin1, imax1, initvalue1, ifn1,..., ictlno_msb16, ictlno_lsb16, imin16, imax16, initvalue16, ifn16"],"short_desc":"Creates a bank of 16 different 14-bit MIDI control message numbers."},"s32b14":{"synopsis":["i1,...,i32 s32b14 ichan, ictlno_msb1, ictlno_lsb1, imin1, imax1, initvalue1, ifn1,..., ictlno_msb32, ictlno_lsb32, imin32, imax32, initvalue32, ifn32","k1,...,k32 s32b14 ichan, ictlno_msb1, ictlno_lsb1, imin1, imax1, initvalue1, ifn1,..., ictlno_msb32, ictlno_lsb32, imin32, imax32, initvalue32, ifn32"],"short_desc":"Creates a bank of 32 different 14-bit MIDI control message numbers."},"samphold":{"synopsis":["ares samphold asig, agate [, ival] [, ivstor]","kres samphold ksig, kgate [, ival] [, ivstor]"],"short_desc":"Performs a sample-and-hold operation on its input."},"sandpaper":{"synopsis":["ares sandpaper iamp, idettack [, inum] [, idamp] [, imaxshake]"],"short_desc":"Semi-physical model of a sandpaper sound."},"sc_lag":{"synopsis":["aout sc_lag ain, klagtime [, initialvalue]","kout sc_lag kin, klagtime [, initialvalue]"],"short_desc":"Exponential Lag (DEPRECATED)"},"sc_lagud":{"synopsis":["aout sc_lagud ain, klagup, klagdown [, initialvalue]","kout sc_lagud kin, klagup, klagdown [, initialvalue]"],"short_desc":"Exponential Lag (Deprecated)"},"sc_phasor":{"synopsis":["aindex sc_phasor xtrig, xrate, kstart, kend [, kresetPos] ","kindex sc_phasor xtrig, xrate, kstart, kend [, kresetPos] "],"short_desc":"A resettable linear ramp between two levels (renamed as trigphasor)"},"sc_trig":{"synopsis":["aout sc_trig ain, kdur","kout sc_trig kin, kdur"],"short_desc":"Timed trigger (Replaced by trighold)"},"scale":{"synopsis":["kscl scale kinput, kmax, kmin[, kimax, kimin]"],"short_desc":"Arbitrary signal scaling."},"scale2":{"synopsis":["kscl scale2 kinput, kmin, kmax[, kimin, kimax][ihtime]"],"short_desc":"Arbitrary signal scaling with optional smoothing."},"scalearray":{"synopsis":["scalearray tarray, kmin, kmax[, kleft, kright]"],"short_desc":"Scales the values in a range of a vector (one dimensional array)."},"scanhammer":{"synopsis":["scanhammer isrc, idst, ipos, imult"],"short_desc":"Copies from one table to another with a gain control."},"scanmap":{"synopsis":["kpos, kvel scanmap iscan, kamp, kvamp [, iwhich]"],"short_desc":"Allows the position and velocity of a node in a scanned process to be read."},"scans":{"synopsis":["ares scans kamp, kfreq, ifn, id [, iorder]"],"short_desc":"Generate audio output using scanned synthesis."},"scansmap":{"synopsis":["scansmap kpos, kvel, iscan, kamp, kvamp [, iwhich]"],"short_desc":"Allows the position and velocity of a node in a scanned process to be written."},"scantable":{"synopsis":["aout scantable kamp, kpch, ipos, imass, istiff, idamp, ivel"],"short_desc":"A simpler scanned synthesis implementation."},"scanu":{"synopsis":["scanu init, irate, ifndisplace, ifnmass, ifnmatrix, ifncentr, ifndamp, kmass, kmtrxstiff, kcentr, kdamp, ileft, iright, kpos, kdisplace, ain, idisp, id"],"short_desc":"Compute the waveform and the wavetable for use in scanned synthesis."},"scanu2":{"synopsis":["scanu2 init, irate, ifndisplace, ifnmass, ifnmatrix, ifncentr, ifndamp, kmass, kmtrxstiff, kcentr, kdamp, ileft, iright, kpos, kdisplace, ain, idisp, id"],"short_desc":"Compute the waveform and the wavetable for use in scanned synthesis."},"schedkwhen":{"synopsis":["schedkwhen ktrigger, kmintim, kmaxnum, kinsnum, kwhen, kdur [, ip4] [, ip5] [...]","schedkwhen ktrigger, kmintim, kmaxnum, \\"insname\\", kwhen, kdur [, ip4] [, ip5] [...]"],"short_desc":"Adds a new score event generated by a k-rate trigger."},"schedkwhennamed":{"synopsis":["schedkwhennamed ktrigger, kmintim, kmaxnum, \\"name\\", kwhen, kdur [, ip4] [, ip5] [...]"],"short_desc":"Similar to schedkwhen but uses a named instrument at init-time."},"schedule":{"synopsis":["schedule insnum, iwhen, idur [, ip4] [, ip5] [...]","schedule \\"insname\\", iwhen, idur [, ip4] [, ip5] [...]","schedule iPar[]"],"short_desc":"Adds a new score event."},"schedulek":{"synopsis":["schedulek knsnum, kwhen, kdur [, kp4] [, kp5] [...]","schedulek \\"insname\\", kwhen, kdur [, kp4] [, kp5] [...]","schedule kPar[]"],"short_desc":"Adds a new score event."},"schedwhen":{"synopsis":["schedwhen ktrigger, kinsnum, kwhen, kdur [, ip4] [, ip5] [...]","schedwhen ktrigger, \\"insname\\", kwhen, kdur [, ip4] [, ip5] [...]"],"short_desc":"Adds a new score event."},"scoreline":{"synopsis":["scoreline Sin, ktrig"],"short_desc":"Issues one or more score line events from an instrument."},"scoreline_i":{"synopsis":["scoreline_i Sin"],"short_desc":"Issues one or more score line events from an instrument at i-time."},"seed":{"synopsis":["seed ival"],"short_desc":"Sets the global seed value."},"sekere":{"synopsis":["ares sekere iamp, idettack [, inum] [, idamp] [, imaxshake]"],"short_desc":"Semi-physical model of a sekere sound."},"select":{"synopsis":["aout select a1, a2, aless, aequal, amore"],"short_desc":"Select sample value based on audio-rate comparisons."},"semitone":{"synopsis":["semitone(x)"],"short_desc":"Calculates a factor to raise/lower a frequency by a given amount of semitones."},"sense":{"synopsis":[],"short_desc":"Same as the sensekey opcode."},"sensekey":{"synopsis":["kres[, kkeydown] sensekey"],"short_desc":"Returns the ASCII code of a key that has been pressed."},"seqtime":{"synopsis":["ktrig_out seqtime ktime_unit, kstart, kloop, kinitndx, kfn_times"],"short_desc":"Generates a trigger signal according to the values stored in a table."},"seqtime2":{"synopsis":["ktrig_out seqtime2 ktrig_in, ktime_unit, kstart, kloop, kinitndx, kfn_times"],"short_desc":"Generates a trigger signal according to the values stored in a table."},"sequ":{"synopsis":["kres sequ irhythm[], iinstr[], idata[], kbpm, klen [, kmode] [, kstep] [, kreset] [, kverbose] ","kres sequ irhythm[], iinstr[], idata[][], kbpm, klen [, kmode] [, kstep] [, kreset] [, kverbose] "],"short_desc":"Emulate a hardware sequencer"},"serialBegin":{"synopsis":["iPort serialBegin SPortName [, ibaudRate]"],"short_desc":"Open a serial port."},"serialEnd":{"synopsis":[" serialEnd iPort"],"short_desc":"Close a serial port."},"serialFlush":{"synopsis":[" serialFlush iPort"],"short_desc":"Flush data from a serial port."},"serialPrint":{"synopsis":[" serialPrint iPort"],"short_desc":"Print data from a serial port."},"serialRead":{"synopsis":["kByte serialRead iPort"],"short_desc":"Read data from a serial port."},"serialWrite":{"synopsis":[" serialWrite iPort, iByte"," serialWrite iPort, kByte"," serialWrite iPort, SBytes"],"short_desc":"Write data to a serial port."},"serialWrite_i":{"synopsis":[" serialWrite_i iPort, iByte"," serialWrite_i iPort, SBytes"],"short_desc":"Write data to a serial port."},"setcol":{"synopsis":["i/kout[] setcoli/kin[],i/kcol"],"short_desc":"Sets a given column of a 2-dimensional array from a vector."},"setctrl":{"synopsis":["setctrl inum, ival, itype"],"short_desc":"Configurable slider controls for realtime user input."},"setksmps":{"synopsis":["setksmps iksmps"],"short_desc":"Sets the local ksmps value in an instrument or user-defined opcode block"},"setrow":{"synopsis":["i/kout[] setrow i/kin[],i/krow"],"short_desc":"Sets a given row of a 2-dimensional array from a vector."},"setscorepos":{"synopsis":[" setscorepos ipos"],"short_desc":"Sets the playback position of the current score performance to a given position."},"sfilist":{"synopsis":["sfilist ifilhandle [, Sprintprefix] "],"short_desc":"Prints a list of all instruments of a previously loaded SoundFont2 (SF2) file."},"sfinstr":{"synopsis":["ar1, ar2 sfinstr ivel, inotenum, xamp, xfreq, instrnum, ifilhandle [, iflag] [, ioffset]"],"short_desc":"Plays a SoundFont2 (SF2) sample instrument, generating a stereo sound."},"sfinstr3":{"synopsis":["ar1, ar2 sfinstr3 ivel, inotenum, xamp, xfreq, instrnum, ifilhandle [, iflag] [, ioffset]"],"short_desc":"Plays a SoundFont2 (SF2) sample instrument, generating a stereo sound with cubic interpolation."},"sfinstr3m":{"synopsis":["ares sfinstr3m ivel, inotenum, xamp, xfreq, instrnum, ifilhandle [, iflag] [, ioffset]"],"short_desc":"Plays a SoundFont2 (SF2) sample instrument, generating a mono sound with cubic interpolation."},"sfinstrm":{"synopsis":["ares sfinstrm ivel, inotenum, xamp, xfreq, instrnum, ifilhandle [, iflag] [, ioffset]"],"short_desc":"Plays a SoundFont2 (SF2) sample instrument, generating a mono sound."},"sfload":{"synopsis":["ir sfload \\"filename\\""],"short_desc":"Loads an entire SoundFont2 (SF2) sample file into memory."},"sflooper":{"synopsis":["ar1, ar2 sflooper ivel, inotenum, kamp, kpitch, ipreindex, kloopstart, kloopend, kcrossfade [, istart, imode, ifenv, iskip, iflag] "],"short_desc":"Plays a SoundFont2 (SF2) sample preset, generating a stereo sound, with user-defined time-varying crossfade looping."},"sfpassign":{"synopsis":["sfpassign istartindex, ifilhandle[, imsgs]"],"short_desc":"Assigns all presets of a SoundFont2 (SF2) sample file to a sequence of progressive index numbers."},"sfplay":{"synopsis":["ar1, ar2 sfplay ivel, inotenum, xamp, xfreq, ipreindex [, iflag] [, ioffset] [, ienv]"],"short_desc":"Plays a SoundFont2 (SF2) sample preset, generating a stereo sound."},"sfplay3":{"synopsis":["ar1, ar2 sfplay3 ivel, inotenum, xamp, xfreq, ipreindex [, iflag] [, ioffset] [, ienv]"],"short_desc":"Plays a SoundFont2 (SF2) sample preset, generating a stereo sound with cubic interpolation."},"sfplay3m":{"synopsis":["ares sfplay3m ivel, inotenum, xamp, xfreq, ipreindex [, iflag] [, ioffset] [, ienv]"],"short_desc":"Plays a SoundFont2 (SF2) sample preset, generating a mono sound with cubic interpolation."},"sfplaym":{"synopsis":["ares sfplaym ivel, inotenum, xamp, xfreq, ipreindex [, iflag] [, ioffset] [, ienv]"],"short_desc":"Plays a SoundFont2 (SF2) sample preset, generating a mono sound."},"sfplist":{"synopsis":["sfplist ifilhandle"],"short_desc":"Prints a list of all presets of a SoundFont2 (SF2) sample file."},"sfpreset":{"synopsis":["ir sfpreset iprog, ibank, ifilhandle, ipreindex"],"short_desc":"Assigns an existing preset of a SoundFont2 (SF2) sample file to an index number."},"shaker":{"synopsis":["ares shaker kamp, kfreq, kbeans, kdamp, ktimes [, idecay]"],"short_desc":"Sounds like the shaking of a maraca or similar gourd instrument."},"shiftin":{"synopsis":["kout[] shiftin asig"],"short_desc":"Shifts the contents of an audio variable into a 1-dimensional array."},"shiftout":{"synopsis":["asig shiftout kIn[][, ioff]"],"short_desc":"Shifts the contents of a 1-dimensional array into an audio variable."},"signum":{"synopsis":["signum(x) (no rate restriction)"],"short_desc":"Performs a signum function."},"sin":{"synopsis":["sin(x) (no rate restriction)","sin(k/i[]) (k- or i-arrays )"],"short_desc":"Performs a sine function."},"sinh":{"synopsis":["sinh(x) (no rate restriction)","sinh(k/i[]) (k- or i-arrays )"],"short_desc":"Performs a hyperbolic sine function."},"sininv":{"synopsis":["sininv(x) (no rate restriction)","sininv(k/i[]) (k- or i-arrays)"],"short_desc":"Performs an arcsine function."},"sinsyn":{"synopsis":["asig sinsyn fin, kscal, kmaxtracks, ifn"],"short_desc":"Streaming partial track additive synthesis with cubic phase interpolation"},"skf":{"synopsis":["asig skf asig, xcf, xK[, ihp, istor]"],"short_desc":"Sallen-Key filter."},"sleighbells":{"synopsis":["ares sleighbells kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]"],"short_desc":"Semi-physical model of a sleighbell sound."},"slicearray":{"synopsis":["karray slicearray kinarray, istart, iend [,istride]"],"short_desc":"Take a slice of a vector."},"slider16":{"synopsis":["i1,...,i16 slider16 ichan, ictlnum1, imin1, imax1, init1, ifn1,..., ictlnum16, imin16, imax16, init16, ifn16","k1,...,k16 slider16 ichan, ictlnum1, imin1, imax1, init1, ifn1,..., ictlnum16, imin16, imax16, init16, ifn16"],"short_desc":"Creates a bank of 16 different MIDI control message numbers."},"slider16f":{"synopsis":["k1,...,k16 slider16f ichan, ictlnum1, imin1, imax1, init1, ifn1, icutoff1,..., ictlnum16, imin16, imax16, init16, ifn16, icutoff16"],"short_desc":"Creates a bank of 16 different MIDI control message numbers, filtered before output."},"slider16table":{"synopsis":["kflag slider16table ichan, ioutTable, ioffset, ictlnum1, imin1, imax1, init1, ifn1, .... , ictlnum16, imin16, imax16, init16, ifn16"],"short_desc":"Stores a bank of 16 different MIDI control messages to a table."},"slider16tablef":{"synopsis":["kflag slider16tablef ichan, ioutTable, ioffset, ictlnum1, imin1, imax1, init1, ifn1, icutoff1, .... , ictlnum16, imin16, imax16, init16, ifn16, icutoff16"],"short_desc":"Stores a bank of 16 different MIDI control messages to a table, filtered before output."},"slider32":{"synopsis":["i1,...,i32 slider32 ichan, ictlnum1, imin1, imax1, init1, ifn1,..., ictlnum32, imin32, imax32, init32, ifn32","k1,...,k32 slider32 ichan, ictlnum1, imin1, imax1, init1, ifn1,..., ictlnum32, imin32, imax32, init32, ifn32"],"short_desc":"Creates a bank of 32 different MIDI control message numbers."},"slider32f":{"synopsis":["k1,...,k32 slider32f ichan, ictlnum1, imin1, imax1, init1, ifn1, icutoff1, ..., ictlnum32, imin32, imax32, init32, ifn32, icutoff32"],"short_desc":"Creates a bank of 32 different MIDI control message numbers, filtered before output."},"slider32table":{"synopsis":["kflag slider32table ichan, ioutTable, ioffset, ictlnum1, imin1, imax1, init1, ifn1, .... , ictlnum32, imin32, imax32, init32, ifn32"],"short_desc":"Stores a bank of 32 different MIDI control messages to a table."},"slider32tablef":{"synopsis":["kflag slider32tablef ichan, ioutTable, ioffset, ictlnum1, imin1, imax1, init1, ifn1, icutoff1, .... , ictlnum32, imin32, imax32, init32, ifn32, icutoff32"],"short_desc":"Stores a bank of 32 different MIDI control messages to a table, filtered before output."},"slider64":{"synopsis":["i1,...,i64 slider64 ichan, ictlnum1, imin1, imax1, init1, ifn1,..., ictlnum64, imin64, imax64, init64, ifn64","k1,...,k64 slider64 ichan, ictlnum1, imin1, imax1, init1, ifn1,..., ictlnum64, imin64, imax64, init64, ifn64"],"short_desc":"Creates a bank of 64 different MIDI control message numbers."},"slider64f":{"synopsis":["k1,...,k64 slider64f ichan, ictlnum1, imin1, imax1, init1, ifn1, icutoff1,..., ictlnum64, imin64, imax64, init64, ifn64, icutoff64"],"short_desc":"Creates a bank of 64 different MIDI control message numbers, filtered before output."},"slider64table":{"synopsis":["kflag slider64table ichan, ioutTable, ioffset, ictlnum1, imin1, imax1, init1, ifn1, .... , ictlnum64, imin64, imax64, init64, ifn64"],"short_desc":"Stores a bank of 64 different MIDI control messages to a table."},"slider64tablef":{"synopsis":["kflag slider64tablef ichan, ioutTable, ioffset, ictlnum1, imin1, imax1, init1, ifn1, icutoff1, .... , ictlnum64, imin64, imax64, init64, ifn64, icutoff64"],"short_desc":"Stores a bank of 64 different MIDI control messages to a table, filtered before output."},"slider8":{"synopsis":["i1,...,i8 slider8 ichan, ictlnum1, imin1, imax1, init1, ifn1,..., ictlnum8, imin8, imax8, init8, ifn8","k1,...,k8 slider8 ichan, ictlnum1, imin1, imax1, init1, ifn1,..., ictlnum8, imin8, imax8, init8, ifn8"],"short_desc":"Creates a bank of 8 different MIDI control message numbers."},"slider8f":{"synopsis":["k1,...,k8 slider8f ichan, ictlnum1, imin1, imax1, init1, ifn1, icutoff1, ..., ictlnum8, imin8, imax8, init8, ifn8, icutoff8"],"short_desc":"Creates a bank of 8 different MIDI control message numbers, filtered before output."},"slider8table":{"synopsis":["kflag slider8table ichan, ioutTable, ioffset, ictlnum1, imin1, imax1, init1, ifn1,..., ictlnum8, imin8, imax8, init8, ifn8"],"short_desc":"Stores a bank of 8 different MIDI control messages to a table."},"slider8tablef":{"synopsis":["kflag slider8tablef ichan, ioutTable, ioffset, ictlnum1, imin1, imax1, init1, ifn1, icutoff1, .... , ictlnum8, imin8, imax8, init8, ifn8, icutoff8"],"short_desc":"Stores a bank of 8 different MIDI control messages to a table, filtered before output."},"sliderKawai":{"synopsis":["k1, k2, ...., k16 sliderKawai imin1, imax1, init1, ifn1, imin2, imax2, init2, ifn2, ..., imin16, imax16, init16, ifn16"],"short_desc":"Creates a bank of 16 different MIDI control message numbers from a KAWAI MM-16 midi mixer."},"sndload":{"synopsis":["sndload Sfname[, ifmt[, ichns[, isr[, ibas[, iamp[, istrt [, ilpmod[, ilps[, ilpe]]]]]]]]]"],"short_desc":"Loads a sound file into memory for use by loscilx"},"sndloop":{"synopsis":["asig, krec sndloop ain, kpitch, ktrig, idur, ifad"],"short_desc":"A sound looper with pitch control."},"sndwarp":{"synopsis":["ares [, ac] sndwarp xamp, xtimewarp, xresample, ifn1, ibeg, iwsize, irandw, ioverlap, ifn2, itimemode"],"short_desc":"Reads a mono sound sample from a table and applies time-stretching and/or pitch modification."},"sndwarpst":{"synopsis":["ar1, ar2 [,ac1] [, ac2] sndwarpst xamp, xtimewarp, xresample, ifn1, ibeg, iwsize, irandw, ioverlap, ifn2, itimemode"],"short_desc":"Reads a stereo sound sample from a table and applies time-stretching and/or pitch modification."},"sockrecv":{"synopsis":["asig sockrecv iport, ilength","ksig sockrecv iport, ilength","asigl, asigr sockrecvs iport, ilength","String sockrecv iport, ilength","asig[,kstate] strecv Sipaddr, iport"],"short_desc":"Receives data from other processes using the low-level UDP or TCP protocols"},"socksend":{"synopsis":["socksend asig, Sipaddr, iport, ilength","socksend ksig, Sipaddr, iport, ilength","socksends asigl, asigr, Sipaddr, iport, ilength","stsend asig, Sipaddr, iport"],"short_desc":"Sends data to other processes using the low-level UDP or TCP protocols"},"sorta":{"synopsis":["k/i[]sorta k/i[] (k- or i-arrays )"],"short_desc":"Sorts an array in ascending order."},"sortd":{"synopsis":["k/i[]sortd k/i[] (k- or i-arrays )"],"short_desc":"Sorts an array in descending order."},"soundin":{"synopsis":["ar1[, ar2[, ar3[, ... a24]]] soundin ifilcod [, iskptim] [, iformat] [, iskipinit] [, ibufsize]"],"short_desc":"Reads audio data from an external device or stream."},"soundout":{"synopsis":["soundout asig1, ifilcod [, iformat]"],"short_desc":"Deprecated. Writes audio output to a disk file."},"soundouts":{"synopsis":["soundouts asigl, asigr, ifilcod [, iformat]"],"short_desc":"Deprecated. Writes audio output to a disk file."},"space":{"synopsis":["a1, a2, a3, a4 space asig, ifn, ktime, kreverbsend, kx, ky"],"short_desc":"Distributes an input signal among 4 channels using cartesian coordinates."},"spat3d":{"synopsis":["aW, aX, aY, aZ spat3d ain, kX, kY, kZ, idist, ift, imode, imdel, iovr [, istor]"],"short_desc":"Positions the input sound in a 3D space and allows moving the sound at k-rate."},"spat3di":{"synopsis":["aW, aX, aY, aZ spat3di ain, iX, iY, iZ, idist, ift, imode [, istor]"],"short_desc":"Positions the input sound in a 3D space with the sound source position set at i-time."},"spat3dt":{"synopsis":["spat3dt ioutft, iX, iY, iZ, idist, ift, imode, irlen [, iftnocl]"],"short_desc":"Can be used to render an impulse response for a 3D space at i-time."},"spdist":{"synopsis":["k1 spdist ifn, ktime, kx, ky"],"short_desc":"Calculates distance values from xy coordinates."},"specaddm":{"synopsis":["wsig specaddm wsig1, wsig2 [, imul2]"],"short_desc":"Perform a weighted add of two input spectra."},"specdiff":{"synopsis":["wsig specdiff wsigin"],"short_desc":"Finds the positive difference values between consecutive spectral frames."},"specdisp":{"synopsis":["specdisp wsig, iprd [, iwtflg]"],"short_desc":"Displays the magnitude values of the spectrum."},"specfilt":{"synopsis":["wsig specfilt wsigin, ifhtim"],"short_desc":"Filters each channel of an input spectrum."},"spechist":{"synopsis":["wsig spechist wsigin"],"short_desc":"Accumulates the values of successive spectral frames."},"specptrk":{"synopsis":["koct, kamp specptrk wsig, kvar, ilo, ihi, istr, idbthresh, inptls, irolloff [, iodd] [, iconfs] [, interp] [, ifprd] [, iwtflg]"],"short_desc":"Estimates the pitch of the most prominent complex tone in the spectrum."},"specscal":{"synopsis":["wsig specscal wsigin, ifscale, ifthresh"],"short_desc":"Scales an input spectral datablock with spectral envelopes."},"specsum":{"synopsis":["ksum specsum wsig [, interp]"],"short_desc":"Sums the magnitudes across all channels of the spectrum."},"spectrum":{"synopsis":["wsig spectrum xsig, iprd, iocts, ifrqa [, iq] [, ihann] [, idbout] [, idsprd] [, idsinrs]"],"short_desc":"Generate a constant-Q, exponentially-spaced DFT."},"spf":{"synopsis":["asig spf alp,ahp,abp, xcf, xR[, istor]"],"short_desc":"Steiner-Parker filter."},"splitrig":{"synopsis":["splitrig ktrig, kndx, imaxtics, ifn, kout1 [,kout2,...,koutN]"],"short_desc":"Split a trigger signal"},"sprintf":{"synopsis":["Sdst sprintf Sfmt, xarg1[, xarg2[, ... ]]"],"short_desc":"printf-style formatted output to a string variable."},"sprintfk":{"synopsis":["Sdst sprintfk Sfmt, xarg1[, xarg2[, ... ]]"],"short_desc":"printf-style formatted output to a string variable at k-rate."},"spsend":{"synopsis":["a1, a2, a3, a4 spsend"],"short_desc":"Generates output signals based on a previously defined space opcode."},"sqrt":{"synopsis":["sqrt(x) (no rate restriction)","sqrt(k/i[]) (k- or i-arrays )"],"short_desc":"Returns a square root value."},"squinewave":{"synopsis":["aout [, asyncout] squinewave acps, aClip, aSkew, asyncin [, iMinSweep] [, iphase]","aout [, asyncout] squinewave acps, aClip, aSkew [, ksyncin] [, iMinSweep] [, iphase]"],"short_desc":"A mostly bandlimited shape-shifting square-pulse-saw-sinewave oscillator with hardsync."},"sr":{"synopsis":["sr = iarg"],"short_desc":"Sets the audio sampling rate."},"st2ms":{"synopsis":["am,as st2ms aleft,aright"],"short_desc":"Stereo to Mid-Side Conversion."},"stack":{"synopsis":["stack iStackSize"],"short_desc":"Initializes the stack. Deprecated."},"statevar":{"synopsis":["ahp,alp,abp,abr statevar ain, xcf, xq [, iosamps, istor]"],"short_desc":"State-variable filter."},"sterrain":{"synopsis":["aout sterrain kamp, kcps, kx, ky, krx, kry, krot, ktab0, ktab1, km1, km2, kn1, kn2, kn3, ka, kb, kperiod "],"short_desc":"A wave-terrain synthesis opcode using curves computed with the superformula"},"stix":{"synopsis":["ares stix iamp, idettack [, inum] [, idamp] [, imaxshake]"],"short_desc":"Semi-physical model of a stick sound."},"strcat":{"synopsis":["Sdst strcat Ssrc1, Ssrc2"],"short_desc":"Concatenate strings"},"strcatk":{"synopsis":["Sdst strcatk Ssrc1, Ssrc2"],"short_desc":"Concatenate strings (k-rate)"},"strchar":{"synopsis":["ichr strchar Sstr[, ipos]"],"short_desc":"Return the ASCII code of a character in a string"},"strchark":{"synopsis":["kchr strchark Sstr[, kpos]"],"short_desc":"Return the ASCII code of a character in a string"},"strcmp":{"synopsis":["ires strcmp S1, S2"],"short_desc":"Compare strings"},"strcmpk":{"synopsis":["kres strcmpk S1, S2"],"short_desc":"Compare strings"},"strcpy":{"synopsis":["Sdst strcpy Ssrc","Sdst = Ssrc"],"short_desc":"Assign value to a string variable"},"strcpyk":{"synopsis":["Sdst strcpyk Ssrc"],"short_desc":"Assign value to a string variable (k-rate)"},"streson":{"synopsis":["ares streson asig, kfr, kfdbgain"],"short_desc":"A string resonator with variable fundamental frequency."},"strfromurl":{"synopsis":["Sdst strfromurl StringURL"],"short_desc":"Set string variable to value read from an URL"},"strget":{"synopsis":["Sdst strget indx"],"short_desc":"Set string variable to value from strset table or string p-field"},"strindex":{"synopsis":["ipos strindex S1, S2"],"short_desc":"Return the position of the first occurence of a string in another string"},"strindexk":{"synopsis":["kpos strindexk S1, S2"],"short_desc":"Return the position of the first occurence of a string in another string"},"strlen":{"synopsis":["ilen strlen Sstr"],"short_desc":"Return the length of a string"},"strlenk":{"synopsis":["klen strlenk Sstr"],"short_desc":"Return the length of a string"},"strlower":{"synopsis":["Sdst strlower Ssrc"],"short_desc":"Convert a string to lower case"},"strlowerk":{"synopsis":["Sdst strlowerk Ssrc"],"short_desc":"Convert a string to lower case"},"strrindex":{"synopsis":["ipos strrindex S1, S2"],"short_desc":"Return the position of the last occurence of a string in another string"},"strrindexk":{"synopsis":["kpos strrindexk S1, S2"],"short_desc":"Return the position of the last occurence of a string in another string"},"strset":{"synopsis":["strset iarg, istring"],"short_desc":"Allows a string to be linked with a numeric value."},"strstrip":{"synopsis":["Sout strstrip Sin [, Smode]"],"short_desc":"Strip whitespace from string"},"strsub":{"synopsis":["Sdst strsub Ssrc[, istart[, iend]]"],"short_desc":"Extract a substring"},"strsubk":{"synopsis":["Sdst strsubk Ssrc, kstart, kend"],"short_desc":"Extract a substring"},"strtod":{"synopsis":["ir strtod Sstr","ir strtod indx"],"short_desc":"Converts a string to a float (i-rate)."},"strtodk":{"synopsis":["kr strtodk Sstr","kr strtodk kndx"],"short_desc":"Converts a string to a float (k-rate)."},"strtol":{"synopsis":["ir strtol Sstr","ir strtol indx"],"short_desc":"Converts a string to a signed integer (i-rate)."},"strtolk":{"synopsis":["kr strtolk Sstr","kr strtolk kndx"],"short_desc":"Converts a string to a signed integer (k-rate)."},"strupper":{"synopsis":["Sdst strupper Ssrc"],"short_desc":"Convert a string to upper case"},"strupperk":{"synopsis":["Sdst strupperk Ssrc"],"short_desc":"Convert a string to upper case"},"subinstr":{"synopsis":["a1, [...] [, a8] subinstr instrnum [, p4] [, p5] [...]","a1, [...] [, a8] subinstr \\"insname\\" [, p4] [, p5] [...]"],"short_desc":"Creates and runs a numbered instrument instance."},"subinstrinit":{"synopsis":["subinstrinit instrnum [, p4] [, p5] [...]","subinstrinit \\"insname\\" [, p4] [, p5] [...]"],"short_desc":"Creates and runs a numbered instrument instance at init-time."},"subtracts":{"synopsis":["-a (no rate restriction)","a - b (no rate restriction)"],"short_desc":"Subtraction operator."},"sum":{"synopsis":["ares sum asig1 [, asig2] [, asig3] [...]","kres sum karr","ires sum iarr"],"short_desc":"Sums any number of a-rate signals, or array elements."},"sumarray":{"synopsis":["ksum sumarray karray"],"short_desc":"returns the sum of the elements in an array."},"svfilter":{"synopsis":["alow, ahigh, aband svfilter asig, kcf, kq [, iscl] [, iskip]"],"short_desc":"A resonant second order filter, with simultaneous lowpass, highpass and bandpass outputs."},"svn":{"synopsis":["ahp,alp,abp,abr svn asig, xcf, xQ, kdrive[, ifn,inm,imx, istor]"],"short_desc":"Non-linear state variable filter"},"syncgrain":{"synopsis":["asig syncgrain kamp, kfreq, kpitch, kgrsize, kprate, ifun1, ifun2, iolaps"],"short_desc":"Synchronous granular synthesis."},"syncloop":{"synopsis":["asig syncloop kamp, kfreq, kpitch, kgrsize, kprate, klstart, klend, ifun1, ifun2, iolaps[,istart, iskip]"],"short_desc":"Synchronous granular synthesis."},"syncphasor":{"synopsis":["aphase, asyncout syncphasor xcps, asyncin, [, iphs]"],"short_desc":"Produces a normalized moving phase value with sync input and output."},"system":{"synopsis":["ires system_i itrig, Scmd, [inowait]","kres system ktrig, Scmd, [knowait]"],"short_desc":"Call an external program via the system call"},"tab":{"synopsis":["kr tab kndx, ifn[, ixmode]","ar tab xndx, ifn[, ixmode]"],"short_desc":"Fast table opcode."},"tab2array":{"synopsis":["kout[] tab2array ifn [, kstart, kend, kstep ]","iout[] tab2array ifn [, istart, iend, istep ]"],"short_desc":"Copy a slice from an f-table to an array"},"tab2pvs":{"synopsis":["fsig tab2pvs tvar|karr[][,ihopsize, iwinsize, iwintype]","fsig tab2pvs kmags[], kfreqs[][,ihopsize, iwinsize, iwintype]"],"short_desc":"Copies spectral data from k-rate arrays (or t-variables.). Also known as pvsfromarray."},"tab_i":{"synopsis":["ir tab_i indx, ifn[, ixmode]"],"short_desc":"Fast table opcodes."},"tabifd":{"synopsis":["ffr,fphs tabifd ktimpt, kamp, kpitch, ifftsize, ihopsize, iwintype,ifn"],"short_desc":"Instantaneous Frequency Distribution, magnitude and phase analysis."},"table":{"synopsis":["ares table andx, ifn [, ixmode] [, ixoff] [, iwrap]","ires table indx, ifn [, ixmode] [, ixoff] [, iwrap]","kres table kndx, ifn [, ixmode] [, ixoff] [, iwrap]"],"short_desc":"Accesses table values by direct indexing."},"table3":{"synopsis":["ares table3 andx, ifn [, ixmode] [, ixoff] [, iwrap]","ires table3 indx, ifn [, ixmode] [, ixoff] [, iwrap]","kres table3 kndx, ifn [, ixmode] [, ixoff] [, iwrap]"],"short_desc":"Accesses table values by direct indexing with cubic interpolation."},"tablecopy":{"synopsis":["tablecopy kdft, ksft"],"short_desc":"Simple, fast table copy opcode."},"tablefilter":{"synopsis":["knumpassed tablefilter kouttable, kintatble, kmode, kparam"],"short_desc":"Filters a source table and writes result into a destination table."},"tablefilteri":{"synopsis":["inumpassed tablefilteri iouttable, iintatble, imode, iparam"],"short_desc":"Filters a source table and writes result into a destination table."},"tablegpw":{"synopsis":["tablegpw kfn"],"short_desc":"Writes a table\\\\\'s guard point."},"tablei":{"synopsis":["ares tablei andx, ifn [, ixmode] [, ixoff] [, iwrap]","ires tablei indx, ifn [, ixmode] [, ixoff] [, iwrap]","kres tablei kndx, ifn [, ixmode] [, ixoff] [, iwrap]"],"short_desc":"Accesses table values by direct indexing with linear interpolation."},"tableicopy":{"synopsis":["tableicopy idft, isft"],"short_desc":"Simple, fast table copy opcode."},"tableigpw":{"synopsis":["tableigpw ifn"],"short_desc":"Writes a table\\\\\'s guard point."},"tableikt":{"synopsis":["ares tableikt xndx, kfn [, ixmode] [, ixoff] [, iwrap]","kres tableikt kndx, kfn [, ixmode] [, ixoff] [, iwrap]"],"short_desc":"Provides k-rate control over table numbers."},"tableimix":{"synopsis":["tableimix idft, idoff, ilen, is1ft, is1off, is1g, is2ft, is2off, is2g"],"short_desc":"Mixes two tables."},"tableiw":{"synopsis":["tableiw isig, indx, ifn [, ixmode] [, ixoff] [, iwgmode]"],"short_desc":"Deprecated."},"tablekt":{"synopsis":["ares tablekt xndx, kfn [, ixmode] [, ixoff] [, iwrap]","kres tablekt kndx, kfn [, ixmode] [, ixoff] [, iwrap]"],"short_desc":"Provides k-rate control over table numbers."},"tablemix":{"synopsis":["tablemix kdft, kdoff, klen, ks1ft, ks1off, ks1g, ks2ft, ks2off, ks2g"],"short_desc":"Mixes two tables."},"tableng":{"synopsis":["ires tableng ifn","kres tableng kfn"],"short_desc":"Interrogates a function table for length."},"tablera":{"synopsis":["ares tablera kfn, kstart, koff"],"short_desc":"Reads tables in sequential locations."},"tableseg":{"synopsis":["tableseg ifn1, idur1, ifn2 [, idur2] [, ifn3] [...]"],"short_desc":"Creates a new function table by making linear segments between values in stored function tables."},"tableshuffle":{"synopsis":["tableshuffle ktablenum","tableshufflei itablenum"],"short_desc":"shuffles the content of a function table so that each element of the source table is put into a different random position."},"tablew":{"synopsis":["tablew asig, andx, ifn [, ixmode] [, ixoff] [, iwgmode]","tablew isig, indx, ifn [, ixmode] [, ixoff] [, iwgmode]","tablew ksig, kndx, ifn [, ixmode] [, ixoff] [, iwgmode]"],"short_desc":"Change the contents of existing function tables."},"tablewa":{"synopsis":["kstart tablewa kfn, asig, koff"],"short_desc":"Writes tables in sequential locations."},"tablewkt":{"synopsis":["tablewkt asig, andx, kfn [, ixmode] [, ixoff] [, iwgmode]","tablewkt ksig, kndx, kfn [, ixmode] [, ixoff] [, iwgmode]"],"short_desc":"Change the contents of existing function tables."},"tablexkt":{"synopsis":["ares tablexkt xndx, kfn, kwarp, iwsize [, ixmode] [, ixoff] [, iwrap]"],"short_desc":"Reads function tables with linear, cubic, or sinc interpolation."},"tablexseg":{"synopsis":["tablexseg ifn1, idur1, ifn2 [, idur2] [, ifn3] [...]"],"short_desc":"Creates a new function table by making exponential segments between values in stored function tables."},"tabmorph":{"synopsis":["kout tabmorph kindex, kweightpoint, ktabnum1, ktabnum2, ifn1, ifn2 [, ifn3, ifn4, ...,ifnN]"],"short_desc":"Allow morphing between a set of tables."},"tabmorpha":{"synopsis":["aout tabmorpha aindex, aweightpoint, atabnum1, atabnum2, ifn1, ifn2 [, ifn3, ifn4, ... ifnN]"],"short_desc":"Allow morphing between a set of tables at audio rate with interpolation."},"tabmorphak":{"synopsis":["aout tabmorphak aindex, kweightpoint, ktabnum1, ktabnum2, ifn1, ifn2 [, ifn3, ifn4, ... ifnN]"],"short_desc":"Allow morphing between a set of tables at audio rate with interpolation."},"tabmorphi":{"synopsis":["kout tabmorphi kindex, kweightpoint, ktabnum1, ktabnum2, ifn1, ifn2 [, ifn3, ifn4, ..., ifnN]"],"short_desc":"Allow morphing between a set of tables with interpolation."},"tabplay":{"synopsis":["tabplay ktrig, knumtics, kfn, kout1 [,kout2,..., koutN]"],"short_desc":"Playing-back control signals."},"tabrec":{"synopsis":["tabrec ktrig_start, ktrig_stop, knumtics, kfn, kin1 [,kin2,...,kinN]"],"short_desc":"Recording of control signals."},"tabsum":{"synopsis":["kr tabsum ifn[[, kmin] [, kmax]]"],"short_desc":"Adding values in a range of a table."},"tabw":{"synopsis":[],"short_desc":"Fast table opcodes."},"tabw_i":{"synopsis":["tabw_i isig, indx, ifn [,ixmode]"],"short_desc":"Fast table opcodes."},"tambourine":{"synopsis":["ares tambourine kamp, idettack [, inum] [, idamp] [, imaxshake] [, ifreq] [, ifreq1] [, ifreq2]"],"short_desc":"Semi-physical model of a tambourine sound."},"tan":{"synopsis":["tan(x) (no rate restriction)","tan(k/i[]) (k- or i-arrays )"],"short_desc":"Performs a tangent function."},"tanh":{"synopsis":["tanh(x) (no rate restriction)","tanh(k/i[]) (k- or i-arrays )"],"short_desc":"Performs a hyperbolic tangent function."},"taninv":{"synopsis":["taninv(x) (no rate restriction)","taninv(k/i[]) (k- or i-arrays )"],"short_desc":"Performs an arctangent function."},"taninv2":{"synopsis":["ares taninv2 ay, ax","ires taninv2 iy, ix","kres taninv2 ky, kx","...taninv2(ky, kx)... (no rate restriction)"],"short_desc":"Returns an arctangent."},"tb":{"synopsis":["tb0_init ifn","tb1_init ifn","tb2_init ifn","tb3_init ifn","tb4_init ifn","tb5_init ifn","tb6_init ifn","tb7_init ifn","tb8_init ifn","tb9_init ifn","tb10_init ifn","tb11_init ifn","tb12_init ifn","tb13_init ifn","tb14_init ifn","tb15_init ifn","iout = tb0(iIndex)","kout = tb0(kIndex)","iout = tb1(iIndex)","kout = tb1(kIndex)","iout = tb2(iIndex)","kout = tb2(kIndex)","iout = tb3(iIndex)","kout = tb3(kIndex)","iout = tb4(iIndex)","kout = tb4(kIndex)","iout = tb5(iIndex)","kout = tb5(kIndex)","iout = tb6(iIndex)","kout = tb6(kIndex)","iout = tb7(iIndex)","kout = tb7(kIndex)","iout = tb8(iIndex)","kout = tb8(kIndex)","iout = tb9(iIndex)","kout = tb9(kIndex)","iout = tb10(iIndex)","kout = tb10(kIndex)","iout = tb11(iIndex)","kout = tb11(kIndex)","iout = tb12(iIndex)","kout = tb12(kIndex)","iout = tb13(iIndex)","kout = tb13(kIndex)","iout = tb14(iIndex)","kout = tb14(kIndex)","iout = tb15(iIndex)","kout = tb15(kIndex)"],"short_desc":"Table Read Access inside expressions."},"tbvcf":{"synopsis":["ares tbvcf asig, xfco, xres, kdist, kasym [, iskip]"],"short_desc":"Models some of the filter characteristics of a Roland TB303 voltage-controlled filter."},"tempest":{"synopsis":["ktemp tempest kin, iprd, imindur, imemdur, ihp, ithresh, ihtim, ixfdbak, istartempo, ifn [, idisprd] [, itweek]"],"short_desc":"Estimate the tempo of beat patterns in a control signal."},"tempo":{"synopsis":["tempo ktempo, istartempo"],"short_desc":"Apply tempo control to an uninterpreted score."},"temposcal":{"synopsis":["asig temposcal ktimescal, kamp, kpitch, ktab, klock [,ifftsize, idecim, ithresh] "],"short_desc":"Phase-locked vocoder processing with onset detection/processing, \\\\\'tempo-scaling\\\\\'."},"tempoval":{"synopsis":["kres tempoval"],"short_desc":"Reads the current value of the tempo."},"tigoto":{"synopsis":["tigoto label"],"short_desc":"Transfer control at i-time when a new note is being tied onto a previously held note"},"timedseq":{"synopsis":["ktrig timedseq ktimpnt, ifn, kp1 [,kp2, kp3, ...,kpN]"],"short_desc":"Time Variant Sequencer"},"timeinstk":{"synopsis":["kres timeinstk"],"short_desc":"Read absolute time in k-rate cycles."},"timeinsts":{"synopsis":["kres timeinsts"],"short_desc":"Read absolute time in seconds."},"timek":{"synopsis":["ires timek","kres timek"],"short_desc":"Read absolute time in k-rate cycles."},"times":{"synopsis":["ires times","kres times"],"short_desc":"Read absolute time in seconds."},"timout":{"synopsis":["timout istrt, idur, label"],"short_desc":"Conditional branch during p-time depending on elapsed note time."},"tival":{"synopsis":["ir tival"],"short_desc":"Puts the value of the instrument\\\\\'s internal tie-in flag into the named i-rate variable."},"tlineto":{"synopsis":["kres tlineto ksig, ktime, ktrig"],"short_desc":"Generate glissandos starting from a control signal."},"tone":{"synopsis":["ares tone asig, khp [, iskip]"],"short_desc":"A first-order recursive low-pass filter with variable frequency response."},"tonek":{"synopsis":["kres tonek ksig, khp [, iskip]"],"short_desc":"A first-order recursive low-pass filter with variable frequency response."},"tonex":{"synopsis":["ares tonex asig, khp [, inumlayer] [, iskip]","ares tonex asig, ahp [, inumlayer] [, iskip]"],"short_desc":"Emulates a stack of filters using the tone opcode."},"tradsyn":{"synopsis":["asig tradsyn fin, kscal, kpitch, kmaxtracks, ifn"],"short_desc":"Streaming partial track additive synthesis"},"trandom":{"synopsis":["kout trandom ktrig, kmin, kmax"],"short_desc":"Generates a controlled pseudo-random number series between min and max values according to a trigger."},"transeg":{"synopsis":["ares transeg ia, idur, itype, ib [, idur2] [, itype] [, ic] ...","kres transeg ia, idur, itype, ib [, idur2] [, itype] [, ic] ..."],"short_desc":"Constructs a user-definable envelope."},"transegb":{"synopsis":["ares transegb ia, itim, itype, ib [, itim2] [, itype] [, ic] ...","kres transegb ia, itim, itype, ib [, itim2] [, itype] [, ic] ..."],"short_desc":"Constructs a user-definable envelope in absolute time."},"transegr":{"synopsis":["ares transegr ia, idur, itype, ib [, idur2] [, itype] [, ic] ...","kres transegr ia, idur, itype, ib [, idur2] [, itype] [, ic] ..."],"short_desc":"Constructs a user-definable envelope with extended release segment."},"trcross":{"synopsis":["fsig trcross fin1, fin2, ksearch, kdepth [, kmode] "],"short_desc":"Streaming partial track cross-synthesis."},"trfilter":{"synopsis":["fsig trfilter fin, kamnt, ifn"],"short_desc":"Streaming partial track filtering."},"trhighest":{"synopsis":["fsig, kfr, kamp trhighest fin1, kscal"],"short_desc":"Extracts the highest-frequency track from a streaming track input signal."},"trigexpseg":{"synopsis":["ares trigexpseg kTrig, ia, idur1, ib [, idur2] [, ic] [...]","kres trigexpseg kTrig, ia, idur1, ib [, idur2] [, ic] [...]"],"short_desc":"Triggers a series of exponential segments between specified points."},"trigger":{"synopsis":["kout trigger ksig, kthreshold, kmode"],"short_desc":"Informs when a krate signal crosses a threshold."},"trighold":{"synopsis":["aout trighold ain, kdur","kout trighold kin, kdur"],"short_desc":"Timed trigger, holds a value for a given time"},"triglinseg":{"synopsis":["ares triglinseg kTrig, ia, idur1, ib [, idur2] [, ic] [...]","kres triglinseg kTrig, ia, idur1, ib [, idur2] [, ic] [...]"],"short_desc":"Triggers a series of line segments between specified points."},"trigphasor":{"synopsis":["aindex trigphasor xtrig, xrate, kstart, kend [, kresetPos] ","kindex trigphasor xtrig, xrate, kstart, kend [, kresetPos] "],"short_desc":"A resettable linear ramp between two levels"},"trigseq":{"synopsis":["trigseq ktrig_in, kstart, kloop, kinitndx, kfn_values, kout1 [, kout2] [...]"],"short_desc":"Accepts a trigger signal as input and outputs a group of values."},"trim":{"synopsis":["trim_i iarray, ilen","trim xarray, klen"],"short_desc":"Adjust size o a one-dimensional array."},"trirand":{"synopsis":["ares trirand krange","ires trirand krange","kres trirand krange"],"short_desc":"Triangular distribution random number generator"},"trlowest":{"synopsis":["fsig, kfr, kamp trlowest fin1, kscal"],"short_desc":"Extracts the lowest-frequency track from a streaming track input signal."},"trmix":{"synopsis":["fsig trmix fin1, fin2 "],"short_desc":"Streaming partial track mixing."},"trscale":{"synopsis":["fsig trscale fin, kpitch[, kgain]"],"short_desc":"Streaming partial track frequency scaling."},"trshift":{"synopsis":["fsig trshift fin, kpshift[, kgain]"],"short_desc":"Streaming partial track frequency scaling."},"trsplit":{"synopsis":["fsiglow, fsighi trsplit fin, ksplit[, kgainlow, kgainhigh]"],"short_desc":"Streaming partial track frequency splitting."},"turnoff":{"synopsis":["turnoff","turnoff inst","turnoff knst"],"short_desc":"Enables an instrument to turn itself off or to turn an instance of another instrument off."},"turnoff2":{"synopsis":["turnoff2 kinsno, kmode, krelease ","turnoff2_i insno, imode, irelease "],"short_desc":"Turn off instance(s) of other instruments at performance time."},"turnoff3":{"synopsis":["turnoff3 kinsno "],"short_desc":"Turn off instance(s) of other instruments at performance time in the queue of scheduled events."},"turnon":{"synopsis":["turnon insnum [, itime]"],"short_desc":"Activate an instrument for an indefinite time."},"tvconv":{"synopsis":["ares tvconv asig1, asig2, xfreez1, xfreez2, iparts, ifils"],"short_desc":"A time-varying convolution (FIR filter) opcode."},"undef":{"synopsis":["#undef NAME"],"short_desc":"Un-defines a macro."},"unirand":{"synopsis":["ares unirand krange","ires unirand krange","kres unirand krange"],"short_desc":"Uniform distribution random number generator (positive values only)."},"until":{"synopsis":["until condition do ... od"],"short_desc":"A syntactic looping construction."},"unwrap":{"synopsis":["kout[] unwrap kin[] "],"short_desc":"Applies a unwrapping operation to an array of phase values."},"upsamp":{"synopsis":["ares upsamp ksig"],"short_desc":"Modify a signal by up-sampling."},"urandom":{"synopsis":["ax urandom [imin, imax]","ix urandom [imin, imax]","kx urandom [imin, imax]"],"short_desc":"truly random opcodes with controllable range."},"urd":{"synopsis":["aout = urd(ktableNum)","iout = urd(itableNum)","kout = urd(ktableNum)"],"short_desc":"A discrete user-defined-distribution random generator that can be used as a function."},"vactrol":{"synopsis":["ares vactrol asig [iup, idown]"],"short_desc":"Envelope follower unit generator."},"vadd":{"synopsis":["vadd ifn, kval, kelements [, kdstoffset] [, kverbose]"],"short_desc":"Adds a scalar value to a vector in a table."},"vadd_i":{"synopsis":["vadd_i ifn, ival, ielements [, idstoffset]"],"short_desc":"Adds a scalar value to a vector in a table."},"vaddv":{"synopsis":["vaddv ifn1, ifn2, kelements [, kdstoffset] [, ksrcoffset] [,kverbose]"],"short_desc":"Performs addition between two vectorial control signals."},"vaddv_i":{"synopsis":["vaddv_i ifn1, ifn2, ielements [, idstoffset] [, isrcoffset]"],"short_desc":"Performs addition between two vectorial control signals at init time."},"vaget":{"synopsis":["kval vaget kndx, avar"],"short_desc":"Access values of the current buffer of an a-rate variable by indexing."},"valpass":{"synopsis":["ares valpass asig, krvt, xlpt, imaxlpt [, iskip] [, insmps]"],"short_desc":"Variably reverberates an input signal with a flat frequency response."},"vaset":{"synopsis":["vaset kval, kndx, avar"],"short_desc":"Write value of into the current buffer of an a-rate variable by index."},"vbap":{"synopsis":["ar1[, ar2...] vbap asig, kazim [, kelev] [, kspread] [, ilayout]","array[] vbap asig, kazim [, kelev] [, kspread] [, ilayout]"],"short_desc":"Distributes an audio signal among many channels."},"vbap16":{"synopsis":["ar1, ..., ar16 vbap16 asig, kazim [, kelev] [, kspread]"],"short_desc":"Distributes an audio signal among 16 channels."},"vbap16move":{"synopsis":["ar1, ..., ar16 vbap16move asig, idur, ispread, ifldnum, ifld1 [, ifld2] [...]"],"short_desc":"Distribute an audio signal among 16 channels with moving virtual sources."},"vbap4":{"synopsis":["ar1, ar2, ar3, ar4 vbap4 asig, kazim [, kelev] [, kspread]"],"short_desc":"Distributes an audio signal among 4 channels."},"vbap4move":{"synopsis":["ar1, ar2, ar3, ar4 vbap4move asig, idur, ispread, ifldnum, ifld1 [, ifld2] [...]"],"short_desc":"Distributes an audio signal among 4 channels with moving virtual sources."},"vbap8":{"synopsis":["ar1, ..., ar8 vbap8 asig, kazim [, kelev] [, kspread]"],"short_desc":"Distributes an audio signal among 8 channels."},"vbap8move":{"synopsis":["ar1, ..., ar8 vbap8move asig, idur, ispread, ifldnum, ifld1 [, ifld2] [...]"],"short_desc":"Distributes an audio signal among 8 channels with moving virtual sources."},"vbapg":{"synopsis":["k1[, k2...] vbapg kazim [,kelev] [, kspread] [, ilayout]","karray[] vbapg kazim [,kelev] [, kspread] [, ilayout]"],"short_desc":"Calculates the gains for a sound location between multiple channels."},"vbapgmove":{"synopsis":["kr1[, kr2...] vbapgmove idur, ispread, ifldnum, ifld1 [, ifld2] [...]","karray[] vbapgmove idur, ispread, ifldnum, ifld1 [, ifld2] [...]"],"short_desc":"Calculates the gains for a sound location between multiple channels with moving virtual sources."},"vbaplsinit":{"synopsis":["vbaplsinit idim, ilsnum [, idir1] [, idir2] [...] [, idir32]","vbaplsinit idim, ilsnum, ilsarray"],"short_desc":"Configures VBAP output according to loudspeaker parameters."},"vbapmove":{"synopsis":["ar1[, ar2...] vbapmove asig, idur, ispread, ifldnum, ifld1 [, ifld2] [...]","aarray[] vbapmove asig, idur, ispread, ifldnum, ifld1 [, ifld2] [...]"],"short_desc":"Distributes an audio signal among many channels with moving virtual sources."},"vbapz":{"synopsis":["vbapz inumchnls, istartndx, asig, kazim [, kelev] [, kspread]"],"short_desc":"Writes a multi-channel audio signal to a ZAK array."},"vbapzmove":{"synopsis":["vbapzmove inumchnls, istartndx, asig, idur, ispread, ifldnum, ifld1, ifld2, [...]"],"short_desc":"Writes a multi-channel audio signal to a ZAK array with moving virtual sources."},"vcella":{"synopsis":["vcella ktrig, kreinit, ioutFunc, initStateFunc, iRuleFunc, ielements, irulelen [, iradius]"],"short_desc":"Cellular Automata"},"vclpf":{"synopsis":["asig vclpf ain, xcf, xres[, istor]"],"short_desc":"Resonant 4pole linear lowpass filter"},"vco":{"synopsis":["ares vco xamp, xcps, iwave, kpw [, ifn] [, imaxd] [, ileak] [, inyx] [, iphs] [, iskip]"],"short_desc":"Implementation of a band limited, analog modeled oscillator."},"vco2":{"synopsis":["ares vco2 kamp, kcps [, imode] [, kpw] [, kphs] [, inyx]"],"short_desc":"Implementation of a band-limited oscillator using pre-calculated tables."},"vco2ft":{"synopsis":["kfn vco2ft kcps, iwave [, inyx]"],"short_desc":"Returns a table number at k-time for a given oscillator frequency and wavform."},"vco2ift":{"synopsis":["ifn vco2ift icps, iwave [, inyx]"],"short_desc":"Returns a table number at i-time for a given oscillator frequency and wavform."},"vco2init":{"synopsis":["ifn vco2init iwave [, ibasfn] [, ipmul] [, iminsiz] [, imaxsiz] [, isrcft]"],"short_desc":"Calculates tables for use by vco2 opcode."},"vcomb":{"synopsis":["ares vcomb asig, krvt, xlpt, imaxlpt [, iskip] [, insmps]"],"short_desc":"Variably reverberates an input signal with a colored frequency response."},"vcopy":{"synopsis":["vcopy ifn1, ifn2, kelements [, kdstoffset] [, ksrcoffset] [, kverbose]"],"short_desc":"Copies between two vectorial control signals"},"vcopy_i":{"synopsis":["vcopy_i ifn1, ifn2, ielements [,idstoffset, isrcoffset]"],"short_desc":"Copies a vector from one table to another."},"vdelay":{"synopsis":["ares vdelay asig, adel, imaxdel [, iskip]"],"short_desc":"An interpolating variable time delay."},"vdelay3":{"synopsis":["ares vdelay3 asig, adel, imaxdel [, iskip]"],"short_desc":"A variable time delay with cubic interpolation."},"vdelayk":{"synopsis":["kout vdelayk ksig, kdel, imaxdel [, iskip, imode]"],"short_desc":"k-rate variable time delay."},"vdelayx":{"synopsis":["aout vdelayx ain, adl, imd, iws [, ist]"],"short_desc":"A variable delay opcode with high quality interpolation."},"vdelayxq":{"synopsis":["aout1, aout2, aout3, aout4 vdelayxq ain1, ain2, ain3, ain4, adl, imd, iws [, ist]"],"short_desc":"A 4-channel variable delay opcode with high quality interpolation."},"vdelayxs":{"synopsis":["aout1, aout2 vdelayxs ain1, ain2, adl, imd, iws [, ist]"],"short_desc":"A stereo variable delay opcode with high quality interpolation."},"vdelayxw":{"synopsis":["aout vdelayxw ain, adl, imd, iws [, ist]"],"short_desc":"Variable delay opcodes with high quality interpolation."},"vdelayxwq":{"synopsis":["aout1, aout2, aout3, aout4 vdelayxwq ain1, ain2, ain3, ain4, adl, imd, iws [, ist]"],"short_desc":"Variable delay opcodes with high quality interpolation."},"vdelayxws":{"synopsis":["aout1, aout2 vdelayxws ain1, ain2, adl, imd, iws [, ist]"],"short_desc":"Variable delay opcodes with high quality interpolation."},"vdivv":{"synopsis":["vdivv ifn1, ifn2, kelements [, kdstoffset] [, ksrcoffset] [,kverbose]"],"short_desc":"Performs division between two vectorial control signals"},"vdivv_i":{"synopsis":["vdivv_i ifn1, ifn2, ielements [, idstoffset] [, isrcoffset]"],"short_desc":"Performs division between two vectorial control signals at init time."},"vecdelay":{"synopsis":["vecdelay ifn, ifnIn, ifnDel, ielements, imaxdel [, iskip]"],"short_desc":"Vectorial Control-rate Delay Paths"},"veloc":{"synopsis":["ival veloc [ilow] [, ihigh]"],"short_desc":"Get the velocity from a MIDI event."},"vexp":{"synopsis":["vexp ifn, kval, kelements [, kdstoffset] [, kverbose]"],"short_desc":"Performs power-of operations between a vector and a scalar"},"vexp_i":{"synopsis":["vexp_i ifn, ival, ielements[, idstoffset]"],"short_desc":"Performs power-of operations between a vector and a scalar"},"vexpseg":{"synopsis":["vexpseg ifnout, ielements, ifn1, idur1, ifn2 [, idur2, ifn3 [...]]"],"short_desc":"Vectorial envelope generator"},"vexpv":{"synopsis":["vexpv ifn1, ifn2, kelements [, kdstoffset] [, ksrcoffset] [,kverbose]"],"short_desc":"Performs exponential operations between two vectorial control signals"},"vexpv_i":{"synopsis":["vexpv_i ifn1, ifn2, ielements [, idstoffset] [, isrcoffset]"],"short_desc":"Performs exponential operations between two vectorial control signals at init time."},"vibes":{"synopsis":["ares vibes kamp, kfreq, ihrd, ipos, imp, kvibf, kvamp, ivibfn, idec"],"short_desc":"Physical model related to the striking of a metal block."},"vibr":{"synopsis":["kout vibr kAverageAmp, kAverageFreq, ifn"],"short_desc":"Easier-to-use user-controllable vibrato."},"vibrato":{"synopsis":["kout vibrato kAverageAmp, kAverageFreq, kRandAmountAmp, kRandAmountFreq, kAmpMinRate, kAmpMaxRate, kcpsMinRate, kcpsMaxRate, ifn [, iphs"],"short_desc":"Generates a natural-sounding user-controllable vibrato."},"vincr":{"synopsis":["vincr accum, aincr"],"short_desc":"Accumulates audio signals."},"vlimit":{"synopsis":["vlimit ifn, kmin, kmax, ielements"],"short_desc":"Limiting and Wrapping Vectorial Signals"},"vlinseg":{"synopsis":["vlinseg ifnout, ielements, ifn1, idur1, ifn2 [, idur2, ifn3 [...]]"],"short_desc":"Vectorial envelope generator"},"vlowres":{"synopsis":["ares vlowres asig, kfco, kres, iord, ksep"],"short_desc":"A bank of filters in which the cutoff frequency can be separated under user control."},"vmap":{"synopsis":["vmap ifn1, ifn2, ielements [,idstoffset, isrcoffset]"],"short_desc":"Maps elements from a vector according to indexes contained in another vector."},"vmirror":{"synopsis":["vmirror ifn, kmin, kmax, ielements"],"short_desc":"Limiting and Wrapping Vectorial Signals"},"vmult":{"synopsis":["vmult ifn, kval, kelements [, kdstoffset] [, kverbose]"],"short_desc":"Multiplies a vector in a table by a scalar value."},"vmult_i":{"synopsis":["vmult_i ifn, ival, ielements [, idstoffset]"],"short_desc":"Multiplies a vector in a table by a scalar value."},"vmultv":{"synopsis":["vmultv ifn1, ifn2, kelements [, kdstoffset] [, ksrcoffset] [,kverbose]"],"short_desc":"Performs mutiplication between two vectorial control signals"},"vmultv_i":{"synopsis":["vmultv_i ifn1, ifn2, ielements [, idstoffset] [, isrcoffset]"],"short_desc":"Performs mutiplication between two vectorial control signals at init time."},"voice":{"synopsis":["ares voice kamp, kfreq, kphoneme, kform, kvibf, kvamp, ifn, ivfn"],"short_desc":"An emulation of a human voice."},"vosim":{"synopsis":["ar vosim kamp, kFund, kForm, kDecay, kPulseCount, kPulseFactor, ifn [, iskip]"],"short_desc":"Simple vocal simulation based on glottal pulses with formant characteristics."},"vphaseseg":{"synopsis":["vphaseseg kphase, ioutab, ielems, itab1,idist1,itab2 [,idist2,itab3, ... ,idistN-1,itabN]"],"short_desc":"Allows one-dimensional HVS (Hyper-Vectorial Synthesis)."},"vport":{"synopsis":["vport ifn, khtime, ielements [, ifnInit]"],"short_desc":"Vectorial Control-rate Delay Paths"},"vpow":{"synopsis":["vpow ifn, kval, kelements [, kdstoffset] [, kverbose]"],"short_desc":"Raises each element of a vector to a scalar power."},"vpow_i":{"synopsis":["vpow_i ifn, ival, ielements [, idstoffset]"],"short_desc":"Raises each element of a vector to a scalar power"},"vpowv":{"synopsis":["vpowv ifn1, ifn2, kelements [, kdstoffset] [, ksrcoffset] [,kverbose]"],"short_desc":"Performs power-of operations between two vectorial control signals"},"vpowv_i":{"synopsis":["vpowv_i ifn1, ifn2, ielements [, idstoffset] [, isrcoffset]"],"short_desc":"Performs power-of operations between two vectorial control signals at init time."},"vps":{"synopsis":["avp vps aph,kd,kv"],"short_desc":"Shapes a phase signal according to a two-dimensional vector."},"vpvoc":{"synopsis":["ares vpvoc ktimpnt, kfmod, ifile [, ispecwp] [, ifn]"],"short_desc":"Implements signal reconstruction using an fft-based phase vocoder and an extra envelope."},"vrandh":{"synopsis":["vrandh ifn, krange, kcps, ielements [, idstoffset] [, iseed] [, isize] [, ioffset]"],"short_desc":"Generates a vector of random numbers stored into a table, holding the values for a period of time."},"vrandi":{"synopsis":["vrandi ifn, krange, kcps, ielements [, idstoffset] [, iseed] [, isize] [, ioffset]"],"short_desc":"Generate a sort of \\\\\'vectorial band-limited noise\\\\\'"},"vsubv":{"synopsis":["vsubv ifn1, ifn2, kelements [, kdstoffset] [, ksrcoffset] [,kverbose]"],"short_desc":"Performs subtraction between two vectorial control signals"},"vsubv_i":{"synopsis":["vsubv_i ifn1, ifn2, ielements [, idstoffset] [, isrcoffset]"],"short_desc":"Performs subtraction between two vectorial control signals at init time."},"vtaba":{"synopsis":["vtaba andx, ifn, aout1 [, aout2, aout3, .... , aoutN ]"],"short_desc":"Read vectors (from tables -or arrays of vectors)."},"vtabi":{"synopsis":["vtabi indx, ifn, iout1 [, iout2, iout3, .... , ioutN ]"],"short_desc":"Read vectors (from tables -or arrays of vectors)."},"vtabk":{"synopsis":["vtabk kndx, ifn, kout1 [, kout2, kout3, .... , koutN ]"],"short_desc":"Read vectors (from tables -or arrays of vectors)."},"vtable1k":{"synopsis":["vtable1k kfn,kout1 [, kout2, kout3, .... , koutN ]"],"short_desc":"Read a vector (several scalars simultaneously) from a table."},"vtablea":{"synopsis":["vtablea andx, kfn, kinterp, ixmode, aout1 [, aout2, aout3, .... , aoutN ]"],"short_desc":"Read vectors (from tables -or arrays of vectors)."},"vtablei":{"synopsis":["vtablei indx, ifn, interp, ixmode, iout1 [, iout2, iout3, .... , ioutN ]"],"short_desc":"Read vectors (from tables -or arrays of vectors)."},"vtablek":{"synopsis":["vtablek kndx, kfn, kinterp, ixmode, kout1 [, kout2, kout3, .... , koutN ]"],"short_desc":"Read vectors (from tables -or arrays of vectors)."},"vtablewa":{"synopsis":["vtablewa andx, kfn, ixmode, ainarg1 [, ainarg2, ainarg3 , .... , ainargN ]"],"short_desc":"Write vectors (to tables -or arrays of vectors)."},"vtablewi":{"synopsis":["vtablewi indx, ifn, ixmode, inarg1 [, inarg2, inarg3 , .... , inargN ]"],"short_desc":"Write vectors (to tables -or arrays of vectors)."},"vtablewk":{"synopsis":["vtablewk kndx, kfn, ixmode, kinarg1 [, kinarg2, kinarg3 , .... , kinargN ]"],"short_desc":"Write vectors (to tables -or arrays of vectors)."},"vtabwa":{"synopsis":["vtabwa andx, ifn, ainarg1 [, ainarg2, ainarg3 , .... , ainargN ]"],"short_desc":"Write vectors (to tables -or arrays of vectors)."},"vtabwi":{"synopsis":["vtabwi indx, ifn, inarg1 [, inarg2, inarg3 , .... , inargN ]"],"short_desc":"Write vectors (to tables -or arrays of vectors)."},"vtabwk":{"synopsis":["vtabwk kndx, ifn, kinarg1 [, kinarg2, kinarg3 , .... , kinargN ]"],"short_desc":"Write vectors (to tables -or arrays of vectors)."},"vwrap":{"synopsis":["vwrap ifn, kmin, kmax, ielements"],"short_desc":"Limiting and Wrapping Vectorial Signals"},"waveset":{"synopsis":["ares waveset ain, krep [, ilen]"],"short_desc":"A simple time stretch by repeating cycles."},"websocket":{"synopsis":["xout1[, xout2, xout3, ..., xoutN] websocket iport, xin"],"short_desc":"Read and write signals and arrays using a websocket connection."},"weibull":{"synopsis":["ares weibull ksigma, ktau","ires weibull ksigma, ktau","kres weibull ksigma, ktau"],"short_desc":"Weibull distribution random number generator (positive values only)."},"wgbow":{"synopsis":["ares wgbow kamp, kfreq, kpres, krat, kvibf, kvamp [, ifn] [, iminfreq]"],"short_desc":"Creates a tone similar to a bowed string."},"wgbowedbar":{"synopsis":["ares wgbowedbar kamp, kfreq, kpos, kbowpres, kgain [, iconst] [, itvel] [, ibowpos] [, ilow]"],"short_desc":"A physical model of a bowed bar."},"wgbrass":{"synopsis":["ares wgbrass kamp, kfreq, ktens, iatt, kvibf, kvamp [, ifn] [, iminfreq]"],"short_desc":"Creates a tone related to a brass instrument."},"wgclar":{"synopsis":["ares wgclar kamp, kfreq, kstiff, iatt, idetk, kngain, kvibf, kvamp [, ifn] [, iminfreq]"],"short_desc":"Creates a tone similar to a clarinet."},"wgflute":{"synopsis":["ares wgflute kamp, kfreq, kjet, iatt, idetk, kngain, kvibf, kvamp [, ifn] [, iminfreq] [, ijetrf] [, iendrf]"],"short_desc":"Creates a tone similar to a flute."},"wgpluck":{"synopsis":["ares wgpluck icps, iamp, kpick, iplk, idamp, ifilt, axcite"],"short_desc":"A high fidelity simulation of a plucked string."},"wgpluck2":{"synopsis":["ares wgpluck2 iplk, kamp, icps, kpick, krefl"],"short_desc":"Physical model of the plucked string."},"wguide1":{"synopsis":["ares wguide1 asig, xfreq, kcutoff, kfeedback"],"short_desc":"A simple waveguide model consisting of one delay-line and one first-order lowpass filter."},"wguide2":{"synopsis":["ares wguide2 asig, xfreq1, xfreq2, kcutoff1, kcutoff2, kfeedback1, kfeedback2"],"short_desc":"A model of beaten plate consisting of two parallel delay-lines and two first-order lowpass filters."},"while":{"synopsis":["while condition do ... od"],"short_desc":"A syntactic looping construction."},"wiiconnect":{"synopsis":["ires wiiconnect [itimeout, imaxnum]"],"short_desc":"Reads data from a number of external Nintendo Wiimote controllers."},"wiidata":{"synopsis":["kres wiidata kcontrol[, knum]"],"short_desc":"Reads data fields from a number of external Nintendo Wiimote controllers."},"wiirange":{"synopsis":[" wiirange icontrol, iminimum, imaximum[, inum]"],"short_desc":"Sets scaling and range limits for certain Wiimote fields."},"wiisend":{"synopsis":["kres wiisend kcontrol, kvalue[, knum]"],"short_desc":"Sends data to one of a number of external Nintendo Wiimote controllers."},"window":{"synopsis":["kout[] window kin[][, koff, itype]"],"short_desc":"Applies a window to an array."},"wrap":{"synopsis":["ares wrap asig, klow, khigh","ires wrap isig, ilow, ihigh","kres wrap ksig, klow, khigh"],"short_desc":"Wraps-around the signal that exceeds the low and high thresholds."},"writescratch":{"synopsis":["writescratchival[, index]"],"short_desc":"writes a value into the scratchpad of the instance of an instrument."},"wterrain":{"synopsis":["aout wterrain kamp, kpch, k_xcenter, k_ycenter, k_xradius, k_yradius, itabx, itaby"],"short_desc":"A simple wave-terrain synthesis opcode."},"wterrain2":{"synopsis":["aout wterrain2 kamp, kcps, kx, ky, krx, kry, krot, ktab0, ktab1, kcurve, kcurveparam "],"short_desc":"A wave-terrain synthesis opcode using different curves"},"xadsr":{"synopsis":["ares xadsr iatt, idec, islev, irel [, idel]","kres xadsr iatt, idec, islev, irel [, idel]"],"short_desc":"Calculates the classical ADSR envelope."},"xin":{"synopsis":["xinarg1 [, xinarg2] ... [xinargN] xin"],"short_desc":"Passes variables to a user-defined opcode block,"},"xout":{"synopsis":["xout xoutarg1 [, xoutarg2] ... [, xoutargN]"],"short_desc":"Retrieves variables from a user-defined opcode block,"},"xscanmap":{"synopsis":["kpos, kvel xscanmap iscan, kamp, kvamp [, iwhich]"],"short_desc":"Allows the position and velocity of a node in a scanned process to be read."},"xscans":{"synopsis":["ares xscans kamp, kfreq, ifntraj, id [, iorder]"],"short_desc":"Fast scanned synthesis waveform and the wavetable generator."},"xscansmap":{"synopsis":["xscansmap kpos, kvel, iscan, kamp, kvamp [, iwhich]"],"short_desc":"Allows the position and velocity of a node in a scanned process to be read."},"xscanu":{"synopsis":["xscanu init, irate, ifndisplace, ifnmass, ifnmatrix, ifncentr, ifndamp, kmass, kmtrxstiff, kcentr, kdamp, ileft, iright, kpos, kdisplace, ain, idisp, id"],"short_desc":"Compute the waveform and the wavetable for use in scanned synthesis."},"xtratim":{"synopsis":["xtratim iextradur"],"short_desc":"Extend the duration of real-time generated events."},"xyin":{"synopsis":["kx, ky xyin iprd, ixmin, ixmax, iymin, iymax [, ixinit] [, iyinit]"],"short_desc":"Sense the cursor position in an output window"},"xyscale":{"synopsis":["kout xyscale kx, ky, k00, k10, k01, k11"],"short_desc":"2D linear interpolation"},"zacl":{"synopsis":["zacl kfirst [, klast]"],"short_desc":"Clears one or more variables in the za space."},"zakinit":{"synopsis":["zakinit isizea, isizek"],"short_desc":"Establishes zak space."},"zamod":{"synopsis":["ares zamod asig, kzamod"],"short_desc":"Modulates one a-rate signal by a second one."},"zar":{"synopsis":["ares zar kndx"],"short_desc":"Reads from a location in za space at a-rate."},"zarg":{"synopsis":["ares zarg kndx, kgain"],"short_desc":"Reads from a location in za space at a-rate, adds some gain."},"zaw":{"synopsis":["zaw asig, kndx"],"short_desc":"Writes to a za variable at a-rate without mixing."},"zawm":{"synopsis":["zawm asig, kndx [, imix]"],"short_desc":"Writes to a za variable at a-rate with mixing."},"zdf_1pole":{"synopsis":["asig zdf_1pole ain, xcf [, kmode, istor]"],"short_desc":"Zero-delay feedback implementation of 1 pole filter."},"zdf_1pole_mode":{"synopsis":["alp, ahp zdf_1pole_mode ain, xcf [, istor]"],"short_desc":"Zero-delay feedback implementation of 1 pole filter with multimode output."},"zdf_2pole":{"synopsis":["asig zdf_2pole ain, xcf, xQ [, kmode, istor]"],"short_desc":"Zero-delay feedback implementation of 2 pole filter."},"zdf_2pole_mode":{"synopsis":["alp, abp, ahp zdf_2pole_mode ain, xcf, Q [, istor]"],"short_desc":"Zero-delay feedback implementation of 2 pole filter with multimode output."},"zdf_ladder":{"synopsis":["asig zdf_ladder ain, xcf, xQ [, istor]"],"short_desc":"Zero-delay feedback implementation of 4 pole ladder filter."},"zfilter2":{"synopsis":["ares zfilter2 asig, kdamp, kfreq, iM, iN, ib0, ib1, ..., ibM, ia1,ia2, ..., iaN"],"short_desc":"Performs filtering using a transposed form-II digital filter lattice with radial pole-shearing and angular pole-warping."},"zir":{"synopsis":["ir zir indx"],"short_desc":"Reads from a location in zk space at i-rate."},"ziw":{"synopsis":["ziw isig, indx"],"short_desc":"Writes to a zk variable at i-rate without mixing."},"ziwm":{"synopsis":["ziwm isig, indx [, imix]"],"short_desc":"Writes to a zk variable to an i-rate variable with mixing."},"zkcl":{"synopsis":["zkcl kfirst, klast"],"short_desc":"Clears one or more variables in the zk space."},"zkmod":{"synopsis":["kres zkmod ksig, kzkmod"],"short_desc":"Facilitates the modulation of one signal by another."},"zkr":{"synopsis":["kres zkr kndx"],"short_desc":"Reads from a location in zk space at k-rate."},"zkw":{"synopsis":["zkw kval, kndx"],"short_desc":"Writes to a zk variable at k-rate without mixing."}}'),So=n.t(wo,2),_o=e=>["sr","kr","ksmps","0dbfs","nchnls","nchnls_i"].includes(e),Po="cm-csound-comment",To="cm-csound-global-var",Ro="cm-csound-global-constant",Ao=Ts.mark({attributes:{class:Ro}}),Co="cm-csound-i-rate-var",Qo=Ts.mark({attributes:{class:Co}}),Do=Ts.mark({attributes:{class:[Co,To].join(" ")}}),Mo="cm-csound-opcode",qo=Ts.mark({attributes:{class:Mo}}),Io="cm-csound-a-rate-var",Lo=Ts.mark({attributes:{class:Io}}),zo=Ts.mark({attributes:{class:[Io,To].join(" ")}}),Fo="cm-csound-k-rate-var",$o=Ts.mark({attributes:{class:Fo}}),Eo=Ts.mark({attributes:{class:[Fo,To].join(" ")}}),No="cm-csound-s-rate-var",Bo=Ts.mark({attributes:{class:No}}),Wo=Ts.mark({attributes:{class:[Bo,To].join(" ")}}),Vo="cm-csound-f-rate-var",Xo=Ts.mark({attributes:{class:Vo}}),Zo=Ts.mark({attributes:{class:[Xo,To].join(" ")}}),Go="cm-csound-p-field-var",Yo=Ts.mark({attributes:{class:Go}}),Ko="cm-csound-xml-tag",Ho=Ts.mark({attributes:{class:Ko}}),jo=Ts.mark({attributes:{class:"cm-csound-goto-token"}}),Uo=Ts.mark({attributes:{class:"cm-csound-macro-token"}}),Jo=mr.define(),ea=mr.define(),ta=mr.define(),sa=mr.define(),ia=mr.define(),na=mr.define(),ra=mr.define(),oa=yr({instr:ia,endin:ia,opcode:ia,endop:ia,String:$r.string,LineComment:ra,BlockComment:ra,Opcode:ea,ScoreOperator:ea,init:ea,AmbiguousIdentifier:Jo,XmlCsoundSynthesizerOpen:ta,XmlCsoundSynthesizerClose:ta,XmlCsOptionsOpen:ta,XmlCsOptionsClose:ta,XmlCsInstrumentsOpen:ta,XmlCsInstrumentsClose:ta,XmlCsScoreOpen:ta,XmlCsScoreClose:ta,ArrayBrackets:sa,if:na,do:na,fi:na,while:na,ControlFlowDoToken:na,ControlFlowGotoToken:na,ControlFlowEndToken:na,ControlFlowElseIfToken:na,ControlFlowElseToken:na,"(":sa,")":sa,"[":sa,"]":sa,"{":sa,"}":sa});function aa(e,t){return _o(e)?Ao:"CallbackExpression"===t||So[e.replace(/:.*/,"")]?qo:["XmlOpen","XmlClose"].includes(t)?Ho:/^p\d+$/.test(e)?Yo:e.startsWith("a")?Lo:e.startsWith("k")?$o:e.startsWith("S")?Bo:e.startsWith("ga")?zo:e.startsWith("gk")?Eo:e.startsWith("gS")?Wo:e.startsWith("f")?Xo:e.startsWith("gf")?Zo:/^\$.+/.test(e)?Uo:e.startsWith("gi")?Do:e.endsWith(":")?jo:Qo}function la(e){const t=new rt;for(const{from:s,to:i}of e.visibleRanges)Gr(e.state,i)&&Zr(e.state).iterate({from:s,to:i,enter:s=>{if("AmbiguousIdentifier"===s.name){const i=e.state.doc.slice(s.from,s.to).text[0];if(s.node.parent?.name){const e=aa(i,s.node.parent.name);e&&t.add(s.from,s.to,e)}}}});return t.finish()}const ha=new bt({[`.${To}`]:{fontWeight:600},[`.${Co}`]:{color:"#29A8FF"},[`.${Mo}`]:{color:"#005cc5"},[`.${Ro}`]:{color:"#22863a"},[`.${Io}`]:{color:"#6237FF"},[`.${Fo}`]:{color:"#6C82AB"},[`.${No}`]:{color:"#a11"},[`.${Vo}`]:{color:"#004761"},[`.${Go}`]:{color:"#FF9D0C",fontWeight:600},[`.${Ko}`]:{color:"#22863a"},[`.${jo}`]:{color:"#59648B",fontWeight:600},[`.${Po}`]:{color:"gray"}});bt.mount(document,ha);const ca=function(e,t){let s,i=[uo];return e instanceof lo&&(e.module&&i.push(ir.styleModule.of(e.module)),s=e.themeType),s?i.push(ho.computeN([ir.darkTheme],(t=>t.facet(ir.darkTheme)==("dark"==s)?[e]:[]))):i.push(ho.of(e)),i}(lo.define([{tag:ea,color:"#005cc5",class:`.${Mo}`},{tag:ia,color:"#6f42c1"},{tag:sa,color:"#22863a"},{tag:na,color:"#22863a"},{tag:ta,color:"#22863a",class:Ko},{tag:ra,color:"gray",class:Po},{tag:$r.string,color:"#a11"}],{themeType:"light"})),da='<span style="margin-right: 5px;">, </span>',pa=e=>`<span class="${Po}">// ${e}</span>`,fa=e=>e.replace(/, <\/span>.?$/,"</span>").replace(/,$/,"");class ua{constructor(e,t,s,i,n,r,o,a,l,h=0,c){this.p=e,this.stack=t,this.state=s,this.reducePos=i,this.pos=n,this.score=r,this.buffer=o,this.bufferBase=a,this.curContext=l,this.lookAhead=h,this.parent=c}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,s=0){let i=e.parser.context;return new ua(e,[],t,s,s,0,[],0,i?new ma(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let s=e>>19,i=65535&e,{parser:n}=this.p,r=n.dynamicPrecedence(i);if(r&&(this.score+=r),0==s)return this.pushState(n.getGoto(this.state,i,!0),this.reducePos),i<n.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),void this.reduceContext(i,this.reducePos);let o=this.stack.length-3*(s-1)-(262144&e?6:0),a=o?this.stack[o-2]:this.p.ranges[0].from,l=this.reducePos-a;l>=2e3&&!(null===(t=this.p.parser.nodeSet.types[i])||void 0===t?void 0:t.isAnonymous)&&(a==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=l):this.p.lastBigReductionSize<l&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=a,this.p.lastBigReductionSize=l));let h=o?this.stack[o-1]:0,c=this.bufferBase+this.buffer.length-h;if(i<n.minRepeatTerm||131072&e){let e=n.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,a,e,c+4,!0)}if(262144&e)this.state=this.stack[o];else{let e=this.stack[o-3];this.state=n.getGoto(e,i,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(i,a)}storeNode(e,t,s,i=4,n=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,i=this.buffer.length;if(0==i&&e.parent&&(i=e.bufferBase-e.parent.bufferBase,e=e.parent),i>0&&0==e.buffer[i-4]&&e.buffer[i-1]>-1){if(t==s)return;if(e.buffer[i-2]>=t)return void(e.buffer[i-2]=s)}}if(n&&this.pos!=s){let n=this.buffer.length;if(n>0&&0!=this.buffer[n-4])for(;n>0&&this.buffer[n-2]>s;)this.buffer[n]=this.buffer[n-4],this.buffer[n+1]=this.buffer[n-3],this.buffer[n+2]=this.buffer[n-2],this.buffer[n+3]=this.buffer[n-1],n-=4,i>4&&(i-=4);this.buffer[n]=e,this.buffer[n+1]=t,this.buffer[n+2]=s,this.buffer[n+3]=i}else this.buffer.push(e,t,s,i)}shift(e,t,s){let i=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let n=e,{parser:r}=this.p;(s>this.pos||t<=r.maxNode)&&(this.pos=s,r.stateFlag(n,1)||(this.reducePos=s)),this.pushState(n,i),this.shiftContext(t,i),t<=r.maxNode&&this.buffer.push(t,i,s,4)}else this.pos=s,this.shiftContext(t,i),t<=this.p.parser.maxNode&&this.buffer.push(t,i,s,4)}apply(e,t,s){65536&e?this.reduce(e):this.shift(e,t,s)}useNode(e,t){let s=this.p.reused.length-1;(s<0||this.p.reused[s]!=e)&&(this.p.reused.push(e),s++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(s,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let s=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new ua(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let s=e<=this.p.parser.maxNode;s&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,s?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new ka(this);;){let s=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==s)return!1;if(0==(65536&s))return!0;t.reduce(s)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let s=[];for(let i,n=0;n<t.length;n+=2)(i=t[n+1])!=this.state&&this.p.parser.hasAction(i,e)&&s.push(t[n],i);if(this.stack.length<120)for(let e=0;s.length<8&&e<t.length;e+=2){let i=t[e+1];s.some(((e,t)=>1&t&&e==i))||s.push(t[e],i)}t=s}let s=[];for(let e=0;e<t.length&&s.length<4;e+=2){let i=t[e+1];if(i==this.state)continue;let n=this.split();n.pushState(i,this.pos),n.storeNode(0,n.pos,n.pos,4,!0),n.shiftContext(t[e],this.pos),n.score-=200,s.push(n)}return s}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let s=e>>19,i=65535&e,n=this.stack.length-3*s;if(n<0||t.getGoto(this.stack[n],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new ma(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class ma{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var ga;!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth",e[e.MinBigReduction=2e3]="MinBigReduction"}(ga||(ga={}));class ka{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,s=e>>19;0==s?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(s-1);let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class ya{constructor(e,t,s){this.stack=e,this.pos=t,this.index=s,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new ya(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new ya(this.stack,this.pos,this.index)}}function ba(e,t=Uint16Array){if("string"!=typeof e)return e;let s=null;for(let i=0,n=0;i<e.length;){let r=0;for(;;){let t=e.charCodeAt(i++),s=!1;if(126==t){r=65535;break}t>=92&&t--,t>=34&&t--;let n=t-32;if(n>=46&&(n-=46,s=!0),r+=n,s)break;r*=46}s?s[n++]=r:s=new t(r)}return s}class va{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const xa=new va;class Oa{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=xa,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let s=this.range,i=this.rangeIndex,n=this.pos+e;for(;n<s.from;){if(!i)return null;let e=this.ranges[--i];n-=s.from-e.to,s=e}for(;t<0?n>s.to:n>=s.to;){if(i==this.ranges.length-1)return null;let e=this.ranges[++i];n+=e.from-s.to,s=e}return n}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,s,i=this.chunkOff+e;if(i>=0&&i<this.chunk.length)t=this.pos+e,s=this.chunk.charCodeAt(i);else{let i=this.resolveOffset(e,1);if(null==i)return-1;if(t=i,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)s=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,i=this.range;for(;i.to<=t;)i=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>i.to&&(this.chunk2=this.chunk2.slice(0,i.to-t)),s=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),s}acceptToken(e,t=0){let s=t?this.resolveOffset(t,-1):this.pos;if(null==s||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=s}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=xa,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let s="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(s+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return s}}class wa{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:s}=t.p;!function(e,t,s,i,n,r){let o=0,a=1<<i,{dialect:l}=s.p.parser;e:for(;0!=(a&e[o]);){let s=e[o+1];for(let i=o+3;i<s;i+=2)if((e[i+1]&a)>0){let s=e[i];if(l.allows(s)&&(-1==t.token.value||t.token.value==s||_a(s,t.token.value,n,r))){t.acceptToken(s);break}}let i=t.next,h=0,c=e[o+2];if(!(t.next<0&&c>h&&65535==e[s+3*c-3]&&65535==e[s+3*c-3])){for(;h<c;){let n=h+c>>1,r=s+n+(n<<1),a=e[r],l=e[r+1]||65536;if(i<a)c=n;else{if(!(i>=l)){o=e[r+2],t.advance();continue e}h=n+1}}break}o=e[s+3*c-1]}}(this.data,e,t,this.id,s.data,s.tokenPrecTable)}}function Sa(e,t,s){for(let i,n=t;65535!=(i=e[n]);n++)if(i==s)return n-t;return-1}function _a(e,t,s,i){let n=Sa(s,i,t);return n<0||Sa(s,i,e)<n}wa.prototype.contextual=wa.prototype.fallback=wa.prototype.extend=!1,wa.prototype.fallback=wa.prototype.extend=!1;const Pa="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let Ta=null;var Ra,Aa;function Ca(e,t,s){let i=e.cursor(m.IncludeAnonymous);for(i.moveTo(t);;)if(!(s<0?i.childBefore(t):i.childAfter(t)))for(;;){if((s<0?i.to<t:i.from>t)&&!i.type.isError)return s<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(e.length,Math.max(i.from+1,t+25));if(s<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return s<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}(Ra||(Ra={}));class Qa{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Ca(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Ca(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let s=this.trees[t],i=this.index[t];if(i==s.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let n=s.children[i],r=this.start[t]+s.positions[i];if(r>e)return this.nextStart=r,null;if(n instanceof g){if(r==e){if(r<this.safeFrom)return null;let e=r+n.length;if(e<=this.safeTo){let t=n.prop(h.lookAhead);if(!t||e+t<this.fragment.to)return n}}this.index[t]++,r+n.length>=Math.max(this.safeFrom,e)&&(this.trees.push(n),this.start.push(r),this.index.push(0))}else this.index[t]++,this.nextStart=r+n.length}}}class Da{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new va))}getActions(e){let t=0,s=null,{parser:i}=e.p,{tokenizers:n}=i,r=i.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,a=0;for(let i=0;i<n.length;i++){if(0==(1<<i&r))continue;let l=n[i],h=this.tokens[i];if((!s||l.fallback)&&((l.contextual||h.start!=e.pos||h.mask!=r||h.context!=o)&&(this.updateCachedToken(h,l,e),h.mask=r,h.context=o),h.lookAhead>h.end+25&&(a=Math.max(h.lookAhead,a)),0!=h.value)){let i=t;if(h.extended>-1&&(t=this.addActions(e,h.extended,h.end,t)),t=this.addActions(e,h.value,h.end,t),!l.extend&&(s=h,t>i))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),s||e.pos!=this.stream.end||(s=new va,s.value=e.p.parser.eofTerm,s.start=s.end=e.pos,t=this.addActions(e,s.value,s.end,t)),this.mainToken=s,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new va,{pos:s,p:i}=e;return t.start=s,t.end=Math.min(s+1,i.stream.end),t.value=s==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,s){let i=this.stream.clipPos(s.pos);if(t.token(this.stream.reset(i,e),s),e.value>-1){let{parser:t}=s.p;for(let i=0;i<t.specialized.length;i++)if(t.specialized[i]==e.value){let n=t.specializers[i](this.stream.read(e.start,e.end),s);if(n>=0&&s.p.parser.dialect.allows(n>>1)){0==(1&n)?e.value=n>>1:e.extended=n>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,s,i){for(let t=0;t<i;t+=3)if(this.actions[t]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=s,i}addActions(e,t,s,i){let{state:n}=e,{parser:r}=e.p,{data:o}=r;for(let e=0;e<2;e++)for(let a=r.stateSlot(n,e?2:1);;a+=3){if(65535==o[a]){if(1!=o[a+1]){0==i&&2==o[a+1]&&(i=this.putAction(za(o,a+2),t,s,i));break}a=za(o,a+2)}o[a]==t&&(i=this.putAction(za(o,a+1),t,s,i))}return i}}!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo",e[e.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",e[e.MaxStackCount=12]="MaxStackCount"}(Aa||(Aa={}));class Ma{constructor(e,t,s,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Oa(t,i),this.tokens=new Da(e,this.stream),this.topTerm=e.top[1];let{from:n}=i[0];this.stacks=[ua.start(this,e.top[0],n)],this.fragments=s.length&&this.stream.end-n>4*e.bufferLength?new Qa(s,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,s=this.stacks,i=this.minStackPos,n=this.stacks=[];if(this.bigReductionCount>300&&1==s.length){let[e]=s;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let r=0;r<s.length;r++){let o=s[r];for(;;){if(this.tokens.mainToken=null,o.pos>i)n.push(o);else{if(this.advanceStack(o,n,s))continue;{e||(e=[],t=[]),e.push(o);let s=this.tokens.getMainToken(o);t.push(s.value,s.end)}}break}}if(!n.length){let t=e&&function(e){let t=null;for(let s of e){let e=s.p.stoppedAt;(s.pos==s.p.stream.end||null!=e&&s.pos>e)&&s.p.parser.stateFlag(s.state,2)&&(!t||t.score<s.score)&&(t=s)}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw Pa&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+i);this.recovering||(this.recovering=5)}if(this.recovering&&e){let s=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,n);if(s)return this.stackToTree(s.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(n.length>e)for(n.sort(((e,t)=>t.score-e.score));n.length>e;)n.pop();n.some((e=>e.reducePos>i))&&this.recovering--}else if(n.length>1){e:for(let e=0;e<n.length-1;e++){let t=n[e];for(let s=e+1;s<n.length;s++){let i=n[s];if(t.sameState(i)||t.buffer.length>500&&i.buffer.length>500){if(!((t.score-i.score||t.buffer.length-i.buffer.length)>0)){n.splice(e--,1);continue e}n.splice(s--,1)}}}n.length>12&&n.splice(12,n.length-12)}this.minStackPos=n[0].pos;for(let e=1;e<n.length;e++)n[e].pos<this.minStackPos&&(this.minStackPos=n[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,s){let i=e.pos,{parser:n}=this,r=Pa?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,s=t?e.curContext.hash:0;for(let o=this.fragments.nodeAt(i);o;){let i=this.parser.nodeSet.types[o.type.id]==o.type?n.getGoto(e.state,o.type.id):-1;if(i>-1&&o.length&&(!t||(o.prop(h.contextHash)||0)==s))return e.useNode(o,i),Pa&&console.log(r+this.stackID(e)+` (via reuse of ${n.getName(o.type.id)})`),!0;if(!(o instanceof g)||0==o.children.length||o.positions[0]>0)break;let a=o.children[0];if(!(a instanceof g&&0==o.positions[0]))break;o=a}}let o=n.stateSlot(e.state,4);if(o>0)return e.reduce(o),Pa&&console.log(r+this.stackID(e)+` (via always-reduce ${n.getName(65535&o)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let o=0;o<a.length;){let l=a[o++],h=a[o++],c=a[o++],d=o==a.length||!s,p=d?e:e.split();if(p.apply(l,h,c),Pa&&console.log(r+this.stackID(p)+` (via ${0==(65536&l)?"shift":`reduce of ${n.getName(65535&l)}`} for ${n.getName(h)} @ ${i}${p==e?"":", split"})`),d)return!0;p.pos>i?t.push(p):s.push(p)}return!1}advanceFully(e,t){let s=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>s)return qa(e,t),!0}}runRecovery(e,t,s){let i=null,n=!1;for(let r=0;r<e.length;r++){let o=e[r],a=t[r<<1],l=t[1+(r<<1)],h=Pa?this.stackID(o)+" -> ":"";if(o.deadEnd){if(n)continue;if(n=!0,o.restart(),Pa&&console.log(h+this.stackID(o)+" (restarted)"),this.advanceFully(o,s))continue}let c=o.split(),d=h;for(let e=0;c.forceReduce()&&e<10&&(Pa&&console.log(d+this.stackID(c)+" (via force-reduce)"),!this.advanceFully(c,s));e++)Pa&&(d=this.stackID(c)+" -> ");for(let e of o.recoverByInsert(a))Pa&&console.log(h+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,s);this.stream.end>o.pos?(l==o.pos&&(l++,a=0),o.recoverByDelete(a,l),Pa&&console.log(h+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),qa(o,s)):(!i||i.score<o.score)&&(i=o)}return i}stackToTree(e){return e.close(),g.build({buffer:ya.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Ta||(Ta=new WeakMap)).get(e);return t||Ta.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function qa(e,t){for(let s=0;s<t.length;s++){let i=t[s];if(i.pos==e.pos&&i.sameState(e))return void(t[s].score<e.score&&(t[s]=e))}t.push(e)}class Ia{constructor(e,t,s){this.source=e,this.flags=t,this.disabled=s}allows(e){return!this.disabled||0==this.disabled[e]}}class La extends M{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let s=0;s<e.repeatNodeCount;s++)t.push("");let s=Object.keys(e.topRules).map((t=>e.topRules[t][1])),i=[];for(let e=0;e<t.length;e++)i.push([]);function n(e,t,s){i[e].push([t,t.deserialize(String(s))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=h[e]);for(let s=1;s<t.length;){let i=t[s++];if(i>=0)n(i,e,t[s++]);else{let r=t[s+-i];for(let o=-i;o>0;o--)n(t[s++],e,r);s++}}}this.nodeSet=new p(t.map(((t,n)=>d.define({name:n>=this.minRepeatTerm?void 0:t,id:n,props:i[n],top:s.indexOf(n)>-1,error:0==n,skipped:e.skippedNodes&&e.skippedNodes.indexOf(n)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=o;let r=ba(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let e=0;e<this.specializerSpecs.length;e++)this.specialized[e]=this.specializerSpecs[e].term;this.specializers=this.specializerSpecs.map(Fa),this.states=ba(e.states,Uint32Array),this.data=ba(e.stateData),this.goto=ba(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new wa(r,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,s){let i=new Ma(this,e,t,s);for(let n of this.wrappers)i=n(i,e,t,s);return i}getGoto(e,t,s=!1){let i=this.goto;if(t>=i[0])return-1;for(let n=i[t+1];;){let t=i[n++],r=1&t,o=i[n++];if(r&&s)return o;for(let s=n+(t>>1);n<s;n++)if(i[n]==e)return o;if(r)return-1}}hasAction(e,t){let s=this.data;for(let i=0;i<2;i++)for(let n,r=this.stateSlot(e,i?2:1);;r+=3){if(65535==(n=s[r])){if(1!=s[r+1]){if(2==s[r+1])return za(s,r+2);break}n=s[r=za(s,r+2)]}if(n==t||0==n)return za(s,r+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let s=this.stateSlot(e,1);;s+=3){if(65535==this.data[s]){if(1!=this.data[s+1])return!1;s=za(this.data,s+2)}if(t==za(this.data,s+1))return!0}}nextStates(e){let t=[];for(let s=this.stateSlot(e,1);;s+=3){if(65535==this.data[s]){if(1!=this.data[s+1])break;s=za(this.data,s+2)}if(0==(1&this.data[s+2])){let e=this.data[s+1];t.some(((t,s)=>1&s&&t==e))||t.push(this.data[s],e)}}return t}configure(e){let t=Object.assign(Object.create(La.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let s=this.topRules[e.top];if(!s)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=s}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let s=e.tokenizers.find((e=>e.from==t));return s?s.to:t}))),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map(((s,i)=>{let n=e.specializers.find((e=>e.from==s.external));if(!n)return s;let r=Object.assign(Object.assign({},s),{external:n.to});return t.specializers[i]=Fa(r),r}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),s=t.map((()=>!1));if(e)for(let i of e.split(" ")){let e=t.indexOf(i);e>=0&&(s[e]=!0)}let i=null;for(let e=0;e<t.length;e++)if(!s[e])for(let s,n=this.dialects[t[e]];65535!=(s=this.data[n++]);)(i||(i=new Uint8Array(this.maxTerm+1)))[s]=1;return new Ia(e,s,i)}static deserialize(e){return new La(e)}}function za(e,t){return e[t]|e[t+1]<<16}function Fa(e){if(e.external){let t=e.extend?1:0;return(s,i)=>e.external(s,i)<<1|t}return e.get}const $a={__proto__:null,init:26,do:64,if:74,while:76,until:78,fi:82,instr:92,endin:96,opcode:100,endop:104,struct:108,declare:112},Ea=La.deserialize({version:14,states:">YO]QPOOObQPO'#C`OgQPO'#D|QOQPOOOrQPO,58zOwQPO'#CaO!SQQO'#EQO#cQSO'#EQO#jQPO'#EQOOQO'#Dm'#DmOgQPO,5:hO$bQPO'#DlOOQO,5:h,5:hOOQO1G.f1G.fO$gQPO,58{O$lQPO,58}O$qQPO,5:SOOQO'#Dn'#DnO!SQQO,5:lO$vQPO'#CbOOQO,5:l,5:lO%sQWO'#CfO%}QSO'#ClO&`QSO'#CoO&qQWO'#EaOOQO'#EY'#EYO'cQSO'#CeOOQO'#Dr'#DrO'kQSO'#CuO'rQPO'#CvO%}QSO'#CyO'wQSO'#CyOOQO'#Cx'#CxO%}QSO'#DPOOQO'#EW'#EWOOQO'#Do'#DoO(PQSO'#CdO(WQPO,5:lOOQO'#DQ'#DQO(]QQO'#DZO(`QQO'#D_O(`QQO'#DcO(`QQO'#DeOOQO'#Di'#DiO(eQPO'#EhO#pQPO'#EhOOQO'#Dv'#DvO#jQPO,5:lO(vQPO'#DkOOQO-E7k-E7kOOQO1G0S1G0SO({QPO,5:WOOQO1G.g1G.gOOQO1G.i1G.iOOQO1G/n1G/nOOQO-E7l-E7lOOQO1G0W1G0WO)QQPO,58|O)VQSO,5:tO)^QWO,59XO*eQSO'#CsOOQO,59^,59^O*lQWO,5:tO+sQWO,59WO,pQWO'#EYOOQO,59Z,59ZO&`QSO,59]O&`QSO,59]O&`QSO,59]O-WQSO'#DqO-oQSO,5:{O%}QSO,59`OOQO'#Ch'#ChO&`QSO,59POOQO-E7p-E7pOOQO,59a,59aOOQO,59b,59bO.WQWO,59eOOQO'#C{'#C{OOQO,59e,59eO.lQWO,59kOOQO-E7m-E7mO.sQPO'#DgOOQO'#D]'#D]O.xQPO'#EeO/QQPO,59uO/VQPO,59yO/_QSO,59}O/dQPO,5:POOQO'#Es'#EsO/iQPO'#EsOOQO'#Dw'#DwO/nQPO,5;SOOQO,5;S,5;SO0PQPO'#DxO0bQPO'#DjO0iQPO,5;SOOQO-E7t-E7tO0nQPO,5:VOOQO1G/r1G/rOOQO1G.h1G.hO0sQWO,5:[O1UQWO1G0`O%}QSO'#DpOOQO-E7n-E7nO2]QPO,59_OOQO,59_,59_OOQO1G.x1G.xO2bQSO1G0`OOQO1G.r1G.rO2iQWO,59^O3{QWO1G.wO4VQWO1G.wOOQO1G.w1G.wO4aQWO,5:]OOQO-E7o-E7oO5RQWO1G.zO5dQWO1G.kOOQO1G/P1G/PO5uQPO1G/VO5zQQO1G/VO6PQPO,5:RO6UQQO'#DtO6dQPO,5;PO7dQSO1G/aO7kQ`O1G/eO/_QSO1G/eOOQO'#Cf'#CfO7pQPO'#EfO7{QPO1G/iO/_QSO1G/kOOQO,5;_,5;_OOQO-E7u-E7uOOQO1G0n1G0nO8QQPO,5:dOOQO,5:d,5:dOOQO-E7v-E7vOOQO1G/q1G/qOOQO1G/v1G/vO8cQWO7+%zO9jQPO,5:{OOQO1G.y1G.yO9rQWO7+%zOOQO7+%z7+%zO&`QSO7+$fOOQO7+$V7+$VO:TQSO7+$qOOQO'#DY'#DYO:_QPO7+$qOOQO1G/m1G/mOOQO,5:`,5:`OOQO-E7r-E7rOOQO'#Ds'#DsO:dQSO7+${O:kQPO7+${O:pQPO7+%PO:uQPO7+%PO:zQSO'#DuO;YQPO,5;QOOQO7+%T7+%TO;eQPO7+%VOOQO1G0O1G0OO;jQSO<<IfOOQO<<If<<IfO;qQWO<<HQO:TQSO<<H]OOQO'#DU'#DUOOQO<<H]<<H]OOQO-E7q-E7qO<cQPO<<HgOOQO<<Hg<<HgO<hQ`O<<HkO<mQPO<<HkOOQO,5:a,5:aOOQO-E7s-E7sO<rQPO<<HqO<wQWOAN?QOOQOAN?QAN?QOOQOAN=wAN=wOOQOAN>RAN>RO=YQPOAN>VO=_QSOAN>VO=gQSOAN>]OOQOG24lG24lO=oQSOG23qO/_QSOG23qO=vQPOG23qO/_QSOG23wO={QPOG23wO>QQSOLD)]O>XQPOLD)]O>^QPOLD)]O>QQSOLD)]O>cQPOLD)cOOQOLD)cLD)cO>hQPO!$'LwOOQO!$'Lw!$'LwO>mQPO!$'LwO>rQSO!$'LwO>yQPO!$'L}OOQO!)9Bc!)9BcO?OQSO!)9BcO?VQPO!)9BcOOQO!)9Bi!)9BiO?[QSO!.K7}O?cQPO!.K7}OOQO!.K7}!.K7}O?hQPO!4/-iOOQO!4/-i!4/-iOOQO!9A#T!9A#TO?mQWO'#EaO${QWO'#EYO%}QSO,59]O%}QSO,59]O%}QSO,59]O@RQSO'#DqO@zQWO1G.wOAUQWO1G.wOA`QWO,5:]O%}QSO7+$fOAtQWO<<HQO%}QSO'#CoOBiQWO1G.zO%}QSO,59`",stateData:"C^~OPOSQOS!oOS~O!rPO~O!sSO~O!rTO!wXO!xZO~O!q]O~O!u^O!y_O#Z`O~O!vaO!waO!xcO~OZeO^iObiOdgOkmOnnOroOuvOvvOwvO!OwO!SxO!WyO!YzO!wrO#QfO~O!xWP~P!_O!w}O!x!QO#]{O#^{O#_{O#`{O#a{O#b{O#c{O#d{O#e{O#f{O~O!s!TO~O!q!UO~O!q!VO~O!q!WO~O!u!ZO~O_!`O!}![O#Q!^OZ!|X^!|Xb!|Xd!|X!w!|X#R!|X#S!|X#U!|X#V!|X~O]YX!{YX~P${OZ!bO^iObiOd%uO#QfO~OZ%kO^iObiOdgO#QfO~Od!fO#R!dO#S!eO#U!gO#V!iOZ#TX^#TXb#TX!w#TX#Q#TX~O]!jO!{!jO~O!w!mO~P&`O!w!nO~Op!pOq!pO~O!xWX~P!_O!x!tO~Ob!vO!v!uO~O^!}Ob!{O!w#PO#h!|O#i!|O~O#Z#UO~O!q#VO~O!q#WO~O#O#YO~P%}O!}#ZOZaa^aabaadaa!waa#Qaa#Raa#Saa#Uaa#Vaa#Paapaaqaa{aa#Oaa#Waa~O#P#^O~P%}O!}#`OZ!|a^!|ab!|ad!|a!w!|a#Q!|a#R!|a#S!|a#U!|a#V!|a#P!|ap!|aq!|a{!|a#O!|a#W!|a~Od%nO#P#aO#R%lO#S%mO#V%wO~O_!`O!}![O#Q!^Od!|X#R!|X#S!|X#V!|X#U!|X~O#P!|Xp!|Xq!|X{!|X#O!|X#W!|X~P,UObiOdgOZ!eX^!eX!w!eX#Q!eX#U!eX~O#U!gOZ#Ta^#Tab#Tad#Ta!w#Ta#Q#Ta~Od%nOp!pOq!pO#R%lO#S%mO#V%wO~O{#lO~P.WO!y#mO~O#U#nO!w#XX~O!w#pO~O#Q#rO#U#qO~OZ#sO~O#Q#vO~Ob#wO~O^!}Ob!{O!w#yO#h!|O#i!|O~O^!}Ob!{O!w#{O#h!|O#i!|O~O!w!^X~P#pO!w#yO~O!q#}O~Od%nO#O$OO#R%lO#S%mO#V%wO~O_$POZ!|i^!|ib!|id!|i!w!|i#Q!|i#R!|i#S!|i#U!|i#V!|i#P!|ip!|iq!|i{!|i#O!|i#W!|i~O#P$RO~O#O$TO~P%}O!w#_Odfa#Pfa#Rfa#Sfa#Vfapfaqfa{fa#Ofa#Ufa#Wfa~Od!fOZei^eibei!wei#Qei#Uei#Vei~O#R!dO#S!eO~P3aO#Rei#Sei~P3aOd!fO#R!dO#S!eO#V!iOZ!ea^!eab!ea!w!ea#Q!ea#U!ea~Od%nO#R%lO#S%mO#V%wO#W$UO~Od!fO!w$VO#R!dO#S!eO#V!iO~O!w$WO~O!v$XO~O!q$ZO~Ob$[O!v!uO!w!hX#U!hX~O#U#nO!w#Xa~OZeO^iObiOdgOkmOnnOroOuvOvvOwvO!wrO#QfO~O!Q$`O~P6lO!T$aO~O#U$cO!w#YX#P#YX~O!w$eO~O^!}Ob!{O!w$gO#h!|O#i!|O~O!}$hOZ!|q^!|qb!|qd!|q!w!|q#Q!|q#R!|q#S!|q#U!|q#V!|q#P!|qp!|qq!|q{!|q#O!|q#W!|q~O#U%oO#P#Ta~Od%nO#O$iO#R%lO#S%mO#V%wO~Oy$lOz$lO~P6lO!w$mO~O!Q$oO~P6lO!w$pO~O#U$qO~O#P$rO~OZ#sO!w!iX#U!iX#P!iX~O#U$cO!w#Ya#P#Ya~O#P$uO~O#O$wO~P%}Od!fO#R!dO#S!eOZhy^hybhy!why#Qhy#Uhy#Vhy~O!w$yO~O!T$zO~O#W${O~O#W$|O~Od%nO#O$}O#R%lO#S%mO#V%wO~O!w%OO~OZ#sO#Q%PO~OZ#sO#Q%RO~O!U%UO~P6lO!w%WO~O!w%YO~O!U%ZO~P6lO!w%[O~O#P%]O~O#P%_O~O!w%`O~O!w%aO~O!U%bO~P6lO!w%cO~O!U%eO~P6lO!w%fO~O!U%gO~P6lO!w%hO~O!w%iO~Od%nO#R%lO#S%mO#U%oO#V%wO#P#TX~O#P!eX#U!eX~P%}Od%nO#Pei#Veipeiqei{ei#Oei#Uei#Wei~O#R%lO#S%mO~P@]O#Rei#Sei~P@]Od%nO#R%lO#S%mO#V%wO#P!ea#U!ea~Od%nO#R%lO#S%mO#Phy#Vhyphyqhy{hy#Ohy#Uhy#Why~Od%nO#R%lO#S%mO#V%wO#W%sO~O!o!wPQ#S#Rnrq{z_Zk!{bq~",goto:".c#hPPPP#i#l#p#v#z#}$]P${PPP%O%OP%uP%u%O&m%u#}#}P#}&tP'SPPP#}']PPP'kPPP'q'tP'xP'tPPP'tP'tP(X([(`(h(k(q(w(})T)Z)c)m*O*f*l*r*x+SPPP+YPPP+]PPPPP+aP+qPPPPPP-cPPP-u-xP.XPPPPPPPPPP.]RQOTUQYQdUR!YbTVQYRuVirVt#p$W$_$k%O%T%W%^%a%dhjVt#p$W$_$k%O%T%W%^%a%dY#t!y#r#v%P%RQ$s$cQ%Q${R%S$|R!kj!iiVfglnqt![!^!d!e!f!i!k#Z#`#p$U$W$_$h$k%O%T%W%^%a%d%l%m%n%o%s%u%w!kiVfglnqt![!^!d!e!f!g!i!k#Z#`#p$U$W$_$h$k%O%T%W%^%a%d%l%m%n%o%s%u%wS!_e%kR#b!bipVt#p$W$_$k%O%T%W%^%a%dQ!qoQ#j!oR#k!riqVt#p$W$_$k%O%T%W%^%a%dQ$m$WR$x$kR$Y#lTsVtQ!vwQ!xxQ!yyQ!zzR$[#nR!YuTWQYS|W!PT#Q}#RR#S}QdWR!Y!PQ[QR!SYQYQR!RYQbUR!XbQtVR!stU!]e!b%kR#[!]Q!hhS#g!h$QR$Q%jhlVt#p$W$_$k%O%T%W%^%a%dR!llQ$_#pQ$k$WY$n$_$k%T%^%dQ%T%OQ%^%WR%d%aQ#o!vR$]#oQ$d#tR$t$dQ!PWR#T!PQ#O|S#x#O#zR#z#QQ#R}R#|#RRROTXQYSsVte$^#p$W$_$k%O%T%W%^%a%djhVlt#p$W$_$k%O%T%W%^%a%dQ!afS!cg%uQ!onQ!rqS#X![#ZQ#c!dQ#d!eS#e!f%nQ#f!gQ#h!iQ#i!kQ$S#`Q$j$UQ$v$hQ%j!^Q%p%lQ%q%mQ%r%oQ%t%sR%v%wjkVlt#p$W$_$k%O%T%W%^%a%dR#]!^R!wwQ#u!yQ$b#rQ$f#vQ%V%PR%X%RT!OW!PX!}|#O#Q#z",nodeNames:" BlockComment LineComment CSD XmlCsoundSynthesizerOpen XmlCsOptionsOpen XmlCsOptionsClose XmlCsInstrumentsOpen Orchestra AssignStatement SignalRateIdentifier AmbiguousIdentifier AssignOp init String PropertyIdentifier ParenthesizedExpression BracketedExpression Number UnaryExpression ArithOp BinaryExpression CallbackExpression ArgList ConditionalExpression OpcodeStatement GotoStatement GotoLabel ControlFlowElseStatement ElseStatement ControlFlowElseIfToken ControlFlowDoTokens do ControlFlowDoToken ControlFlowElseToken ControlFlowStatement ConstrolFlowBeginToken if while until ControlFlowEndTokens fi ControlFlowEndToken ControlFlowGotoToken DeclareGotoLabel InstrumentDeclaration instr FunctionName endin UdoDeclaration opcode OpcodeArguments endop StructDeclaration struct DeclareDeclaration declare XmlCsInstrumentsClose XmlCsScoreOpen ScoreOperator FoldableScoreStatement XmlCsScoreClose XmlCsoundSynthesizerClose",maxTerm:117,skippedNodes:[0,1,2],repeatNodeCount:12,tokenData:"#$w~R!lXY%yYZ&U]^&Upq%yqr&ars&nst&itu(fuv&ivw*oxy+Pyz+Uz{+Z{|+c|}+m}!O+r!O!P+|!P!Q/m!Q!R1k!R![4W![!]6O!]!^1S!^!_6T!_!`6j!`!a6r!a!b7P!c!e(f!e!f7U!f!l(f!l!m!+y!m!n!+y!n!q(f!q!r!+y!r!s!+y!s!u(f!u!v!+y!v!x(f!x!y!+y!y!}(f!}#O!.Q#P#Q!/W#Q#R&i#R#S(f#T#U!+y#U#X(f#X#Y!0^#Y#Z(f#Z#[!<l#[#](f#]#^!@O#^#_!+y#_#`!Ew#`#a(f#a#b!H[#b#c!IQ#c#d!Iv#d#e!+y#e#f!LT#f#g!Ly#g#h!Mo#h#i!Ne#i#j(f#j#k# a#k#l(f#l#m#!V#m#n#!{#n#o(f#p#q##q#r#s##|$g$r(f$r$s#$R$s;'S(f;'S;=`*i<%lO(f~&OQ!o~XY%ypq%y~&ZQ!w~YZ&U]^&UW&fP#RW!_!`&iW&nO#SW~&sW^~OY&nZr&nrs']s#O&n#O#P'b#P;'S&n;'S;=`(`<%lO&n~'bO^~~'eRO;'S&n;'S;=`'n;=`O&n~'sX^~OY&nZr&nrs']s#O&n#O#P'b#P;'S&n;'S;=`(`;=`<%l&n<%lO&n~(cP;=`<%l&n^(mX!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f[)_VkStu)t!c!})t#R#S)t#T#o)t$g;'S)t;'S;=`*c<%lO)t[)yWZ[tu)t!Q![)t!c!})t#R#S)t#T#o)t$g;'S)t;'S;=`*c<%lO)t[*fP;=`<%l)t^*lP;=`<%l(f[*tQ#SWvw&i!_!`*z[+PO!{[~+UO#Q~~+ZO#P~[+`P#SW!_!`*z]+jP#hPd[!_!`*z~+rO#U~]+yP#iPd[!_!`*z~,PXtu,l!Q!R.q!R![.|!c!},l#R#S,l#T#o,l$g;'S,l;'S;=`.k<%lO,l~,qX_~tu,l!Q![,l![!]-^!c!},l#R#S,l#T#o,l$g;'S,l;'S;=`.k<%lO,l~-aVtu-v!c!}-v#R#S-v#T#o-v$g;'S-v;'S;=`.e<%lO-v~-{W_~tu-v!Q![-v!c!}-v#R#S-v#T#o-v$g;'S-v;'S;=`.e<%lO-v~.hP;=`<%l-v~.nP;=`<%l,l~.vQb_!Q![.|#W#X/U_/RPb_!Q![.|~/XP#U#V/[~/_P#Y#Z/b~/eP#g#h/h~/mO_~~/rR#SWz{/{!P!Q1S!_!`*z~0OTOz/{z{0_{;'S/{;'S;=`0|<%lO/{~0bVOz/{z{0_{!P/{!P!Q0w!Q;'S/{;'S;=`0|<%lO/{~0|OP~~1PP;=`<%l/{~1XSQ~OY1SZ;'S1S;'S;=`1e<%lO1S~1hP;=`<%l1So1rb!T`b_!O!P.|!Q!R2z!R![4W!l!m4c!m!n4c!q!r4c!r!s4c!u!v4c!x!y4c!}#O4c#P#Q4c#T#U4c#W#X5g#]#^4c#^#_4c#_#`4c#c#d4c#d#e4co3Ra!T`b_!O!P.|!Q!R2z!R![4W!l!m4c!m!n4c!q!r4c!r!s4c!u!v4c!x!y4c!}#O4c#P#Q4c#T#U4c#]#^4c#^#_4c#_#`4c#c#d4c#d#e4c_4]Qb_!O!P.|!Q![4W`4h_!T`!Q!R4c!l!m4c!m!n4c!q!r4c!r!s4c!u!v4c!x!y4c!}#O4c#P#Q4c#T#U4c#]#^4c#^#_4c#_#`4c#c#d4c#d#e4c[5jP#U#V5m[5pP#Y#Z5s[5vP#g#h5y[6OOZ[~6TO#W~_6[R!rP#SW!P!Q6e!^!_&i!_!`&iV6jO!xV[6oP!{[!_!`&iX6yQ!qP#SW!_!`&i!`!a&i~7UO#V~_7]Z!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#g(f#g#h8O#h#o(f$g;'S(f;'S;=`*i<%lO(f_8Va!vQZ[tu(f!Q![(f![!])Y!c!k(f!k!l9[!l!q(f!q!rBr!r!u(f!u!vHr!v!}(f#R#S(f#T#c(f#c#dMO#d#o(f$g;'S(f;'S;=`*i<%lO(f_9cZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#b(f#b#c:U#c#o(f$g;'S(f;'S;=`*i<%lO(f_:]Z!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#g(f#g#h;O#h#o(f$g;'S(f;'S;=`*i<%lO(f_;VZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#h(f#h#i;x#i#o(f$g;'S(f;'S;=`*i<%lO(f_<PZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#f(f#f#g<r#g#o(f$g;'S(f;'S;=`*i<%lO(f_<yZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#i(f#i#j=l#j#o(f$g;'S(f;'S;=`*i<%lO(f_=sZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#a(f#a#b>f#b#o(f$g;'S(f;'S;=`*i<%lO(f_>mZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#X(f#X#Y?`#Y#o(f$g;'S(f;'S;=`*i<%lO(f_?gZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#b(f#b#c@Y#c#o(f$g;'S(f;'S;=`*i<%lO(f_@aZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#h(f#h#iAS#i#o(f$g;'S(f;'S;=`*i<%lO(f_AZZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#g(f#g#hA|#h#o(f$g;'S(f;'S;=`*i<%lO(f_BVX!yP!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f_ByZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#d(f#d#eCl#e#o(f$g;'S(f;'S;=`*i<%lO(f_CsZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#h(f#h#iDf#i#o(f$g;'S(f;'S;=`*i<%lO(f_DmZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#](f#]#^E`#^#o(f$g;'S(f;'S;=`*i<%lO(f_EgZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#c(f#c#dFY#d#o(f$g;'S(f;'S;=`*i<%lO(f_FaZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#b(f#b#cGS#c#o(f$g;'S(f;'S;=`*i<%lO(f_GZZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#g(f#g#hG|#h#o(f$g;'S(f;'S;=`*i<%lO(f_HVX!uP!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f_HyZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#V(f#V#WIl#W#o(f$g;'S(f;'S;=`*i<%lO(f_IsZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#c(f#c#dJf#d#o(f$g;'S(f;'S;=`*i<%lO(f_JmZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#f(f#f#gK`#g#o(f$g;'S(f;'S;=`*i<%lO(f_KgZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#X(f#X#YLY#Y#o(f$g;'S(f;'S;=`*i<%lO(f_LcX#ZP!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f_MVZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#i(f#i#jMx#j#o(f$g;'S(f;'S;=`*i<%lO(f_NPZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#b(f#b#cNr#c#o(f$g;'S(f;'S;=`*i<%lO(f_NyZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#W(f#W#X! l#X#o(f$g;'S(f;'S;=`*i<%lO(f_! sZ!vQZ[tu(f!Q![(f![!])Y!c!u(f!u!v!!f!v!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f_!!mZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#m(f#m#n!#`#n#o(f$g;'S(f;'S;=`*i<%lO(f_!#gZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#b(f#b#c!$Y#c#o(f$g;'S(f;'S;=`*i<%lO(f_!$aZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#h(f#h#i!%S#i#o(f$g;'S(f;'S;=`*i<%lO(f_!%ZZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#[(f#[#]!%|#]#o(f$g;'S(f;'S;=`*i<%lO(f_!&TZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#X(f#X#Y!&v#Y#o(f$g;'S(f;'S;=`*i<%lO(f_!&}Z!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#g(f#g#h!'p#h#o(f$g;'S(f;'S;=`*i<%lO(f_!'wZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#](f#]#^!(j#^#o(f$g;'S(f;'S;=`*i<%lO(f_!(qY!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#n(f#n#o!)a$g;'S(f;'S;=`*i<%lO(f_!)hZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#X(f#X#Y!*Z#Y#o(f$g;'S(f;'S;=`*i<%lO(f_!*bZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#f(f#f#g!+T#g#o(f$g;'S(f;'S;=`*i<%lO(f_!+^X!sP!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(fn!,Sn!T`!vQZ[tu(f!Q!R!+y!R![(f![!])Y!c!l(f!l!m!+y!m!n!+y!n!q(f!q!r!+y!r!s!+y!s!u(f!u!v!+y!v!x(f!x!y!+y!y!}(f!}#O4c#P#Q4c#R#S(f#T#U!+y#U#](f#]#^!+y#^#_!+y#_#`!+y#`#c(f#c#d!+y#d#e!+y#e#o(f$g;'S(f;'S;=`*i<%lO(fh!.X_!}W!T`!Q!R4c!l!m4c!m!n4c!q!r4c!r!s4c!u!v4c!x!y4c!}#O4c#P#Q4c#T#U4c#]#^4c#^#_4c#_#`4c#c#d4c#d#e4cl!/__#O[!T`!Q!R4c!l!m4c!m!n4c!q!r4c!r!s4c!u!v4c!x!y4c!}#O4c#P#Q4c#T#U4c#]#^4c#^#_4c#_#`4c#c#d4c#d#e4c^!0e]!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#`(f#`#a!1^#a#b(f#b#c!5l#c#o(f$g;'S(f;'S;=`*i<%lO(f^!1eZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#g(f#g#h!2W#h#o(f$g;'S(f;'S;=`*i<%lO(f^!2_Z!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#X(f#X#Y!3Q#Y#o(f$g;'S(f;'S;=`*i<%lO(f^!3ZZ!vQrSZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#](f#]#^!3|#^#o(f$g;'S(f;'S;=`*i<%lO(f^!4TZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#Y(f#Y#Z!4v#Z#o(f$g;'S(f;'S;=`*i<%lO(f^!5PX!vQnSZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f^!5sZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#W(f#W#X!6f#X#o(f$g;'S(f;'S;=`*i<%lO(f^!6m]!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#](f#]#^!7f#^#i(f#i#j!9U#j#o(f$g;'S(f;'S;=`*i<%lO(f^!7mZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#Y(f#Y#Z!8`#Z#o(f$g;'S(f;'S;=`*i<%lO(f^!8iX!vQzSZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f^!9]Z!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#b(f#b#c!:O#c#o(f$g;'S(f;'S;=`*i<%lO(f^!:VZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#h(f#h#i!:x#i#o(f$g;'S(f;'S;=`*i<%lO(f^!;PZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#](f#]#^!;r#^#o(f$g;'S(f;'S;=`*i<%lO(f^!;yZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#`(f#`#a!8`#a#o(f$g;'S(f;'S;=`*i<%lO(f^!<sZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#c(f#c#d!=f#d#o(f$g;'S(f;'S;=`*i<%lO(f^!=mZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#h(f#h#i!>`#i#o(f$g;'S(f;'S;=`*i<%lO(f^!>gZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#c(f#c#d!?Y#d#o(f$g;'S(f;'S;=`*i<%lO(f^!?cX!vQ{WZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(fo!@Zr#fP!T`!vQZ[tu(f!Q!R!+y!R![(f![!])Y!c!l(f!l!m!+y!m!n!+y!n!q(f!q!r!+y!r!s!+y!s!u(f!u!v!+y!v!x(f!x!y!+y!y!}(f!}#O4c#P#Q4c#R#S(f#T#U!+y#U#Z(f#Z#[!<l#[#](f#]#^!+y#^#_!+y#_#`!+y#`#c(f#c#d!+y#d#e!+y#e#h(f#h#i!Be#i#o(f$g;'S(f;'S;=`*i<%lO(f^!BlZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#[(f#[#]!C_#]#o(f$g;'S(f;'S;=`*i<%lO(f^!CfZ!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#X(f#X#Y!DX#Y#o(f$g;'S(f;'S;=`*i<%lO(f^!D`Z!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#b(f#b#c!ER#c#o(f$g;'S(f;'S;=`*i<%lO(f^!E[X!vQq[Z[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(fn!FQr!T`!vQZ[tu(f!Q!R!+y!R![(f![!])Y!c!l(f!l!m!+y!m!n!+y!n!q(f!q!r!+y!r!s!+y!s!u(f!u!v!+y!v!x(f!x!y!+y!y!}(f!}#O4c#P#Q4c#R#S(f#T#U!+y#U#Z(f#Z#[!<l#[#](f#]#^!+y#^#_!+y#_#`!+y#`#c(f#c#d!+y#d#e!+y#e#h(f#h#i!Be#i#o(f$g;'S(f;'S;=`*i<%lO(f_!HeX#eP!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f_!IZX#dP!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(fn!JPp!T`!vQZ[tu(f!Q!R!+y!R![(f![!])Y!c!l(f!l!m!+y!m!n!+y!n!q(f!q!r!+y!r!s!+y!s!u(f!u!v!+y!v!x(f!x!y!+y!y!}(f!}#O4c#P#Q4c#R#S(f#T#U!+y#U#W(f#W#X!8`#X#](f#]#^!+y#^#_!+y#_#`!+y#`#c(f#c#d!+y#d#e!+y#e#o(f$g;'S(f;'S;=`*i<%lO(f_!L^X#cP!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f_!MSX#bP!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f_!MxX#aP!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f_!NnZ#`P!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#[(f#[#]!C_#]#o(f$g;'S(f;'S;=`*i<%lO(f_# jX#_P!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f_#!`X#^P!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f_##UX#]P!vQZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f[##vQ#SW!_!`*z#p#q&iW#$RO#RW^#$[X!vQ#RWZ[tu(f!Q![(f![!])Y!c!}(f#R#S(f#T#o(f$g;'S(f;'S;=`*i<%lO(f",tokenizers:[0,1,2,3,4],topRules:{CSD:[0,3]},specialized:[{term:11,get:e=>$a[e]||-1}],tokenPrec:1560}),Na={__proto__:null,init:18,do:56,if:66,while:68,until:70,fi:74,instr:84,endin:88,opcode:92,endop:96,struct:100,declare:104},Ba=La.deserialize({version:14,states:"6nO!aQPOOO#`QPO'#CbO#jQPO'#ChO#{QPO'#CkO$^QPO'#DvOOQO'#Do'#DoO%OQPO'#CaOOQO'#Df'#DfO%WQPO'#CqO%_QPO'#CrO#jQPO'#CuO%dQPO'#CuOOQO'#Ct'#CtO#jQPO'#C{OOQO'#Dm'#DmOOQO'#Dc'#DcO%lQPO'#C`QOQPOOOOQO'#C|'#C|O%sQQO'#DVO%vQQO'#DZO%vQQO'#D_O%vQQO'#DaO%{QPO,5:ZO&SQPO,59TO'ZQPO'#CoOOQO,59Y,59YO'bQPO,5:ZO(iQPO,59SO)fQPO'#DoOOQO,59V,59VO#{QPO,59XO#{QPO,59XO#{QPO,59XO)|QPO'#DeO*eQPO,5:bO#jQPO,59[OOQO'#Cd'#CdO#{QPO,58{OOQO-E7d-E7dOOQO,59],59]OOQO,59^,59^O*|QPO,59aOOQO'#Cw'#CwOOQO,59a,59aO+bQPO,59gOOQO-E7a-E7aOOQO'#DX'#DXO+iQPO'#D|O+qQPO,59qO+vQPO,59uO,OQPO,59yO,TQPO,59{O,YQPO,5:OO,kQPO1G/uO#jQPO'#DdOOQO-E7b-E7bO-rQPO,59ZOOQO,59Z,59ZOOQO1G.t1G.tO-wQPO1G/uOOQO1G.n1G.nO.OQPO,59YO/bQPO1G.sO/lQPO1G.sOOQO1G.s1G.sO/vQPO,5:POOQO-E7c-E7cO0hQPO1G.vO0yQPO1G.gOOQO1G.{1G.{O1[QPO1G/RO1aQQO1G/RO1fQQO'#DhO1tQPO,5:hO2tQPO1G/]O2{QSO1G/aO,OQPO1G/aOOQO'#Cb'#CbO3QQPO'#D}O3]QPO1G/eO,OQPO1G/gOOQO1G/j1G/jO3bQPO7+%aOOQO1G.u1G.uO4iQPO7+%aOOQO7+%a7+%aO#{QPO7+$bOOQO7+$R7+$RO4zQPO7+$mOOQO'#DU'#DUO5UQPO7+$mOOQO,5:S,5:SOOQO-E7f-E7fOOQO'#Dg'#DgO5ZQPO7+$wO5bQPO7+$wO5gQPO7+${O5lQPO7+${O5qQPO'#DiO6PQPO,5:iOOQO7+%P7+%PO6[QPO7+%RO6aQPO<<H{OOQO<<H{<<H{O6hQPO<<G|O4zQPO<<HXOOQO'#DQ'#DQOOQO<<HX<<HXOOQO-E7e-E7eO7YQPO<<HcOOQO<<Hc<<HcO7_QSO<<HgO7dQPO<<HgOOQO,5:T,5:TOOQO-E7g-E7gO7iQPO<<HmO7nQPOAN>gOOQOAN>gAN>gOOQOAN=sAN=sOOQOAN=}AN=}O8PQPOAN>RO8UQPOAN>RO8^QPOAN>XOOQOG24RG24RO8fQPOG23mO,OQPOG23mO8mQPOG23mO,OQPOG23sO8rQPOG23sO8wQPOLD)XO9OQPOLD)XO9TQPOLD)XO8wQPOLD)XO9YQPOLD)_OOQOLD)_LD)_O9_QPO!$'LsOOQO!$'Ls!$'LsO9dQPO!$'LsO9iQPO!$'LsO9pQPO!$'LyOOQO!)9B_!)9B_O9uQPO!)9B_O9|QPO!)9B_OOQO!)9Be!)9BeO:RQPO!.K7yO:YQPO!.K7yOOQO!.K7y!.K7yO:_QPO!4/-eOOQO!4/-e!4/-eOOQO!9A#P!9A#PO!hQPO'#DoO#jQPO,59XO#jQPO,59XO#jQPO,59XO:dQPO'#DeO:nQPO,5:bO;eQPO1G.sO;oQPO1G.sO;yQPO,5:PO#jQPO7+$bO<_QPO<<G|O#jQPO'#CkO=SQPO'#DvO=hQPO1G.vO#jQPO,59[",stateData:">]~OPOSQOS!`OS~OVPOYTO^TO`ROgXOjYOnZOqbOrbOsbOzcO!OdO!SeO!UfO!gQO!l^O~O!^SP~P]OZkO!dgO!giOV!cXY!cX^!cX`!cX!h!cX!i!cX!k!cX!l!cX!m!cX~OXUX!bUX~P!hOVmOYTO^TO`$hO!gQO~OV$]OYTO^TO`RO!gQO~O`qO!hoO!ipO!krO!mtOV!jXY!jX^!jX!g!jX!l!jX~OXuO!buO~O!lxO~P#{O!lyO~Ol{Om{O~O!^SX~P]O^!QO!o!PO~O!e!WO~P#jO!d!XOV]aY]a^]a`]a!g]a!h]a!i]a!k]a!l]a!m]a!f]al]am]aw]a!e]a!n]a~O!f![O~P#jO!d!^OV!caY!ca^!ca`!ca!g!ca!h!ca!i!ca!k!ca!l!ca!m!ca!f!cal!cam!caw!ca!e!ca!n!ca~O`$`O!f!_O!h$^O!i$_O!m$kO~OZkO!dgO!giO`!cX!h!cX!i!cX!m!cX!k!cX~O!f!cXl!cXm!cXw!cX!e!cX!n!cX~P(zO^TO`ROV!XXY!XX!g!XX!k!XX!l!XX~O!krOV!jaY!ja^!ja`!ja!g!ja!l!ja~O`$`Ol{Om{O!h$^O!i$_O!m$kO~Ow!jO~P*|O!k!kO!l!pX~O!l!mO~O!g!oO!k!nO~OV!pO~O!g!sO~O`$`O!e!tO!h$^O!i$_O!m$kO~OZ!uOV!ciY!ci^!ci`!ci!g!ci!h!ci!i!ci!k!ci!l!ci!m!ci!f!cil!cim!ciw!ci!e!ci!n!ci~O!f!vO~O!e!xO~P#jO!l!]O`ba!fba!hba!iba!mbalbambawba!eba!kba!nba~O`qOVaiYai^ai!gai!kai!lai!mai~O!hoO!ipO~P.vO!hai!iai~P.vO`qO!hoO!ipO!mtOV!XaY!Xa^!Xa!g!Xa!k!Xa!l!Xa~O`$`O!h$^O!i$_O!m$kO!n!yO~O`qO!hoO!ipO!l!zO!mtO~O!l!{O~O!o!|O~O^#OO!o!PO!k![X!l![X~O!k!kO!l!pa~OVPOYTO^TO`ROgXOjYOnZOqbOrbOsbO!gQO!l^O~O|#SO~P1|O!P#TO~O!k#VO!l!qX!f!qX~O!l#XO~O!d#ZOV!cqY!cq^!cq`!cq!g!cq!h!cq!i!cq!k!cq!l!cq!m!cq!f!cql!cqm!cqw!cq!e!cq!n!cq~O`$`O!e#[O!h$^O!i$_O!m$kO~Ou#_Ov#_O~P1|O!l#`O~O|#bO~P1|O!l#cO~O!k#dO~O!f#eO~OV!pO!k!]X!l!]X!f!]X~O!k#VO!l!qa!f!qa~O!f#hO~O!e#jO~P#jO`qO!hoO!ipOVdyYdy^dy!gdy!kdy!ldy!mdy~O!l#lO~O!P#mO~O!n#nO~O!n#oO~O`$`O!e#pO!h$^O!i$_O!m$kO~O!l#qO~OV!pO!g#rO~OV!pO!g#tO~O!Q#wO~P1|O!l#yO~O!l#{O~O!Q#|O~P1|O!l#}O~O!f$OO~O!f$QO~O!l$RO~O!l$SO~O!Q$TO~P1|O!l$UO~O!Q$WO~P1|O!l$XO~O!Q$YO~P1|O!l$ZO~O!l$[O~O!f!XX!k!XX~P#jO!k$aO!f!ja~O`$`O!fai!mailaimaiwai!eai!kai!nai~O!h$^O!i$_O~P:vO!hai!iai~P:vO`$`O!h$^O!i$_O!m$kO!f!Xa!k!Xa~O`$`O!h$^O!i$_O!fdy!mdyldymdywdy!edy!kdy!ndy~O`$`O!h$^O!i$_O!k$aO!m$kO!f!jX~O`$`O!h$^O!i$_O!m$kO!n$fO~O!`!lPQ!i!hjnmwvZVg!b^m~",goto:"+g!rPPPP!s!v#UP#tPPP#w#wP$nP$n#w%f$n!v!vP!v%mP%{PPP!v&UPPP&dPPP&j&mP&qP&mPPP&mP&mP'Q'W'`'j'{(c(iPPP(oP)PPPPPPP*qPPPPP+T+WRaOi^O`!m!{#R#^#q#v#y$P$S$VhUO`!m!{#R#^#q#v#y$P$S$VY!q!T!o!s#r#tQ#f#VQ#s#nR#u#oRvU!iTOQRWY]`giopqtv!X!^!m!y!{#R#Z#^#q#v#y$P$S$V$^$_$`$a$f$h$k!kTOQRWY]`giopqrtv!X!^!m!y!{#R#Z#^#q#v#y$P$S$V$^$_$`$a$f$h$kSjP$]R!`mi[O`!m!{#R#^#q#v#y$P$S$VQ|ZQ!hzR!i}i]O`!m!{#R#^#q#v#y$P$S$VQ#`!{R#k#^R!}!jT_O`Q!QcQ!SdQ!TeQ!UfR#O!kQ`OR!O`UhPm$]R!YhQsSS!es$bR$b$ihWO`!m!{#R#^#q#v#y$P$S$VRwWQ#R!mQ#^!{Y#a#R#^#v$P$VQ#v#qQ$P#yR$V$SQ!l!QR#P!lQ#W!qR#g#WS_O`e#Q!m!{#R#^#q#v#y$P$S$VjSOW`!m!{#R#^#q#v#y$P$S$VQlQSnR$hQzYQ}]S!Vg!XQ!aoQ!bpS!cq$`Q!drQ!ftQ!gvQ!w!^Q#]!yQ#i#ZQ$c$^Q$d$_Q$e$aQ$g$fQ$iiR$j$kjVOW`!m!{#R#^#q#v#y$P$S$VR!ZiR!RcQ!r!TQ#U!oQ#Y!sQ#x#rR#z#t",nodeNames:" BlockComment LineComment ORC Orchestra AssignStatement SignalRateIdentifier AmbiguousIdentifier AssignOp init String PropertyIdentifier ParenthesizedExpression BracketedExpression Number UnaryExpression ArithOp BinaryExpression CallbackExpression ArgList ConditionalExpression OpcodeStatement GotoStatement GotoLabel ControlFlowElseStatement ElseStatement ControlFlowElseIfToken ControlFlowDoTokens do ControlFlowDoToken ControlFlowElseToken ControlFlowStatement ConstrolFlowBeginToken if while until ControlFlowEndTokens fi ControlFlowEndToken ControlFlowGotoToken DeclareGotoLabel InstrumentDeclaration instr FunctionName endin UdoDeclaration opcode OpcodeArguments endop StructDeclaration struct DeclareDeclaration declare",maxTerm:79,skippedNodes:[0,1,2],repeatNodeCount:7,tokenData:"!%Y~R!aXY%WYZ%c]^%cpq%Wqr%nrs%{st%vtu'suv%vvw)|xy*^yz*cz{*h{|*p|}*x}!O*p!O!P*}!P!Q.n!Q!R0l!R![3X![!]5P!]!^0T!^!_5U!_!`5a!`!a5i!a!b5t!c!l's!l!m5y!m!n5y!n!q's!q!r5y!r!s5y!s!u's!u!v5y!v!x's!x!y5y!y!}'s!}#O8Q#P#Q9W#Q#R%v#R#S's#T#U5y#U#X's#X#Y:^#Y#Z's#Z#[Fl#[#]'s#]#^JO#^#_5y#_#`JO#`#c's#c#d! u#d#e5y#e#h's#h#iLc#i#o's#p#q!$S#r#s!$_$g$r's$r$s!$d$s;'S's;'S;=`)v<%lO's~%]Q!`~XY%Wpq%W~%hQ!l~YZ%c]^%c~%sP!hP!_!`%v~%{O!i~~&QWY~OY%{Zr%{rs&js#O%{#O#P&o#P;'S%{;'S;=`'m<%lO%{~&oOY~~&rRO;'S%{;'S;=`&{;=`O%{~'QXY~OY%{Zr%{rs&js#O%{#O#P&o#P;'S%{;'S;=`'m;=`<%l%{<%lO%{~'pP;=`<%l%{R'zX!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#o's$g;'S's;'S;=`)v<%lO'sP(lVgPtu)R!c!})R#R#S)R#T#o)R$g;'S)R;'S;=`)p<%lO)RP)WWVPtu)R!Q![)R!c!})R#R#S)R#T#o)R$g;'S)R;'S;=`)p<%lO)RP)sP;=`<%l)RR)yP;=`<%l's~*RQ!i~vw%v!_!`*X~*^O!b~~*cO!g~~*hO!f~~*mP!i~!_!`*X~*uP`~!_!`*X~*}O!k~~+QXtu+m!Q!R-r!R![-}!c!}+m#R#S+m#T#o+m$g;'S+m;'S;=`-l<%lO+m~+rXZ~tu+m!Q![+m![!],_!c!}+m#R#S+m#T#o+m$g;'S+m;'S;=`-l<%lO+m~,bVtu,w!c!},w#R#S,w#T#o,w$g;'S,w;'S;=`-f<%lO,w~,|WZ~tu,w!Q![,w!c!},w#R#S,w#T#o,w$g;'S,w;'S;=`-f<%lO,w~-iP;=`<%l,w~-oP;=`<%l+m~-wQ^R!Q![-}#W#X.VR.SP^R!Q![-}~.YP#U#V.]~.`P#Y#Z.c~.fP#g#h.i~.nOZ~~.sR!i~z{.|!P!Q0T!_!`*X~/PTOz.|z{/`{;'S.|;'S;=`/}<%lO.|~/cVOz.|z{/`{!P.|!P!Q/x!Q;'S.|;'S;=`/}<%lO.|~/}OP~~0QP;=`<%l.|~0YSQ~OY0TZ;'S0T;'S;=`0f<%lO0T~0iP;=`<%l0TV0sb!PS^R!O!P-}!Q!R1{!R![3X!l!m3d!m!n3d!q!r3d!r!s3d!u!v3d!x!y3d!}#O3d#P#Q3d#T#U3d#W#X4h#]#^3d#^#_3d#_#`3d#c#d3d#d#e3dV2Sa!PS^R!O!P-}!Q!R1{!R![3X!l!m3d!m!n3d!q!r3d!r!s3d!u!v3d!x!y3d!}#O3d#P#Q3d#T#U3d#]#^3d#^#_3d#_#`3d#c#d3d#d#e3dR3^Q^R!O!P-}!Q![3XS3i_!PS!Q!R3d!l!m3d!m!n3d!q!r3d!r!s3d!u!v3d!x!y3d!}#O3d#P#Q3d#T#U3d#]#^3d#^#_3d#_#`3d#c#d3d#d#e3dP4kP#U#V4nP4qP#Y#Z4tP4wP#g#h4zP5POVP~5UO!n~~5ZQ!i~!^!_%v!_!`%v~5fP!b~!_!`%v~5nQ!i~!_!`%v!`!a%v~5yO!m~V6Sn!PS!oQVPtu's!Q!R5y!R!['s![!](g!c!l's!l!m5y!m!n5y!n!q's!q!r5y!r!s5y!s!u's!u!v5y!v!x's!x!y5y!y!}'s!}#O3d#P#Q3d#R#S's#T#U5y#U#]'s#]#^5y#^#_5y#_#`5y#`#c's#c#d5y#d#e5y#e#o's$g;'S's;'S;=`)v<%lO'sT8X_!dP!PS!Q!R3d!l!m3d!m!n3d!q!r3d!r!s3d!u!v3d!x!y3d!}#O3d#P#Q3d#T#U3d#]#^3d#^#_3d#_#`3d#c#d3d#d#e3dT9__!eP!PS!Q!R3d!l!m3d!m!n3d!q!r3d!r!s3d!u!v3d!x!y3d!}#O3d#P#Q3d#T#U3d#]#^3d#^#_3d#_#`3d#c#d3d#d#e3dR:e]!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#`'s#`#a;^#a#b's#b#c?l#c#o's$g;'S's;'S;=`)v<%lO'sR;eZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#g's#g#h<W#h#o's$g;'S's;'S;=`)v<%lO'sR<_Z!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#X's#X#Y=Q#Y#o's$g;'S's;'S;=`)v<%lO'sR=ZZ!oQnPVPtu's!Q!['s![!](g!c!}'s#R#S's#T#]'s#]#^=|#^#o's$g;'S's;'S;=`)v<%lO'sR>TZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#Y's#Y#Z>v#Z#o's$g;'S's;'S;=`)v<%lO'sR?PX!oQjPVPtu's!Q!['s![!](g!c!}'s#R#S's#T#o's$g;'S's;'S;=`)v<%lO'sR?sZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#W's#W#X@f#X#o's$g;'S's;'S;=`)v<%lO'sR@m]!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#]'s#]#^Af#^#i's#i#jCU#j#o's$g;'S's;'S;=`)v<%lO'sRAmZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#Y's#Y#ZB`#Z#o's$g;'S's;'S;=`)v<%lO'sRBiX!oQvPVPtu's!Q!['s![!](g!c!}'s#R#S's#T#o's$g;'S's;'S;=`)v<%lO'sRC]Z!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#b's#b#cDO#c#o's$g;'S's;'S;=`)v<%lO'sRDVZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#h's#h#iDx#i#o's$g;'S's;'S;=`)v<%lO'sREPZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#]'s#]#^Er#^#o's$g;'S's;'S;=`)v<%lO'sREyZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#`'s#`#aB`#a#o's$g;'S's;'S;=`)v<%lO'sRFsZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#c's#c#dGf#d#o's$g;'S's;'S;=`)v<%lO'sRGmZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#h's#h#iH`#i#o's$g;'S's;'S;=`)v<%lO'sRHgZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#c's#c#dIY#d#o's$g;'S's;'S;=`)v<%lO'sRIcX!oQwPVPtu's!Q!['s![!](g!c!}'s#R#S's#T#o's$g;'S's;'S;=`)v<%lO'sVJXr!PS!oQVPtu's!Q!R5y!R!['s![!](g!c!l's!l!m5y!m!n5y!n!q's!q!r5y!r!s5y!s!u's!u!v5y!v!x's!x!y5y!y!}'s!}#O3d#P#Q3d#R#S's#T#U5y#U#Z's#Z#[Fl#[#]'s#]#^5y#^#_5y#_#`5y#`#c's#c#d5y#d#e5y#e#h's#h#iLc#i#o's$g;'S's;'S;=`)v<%lO'sRLjZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#['s#[#]M]#]#o's$g;'S's;'S;=`)v<%lO'sRMdZ!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#X's#X#YNV#Y#o's$g;'S's;'S;=`)v<%lO'sRN^Z!oQVPtu's!Q!['s![!](g!c!}'s#R#S's#T#b's#b#c! P#c#o's$g;'S's;'S;=`)v<%lO'sR! YX!oQmPVPtu's!Q!['s![!](g!c!}'s#R#S's#T#o's$g;'S's;'S;=`)v<%lO'sV!!Op!PS!oQVPtu's!Q!R5y!R!['s![!](g!c!l's!l!m5y!m!n5y!n!q's!q!r5y!r!s5y!s!u's!u!v5y!v!x's!x!y5y!y!}'s!}#O3d#P#Q3d#R#S's#T#U5y#U#W's#W#XB`#X#]'s#]#^5y#^#_5y#_#`5y#`#c's#c#d5y#d#e5y#e#o's$g;'S's;'S;=`)v<%lO's~!$XQ!i~!_!`*X#p#q%vP!$dO!hPR!$mX!oQ!hPVPtu's!Q!['s![!](g!c!}'s#R#S's#T#o's$g;'S's;'S;=`)v<%lO's",tokenizers:[0,1,2],topRules:{ORC:[0,3]},specialized:[{term:7,get:e=>Na[e]||-1}],tokenPrec:1329}),Wa=La.deserialize({version:14,states:"#xO]QPOOOOQO'#C`'#C`O!QQPO'#CjO!cQPO'#CjOOQO'#Cd'#CdQ]QPOOOOQO'#Cu'#CuO#TQPO'#CuOOQO'#Ce'#CeO#YQPO,59UOOQO,59U,59UO#kQPO'#CfO#|QPO'#CcO#fQPO,59UOOQO-E6b-E6bOOQO,59a,59aOOQO-E6c-E6cOOQO1G.p1G.pO$TQPO,59QOOQO,59Q,59QOOQO-E6d-E6dOOQO1G.l1G.l",stateData:"$m~OPOSQOS]OS~O_PO`POaPObPOcPOdPOePOfPOgPOhPOlRO~OTUOUWOjVOkVOlYO~O_PO`POaPObPOcPOdPOePOfPOgPOhPO~OT_O~OTUOUWOjVOkVOlaO~OTUOUWOjVOkVOlcO~OlVX~P!cOTUOUWOjVOkVOleO~O]lPQTP~",goto:"!hjPPPPkPPsv|!WPPP!^PPPPPPPPPP!bSQOTTZR[R]RQTOR^TQXQS`XbRbZQ[RRd[TSOTXWQXZb",nodeNames:" BlockComment LineComment SCORE ScoreOperator Number String FoldableScoreStatement",maxTerm:28,skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"(d~ReXY!dYZ!o]^!opq!drs!z{|$r}!O$w!O!P$|!P!Q%[!Q!['T!]!^&l#]#^'`#a#b'e#b#c'j#e#f'o#f#g't#g#h'y#h#i(O#j#k(T#l#m(Y#m#n(_~!iQ]~XY!dpq!d~!tQl~YZ!o]^!o~#PWU~OY!zZr!zrs#is#O!z#O#P#n#P;'S!z;'S;=`$l<%lO!z~#nOU~~#qRO;'S!z;'S;=`#z;=`O!z~$PXU~OY!zZr!zrs#is#O!z#O#P#n#P;'S!z;'S;=`$l;=`<%l!z<%lO!z~$oP;=`<%l!z~$wOj~~$|Ok~~%PP!Q![%S~%XPT~!Q![%S~%_Qz{%e!P!Q&l~%hTOz%ez{%w{;'S%e;'S;=`&f<%lO%e~%zVOz%ez{%w{!P%e!P!Q&a!Q;'S%e;'S;=`&f<%lO%e~&fOP~~&iP;=`<%l%e~&qSQ~OY&lZ;'S&l;'S;=`&}<%lO&l~'QP;=`<%l&l~'YQT~!O!P%S!Q!['T~'eOh~~'jOg~~'oOf~~'tOe~~'yOd~~(OOc~~(TOb~~(YOa~~(_O`~~(dO_~",tokenizers:[0],topRules:{SCORE:[0,3]},tokenPrec:160}),Va=Js.fromClass(class{view;constructor(e){this.view=e}get decorations(){return la(this.view)}},{decorations:({view:e})=>la(e)}),Xa=e=>{const t=document.createElement("div");return{dom:t,destroy(){t.remove()},update(s){if(s.heightChanged||s.selectionSet){if(e.lineBlockAt(e.state.selection.main.to).length<2)return void(t.innerHTML="");const s=Zr(e.state).cursorAt(e.state.selection.main.head),{token:i,explicitRate:n}=((e,t)=>{const s=t.node;let i=s,n=t.node;for(;i&&"ArgList"!==i.type.name;)n=i?.node?.parent??i.node,i=i.node.parent;if(i&&"CallbackExpression"===i.node?.parent?.type.name){const t=e.state.doc.slice(i.node.parent.from,i.node.parent.to),s=t.text[0].replace(/\(.*/,"");return{token:s.replace(/:.*/,""),explicitRate:s.indexOf(":")>-1?s.replace(/.*:/,"").replace(/ /g,""):void 0,statement:t,treeNode:n.node.parent?.node??null}}let r=s,o=s;for(;r&&"OpcodeStatement"!==r.type.name;)o=r?.node?.parent??r.node,r=r.node.parent;if(r){const t=e.state.doc.slice(r.from,r.to);return{token:t.text[0].split(/\s/).reduce((({cand:e,stop:t,lastComma:s},i)=>t?{cand:e,stop:t,lastComma:s}:i.includes(",")?{cand:void 0,stop:!1,lastComma:!0}:s?{cand:void 0,stop:!1,lastComma:!1}:void 0!==So[i]?{cand:i,stop:!0,lastComma:!0}:{cand:e,stop:!1,lastComma:!1}),{cand:void 0,stop:!1,lastComma:!1}).cand,statement:t,treeNode:o}}return{}})(e,s),r=i&&So[i];if(Boolean(r)&&Array.isArray(r.synopsis)&&r.synopsis.length>0){let e=!1,o=!1,a=s.node.parent;for(;!o&&a;)["CallbackExpression","ArgList"].includes(a.type.name||"")?(e=!0,o=!0):"OpcodeStatement"===a.type.name&&(e=!1,o=!0),a=a.parent;let l=r.synopsis[0];if(n&&Array.isArray(r.synopsis))for(const e of r.synopsis)e.startsWith(n)&&(l=e);t.innerHTML=((e,t,s)=>{let i="";const n=e.indexOf(")"),r=s&&n<0;let o="";const a=(n>0?e.substring(0,n+1):e).replaceAll("[]",";ARRAY;").replace(/[,\[\]\.]/g," ").replaceAll("("," (").replace(/\s\s+/g," ").replaceAll(";ARRAY;","[]").split(" ");for(const e of a)e&&(e===t?r?(o='<span style="margin: 0 6px"></span>'+pa(`returns ${fa(i)}`),i=`<span class="${Mo}" style="font-weight: 700;">${e}</span>(`):i=`${l=i,l.replace(/, <\/span>.?$/," </span>").replace(/,$/,"")} <span class="${Mo}" style="font-weight: 700; margin-right: 3px;">${e}</span>`:i=e.startsWith("a")?`${i} <span class="${Io}">${e}</span>${da}`:e.startsWith("k")?`${i} <span class="${Fo}">${e}</span>${da}`:e.startsWith('"')||e.startsWith("S")?`${i} <span class="${No}">${e}</span>${da}`:e.startsWith("i")?`${i} <span class="${Co}">${e}</span>${da}`:`${i} ${e}${da}`);var l;const h=n>0&&e.substring(n+1);return`<p style="margin: 0; padding: 0; margin-left: 2px;">${fa(i)}${r?")":""}${h?pa(h):""}${o}</p>`})(l,i,e)}else t.innerHTML=""}}}},Za=()=>pr.of(Xa);function Ga(e){let t=e.firstChild;t?.nextSibling&&(t=t.nextSibling);const s=e.lastChild;return t&&t.to<s.from?{from:t.to,to:s.type.isError?e.to:s.from}:null}const Ya=Xr.define({parser:Ea.configure({props:[oa,ro.add({InstrumentDeclaration:e=>e.column(e.node.from)+e.unit,UdoDeclaration:e=>e.column(e.node.from)+e.unit,ControlFlowStatement:e=>e.column(e.node.from)+e.unit}),oo.add({InstrumentDeclaration:Ga,UdoDeclaration:Ga,FoldableScoreStatement:ao})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"']},commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}}),Ka=Xr.define({parser:Ba.configure({props:[oa,ro.add({InstrumentDeclaration:e=>e.column(e.node.from)+e.unit,UdoDeclaration:e=>e.column(e.node.from)+e.unit,ControlFlowStatement:e=>e.column(e.node.from)+e.unit}),oo.add({InstrumentDeclaration:Ga,UdoDeclaration:Ga})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"']},commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}}),Ha=Xr.define({parser:Wa.configure({props:[oa,oo.add({FoldableScoreStatement:ao})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"']},commentTokens:{line:"//",block:{open:"/*",close:"*/"}}}}),ja=Ya.data.of({autocomplete:(Ua=["Orchestra"],Ja=function(e){let t=e.map((e=>"string"==typeof e?{label:e}:e)),[s,i]=t.every((e=>/^\w+$/.test(e.label)))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),s=Object.create(null);for(let{label:i}of e){t[i[0]]=!0;for(let e=1;e<i.length;e++)s[i[e]]=!0}let i=xo(t)+xo(s)+"*$";return[new RegExp("^"+i),new RegExp(i)]}(t);return e=>{let n=e.matchBefore(i);return n||e.explicit?{from:n?n.from:e.pos,options:t,validFor:s}:null}}(Object.keys(So)),e=>{for(let t=Zr(e.state).resolveInner(e.pos,-1);t;t=t.parent){if(Ua.indexOf(t.name)>-1)return Ja(e);if(t.type.isTop)break}return null})});var Ua,Ja;function el(e){const{fileType:t="csd"}=e||{};return"orc"===t?(console.log({orcLanguage:Ka}),new io(Ka,[ja,Va,Za(),no.of("  "),ca])):"sco"===t?new io(Ha,[Va,Za(),no.of("  "),ca]):new io(Ya,[ja,Va,Za(),no.of("  "),ca])}var tl=r.y,sl=r.ll,il=r.eR,nl=r.GD;export{tl as csdLanguage,sl as csoundMode,il as orcLanguage,nl as scoLanguage};